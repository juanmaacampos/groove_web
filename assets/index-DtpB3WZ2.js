(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function Q1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var _f={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function F1(){if(ey)return Ll;ey=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Ll.Fragment=e,Ll.jsx=i,Ll.jsxs=i,Ll}var ny;function Y1(){return ny||(ny=1,_f.exports=F1()),_f.exports}var x=Y1(),vf={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function K1(){if(iy)return Tt;iy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),V=Symbol.iterator;function N(C){return C===null||typeof C!="object"?null:(C=V&&C[V]||C["@@iterator"],typeof C=="function"?C:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,it={};function W(C,X,nt){this.props=C,this.context=X,this.refs=it,this.updater=nt||Y}W.prototype.isReactComponent={},W.prototype.setState=function(C,X){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,X,"setState")},W.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function At(){}At.prototype=W.prototype;function dt(C,X,nt){this.props=C,this.context=X,this.refs=it,this.updater=nt||Y}var ct=dt.prototype=new At;ct.constructor=dt,J(ct,W.prototype),ct.isPureReactComponent=!0;var Vt=Array.isArray,yt={H:null,A:null,T:null,S:null,V:null},Dt=Object.prototype.hasOwnProperty;function O(C,X,nt,$,ht,bt){return nt=bt.ref,{$$typeof:a,type:C,key:X,ref:nt!==void 0?nt:null,props:bt}}function S(C,X){return O(C.type,X,void 0,void 0,void 0,C.props)}function b(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function I(C){var X={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(nt){return X[nt]})}var M=/\/+/g;function L(C,X){return typeof C=="object"&&C!==null&&C.key!=null?I(""+C.key):X.toString(36)}function w(){}function xe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(X){C.status==="pending"&&(C.status="fulfilled",C.value=X)},function(X){C.status==="pending"&&(C.status="rejected",C.reason=X)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function re(C,X,nt,$,ht){var bt=typeof C;(bt==="undefined"||bt==="boolean")&&(C=null);var _t=!1;if(C===null)_t=!0;else switch(bt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(C.$$typeof){case a:case e:_t=!0;break;case A:return _t=C._init,re(_t(C._payload),X,nt,$,ht)}}if(_t)return ht=ht(C),_t=$===""?"."+L(C,0):$,Vt(ht)?(nt="",_t!=null&&(nt=_t.replace(M,"$&/")+"/"),re(ht,X,nt,"",function(xn){return xn})):ht!=null&&(b(ht)&&(ht=S(ht,nt+(ht.key==null||C&&C.key===ht.key?"":(""+ht.key).replace(M,"$&/")+"/")+_t)),X.push(ht)),1;_t=0;var Ce=$===""?".":$+":";if(Vt(C))for(var Zt=0;Zt<C.length;Zt++)$=C[Zt],bt=Ce+L($,Zt),_t+=re($,X,nt,bt,ht);else if(Zt=N(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!($=C.next()).done;)$=$.value,bt=Ce+L($,Zt++),_t+=re($,X,nt,bt,ht);else if(bt==="object"){if(typeof C.then=="function")return re(xe(C),X,nt,$,ht);throw X=String(C),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return _t}function H(C,X,nt){if(C==null)return C;var $=[],ht=0;return re(C,$,"","",function(bt){return X.call(nt,bt,ht++)}),$}function et(C){if(C._status===-1){var X=C._result;X=X(),X.then(function(nt){(C._status===0||C._status===-1)&&(C._status=1,C._result=nt)},function(nt){(C._status===0||C._status===-1)&&(C._status=2,C._result=nt)}),C._status===-1&&(C._status=0,C._result=X)}if(C._status===1)return C._result.default;throw C._result}var ot=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Pt(){}return Tt.Children={map:H,forEach:function(C,X,nt){H(C,function(){X.apply(this,arguments)},nt)},count:function(C){var X=0;return H(C,function(){X++}),X},toArray:function(C){return H(C,function(X){return X})||[]},only:function(C){if(!b(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Tt.Component=W,Tt.Fragment=i,Tt.Profiler=o,Tt.PureComponent=dt,Tt.StrictMode=s,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return yt.H.useMemoCache(C)}},Tt.cache=function(C){return function(){return C.apply(null,arguments)}},Tt.cloneElement=function(C,X,nt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var $=J({},C.props),ht=C.key,bt=void 0;if(X!=null)for(_t in X.ref!==void 0&&(bt=void 0),X.key!==void 0&&(ht=""+X.key),X)!Dt.call(X,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&X.ref===void 0||($[_t]=X[_t]);var _t=arguments.length-2;if(_t===1)$.children=nt;else if(1<_t){for(var Ce=Array(_t),Zt=0;Zt<_t;Zt++)Ce[Zt]=arguments[Zt+2];$.children=Ce}return O(C.type,ht,void 0,void 0,bt,$)},Tt.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},Tt.createElement=function(C,X,nt){var $,ht={},bt=null;if(X!=null)for($ in X.key!==void 0&&(bt=""+X.key),X)Dt.call(X,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ht[$]=X[$]);var _t=arguments.length-2;if(_t===1)ht.children=nt;else if(1<_t){for(var Ce=Array(_t),Zt=0;Zt<_t;Zt++)Ce[Zt]=arguments[Zt+2];ht.children=Ce}if(C&&C.defaultProps)for($ in _t=C.defaultProps,_t)ht[$]===void 0&&(ht[$]=_t[$]);return O(C,bt,void 0,void 0,null,ht)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(C){return{$$typeof:g,render:C}},Tt.isValidElement=b,Tt.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:et}},Tt.memo=function(C,X){return{$$typeof:v,type:C,compare:X===void 0?null:X}},Tt.startTransition=function(C){var X=yt.T,nt={};yt.T=nt;try{var $=C(),ht=yt.S;ht!==null&&ht(nt,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Pt,ot)}catch(bt){ot(bt)}finally{yt.T=X}},Tt.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()},Tt.use=function(C){return yt.H.use(C)},Tt.useActionState=function(C,X,nt){return yt.H.useActionState(C,X,nt)},Tt.useCallback=function(C,X){return yt.H.useCallback(C,X)},Tt.useContext=function(C){return yt.H.useContext(C)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(C,X){return yt.H.useDeferredValue(C,X)},Tt.useEffect=function(C,X,nt){var $=yt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(C,X)},Tt.useId=function(){return yt.H.useId()},Tt.useImperativeHandle=function(C,X,nt){return yt.H.useImperativeHandle(C,X,nt)},Tt.useInsertionEffect=function(C,X){return yt.H.useInsertionEffect(C,X)},Tt.useLayoutEffect=function(C,X){return yt.H.useLayoutEffect(C,X)},Tt.useMemo=function(C,X){return yt.H.useMemo(C,X)},Tt.useOptimistic=function(C,X){return yt.H.useOptimistic(C,X)},Tt.useReducer=function(C,X,nt){return yt.H.useReducer(C,X,nt)},Tt.useRef=function(C){return yt.H.useRef(C)},Tt.useState=function(C){return yt.H.useState(C)},Tt.useSyncExternalStore=function(C,X,nt){return yt.H.useSyncExternalStore(C,X,nt)},Tt.useTransition=function(){return yt.H.useTransition()},Tt.version="19.1.1",Tt}var ry;function ad(){return ry||(ry=1,vf.exports=K1()),vf.exports}var pt=ad();const ls=Q1(pt);var Ef={exports:{}},zl={},Tf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function X1(){return sy||(sy=1,function(a){function e(H,et){var ot=H.length;H.push(et);t:for(;0<ot;){var Pt=ot-1>>>1,C=H[Pt];if(0<o(C,et))H[Pt]=et,H[ot]=C,ot=Pt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var et=H[0],ot=H.pop();if(ot!==et){H[0]=ot;t:for(var Pt=0,C=H.length,X=C>>>1;Pt<X;){var nt=2*(Pt+1)-1,$=H[nt],ht=nt+1,bt=H[ht];if(0>o($,ot))ht<C&&0>o(bt,$)?(H[Pt]=bt,H[ht]=ot,Pt=ht):(H[Pt]=$,H[nt]=ot,Pt=nt);else if(ht<C&&0>o(bt,ot))H[Pt]=bt,H[ht]=ot,Pt=ht;else break t}}return et}function o(H,et){var ot=H.sortIndex-et.sortIndex;return ot!==0?ot:H.id-et.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,V=null,N=3,Y=!1,J=!1,it=!1,W=!1,At=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function Vt(H){for(var et=i(v);et!==null;){if(et.callback===null)s(v);else if(et.startTime<=H)s(v),et.sortIndex=et.expirationTime,e(_,et);else break;et=i(v)}}function yt(H){if(it=!1,Vt(H),!J)if(i(_)!==null)J=!0,Dt||(Dt=!0,L());else{var et=i(v);et!==null&&re(yt,et.startTime-H)}}var Dt=!1,O=-1,S=5,b=-1;function I(){return W?!0:!(a.unstable_now()-b<S)}function M(){if(W=!1,Dt){var H=a.unstable_now();b=H;var et=!0;try{t:{J=!1,it&&(it=!1,dt(O),O=-1),Y=!0;var ot=N;try{e:{for(Vt(H),V=i(_);V!==null&&!(V.expirationTime>H&&I());){var Pt=V.callback;if(typeof Pt=="function"){V.callback=null,N=V.priorityLevel;var C=Pt(V.expirationTime<=H);if(H=a.unstable_now(),typeof C=="function"){V.callback=C,Vt(H),et=!0;break e}V===i(_)&&s(_),Vt(H)}else s(_);V=i(_)}if(V!==null)et=!0;else{var X=i(v);X!==null&&re(yt,X.startTime-H),et=!1}}break t}finally{V=null,N=ot,Y=!1}et=void 0}}finally{et?L():Dt=!1}}}var L;if(typeof ct=="function")L=function(){ct(M)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,xe=w.port2;w.port1.onmessage=M,L=function(){xe.postMessage(null)}}else L=function(){At(M,0)};function re(H,et){O=At(function(){H(a.unstable_now())},et)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return N},a.unstable_next=function(H){switch(N){case 1:case 2:case 3:var et=3;break;default:et=N}var ot=N;N=et;try{return H()}finally{N=ot}},a.unstable_requestPaint=function(){W=!0},a.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ot=N;N=H;try{return et()}finally{N=ot}},a.unstable_scheduleCallback=function(H,et,ot){var Pt=a.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Pt+ot:Pt):ot=Pt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ot+C,H={id:A++,callback:et,priorityLevel:H,startTime:ot,expirationTime:C,sortIndex:-1},ot>Pt?(H.sortIndex=ot,e(v,H),i(_)===null&&H===i(v)&&(it?(dt(O),O=-1):it=!0,re(yt,ot-Pt))):(H.sortIndex=C,e(_,H),J||Y||(J=!0,Dt||(Dt=!0,L()))),H},a.unstable_shouldYield=I,a.unstable_wrapCallback=function(H){var et=N;return function(){var ot=N;N=et;try{return H.apply(this,arguments)}finally{N=ot}}}}(Af)),Af}var ay;function Z1(){return ay||(ay=1,Tf.exports=X1()),Tf.exports}var Sf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function $1(){if(ly)return Ge;ly=1;var a=ad();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,A){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:V==null?null:""+V,children:_,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},Ge.flushSync=function(_){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=A,s.d.f()}},Ge.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},Ge.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Ge.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,V=g(A,v.crossOrigin),N=typeof v.integrity=="string"?v.integrity:void 0,Y=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:V,integrity:N,fetchPriority:Y}):A==="script"&&s.d.X(_,{crossOrigin:V,integrity:N,fetchPriority:Y,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ge.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},Ge.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,V=g(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:V,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ge.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},Ge.requestFormReset=function(_){s.d.r(_)},Ge.unstable_batchedUpdates=function(_,v){return _(v)},Ge.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.1",Ge}var oy;function J1(){if(oy)return Sf.exports;oy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Sf.exports=$1(),Sf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function W1(){if(uy)return zl;uy=1;var a=Z1(),e=ad(),i=J1();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),At=Symbol.for("react.provider"),dt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),Vt=Symbol.for("react.forward_ref"),yt=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case W:return"Profiler";case it:return"StrictMode";case yt:return"Suspense";case Dt:return"SuspenseList";case b:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case ct:return(t.displayName||"Context")+".Provider";case dt:return(t._context.displayName||"Context")+".Consumer";case Vt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:xe(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return xe(t(n))}catch{}}return null}var re=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Pt=[],C=-1;function X(t){return{current:t}}function nt(t){0>C||(t.current=Pt[C],Pt[C]=null,C--)}function $(t,n){C++,Pt[C]=t.current,t.current=n}var ht=X(null),bt=X(null),_t=X(null),Ce=X(null);function Zt(t,n){switch($(_t,n),$(bt,t),$(ht,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Np(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Np(n),t=Vp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ht),$(ht,t)}function xn(){nt(ht),nt(bt),nt(_t)}function Ii(t){t.memoizedState!==null&&$(Ce,t);var n=ht.current,r=Vp(n,t.type);n!==r&&($(bt,t),$(ht,r))}function ii(t){bt.current===t&&(nt(ht),nt(bt)),Ce.current===t&&(nt(Ce),Il._currentValue=ot)}var Ar=Object.prototype.hasOwnProperty,Sr=a.unstable_scheduleCallback,br=a.unstable_cancelCallback,Da=a.unstable_shouldYield,so=a.unstable_requestPaint,dn=a.unstable_now,yc=a.unstable_getCurrentPriorityLevel,Na=a.unstable_ImmediatePriority,ds=a.unstable_UserBlockingPriority,Rr=a.unstable_NormalPriority,_c=a.unstable_LowPriority,ms=a.unstable_IdlePriority,Va=a.log,ao=a.unstable_setDisableYieldValue,se=null,kt=null;function rn(t){if(typeof Va=="function"&&ao(t),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(se,t)}catch{}}var ke=Math.clz32?Math.clz32:wr,lo=Math.log,vc=Math.LN2;function wr(t){return t>>>=0,t===0?32:31-(lo(t)/vc|0)|0}var Cr=256,Dr=4194304;function Cn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gs(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Cn(l):(y&=E,y!==0?c=Cn(y):r||(r=E&~t,r!==0&&(c=Cn(r))))):(E=l&~f,E!==0?c=Cn(E):y!==0?c=Cn(y):r||(r=l&~t,r!==0&&(c=Cn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Nr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ia(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ma(){var t=Cr;return Cr<<=1,(Cr&4194048)===0&&(Cr=256),t}function Oa(){var t=Dr;return Dr<<=1,(Dr&62914560)===0&&(Dr=4194304),t}function ri(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function si(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xa(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var G=31-ke(r),F=1<<G;E[G]=0,R[G]=-1;var B=P[G];if(B!==null)for(P[G]=null,G=0;G<B.length;G++){var q=B[G];q!==null&&(q.lane&=-536870913)}r&=~F}l!==0&&Un(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Un(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Ua(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-ke(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Mi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ps(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Oi(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Xp(t.type))}function oo(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var Wt=Math.random().toString(36).slice(2),Te="__reactFiber$"+Wt,de="__reactProps$"+Wt,mn="__reactContainer$"+Wt,La="__reactEvents$"+Wt,Ec="__reactListeners$"+Wt,xi="__reactHandles$"+Wt,uo="__reactResources$"+Wt,Vr="__reactMarker$"+Wt;function Ui(t){delete t[Te],delete t[de],delete t[La],delete t[Ec],delete t[xi]}function ai(t){var n=t[Te];if(n)return n;for(var r=t.parentNode;r;){if(n=r[mn]||r[Te]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=xp(t);t!==null;){if(r=t[Te])return r;t=xp(t)}return n}t=r,r=t.parentNode}return null}function Ln(t){if(t=t[Te]||t[mn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Xe(t){var n=t[uo];return n||(n=t[uo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function oe(t){t[Vr]=!0}var za=new Set,ys={};function Dn(t,n){li(t,n),li(t+"Capture",n)}function li(t,n){for(ys[t]=n,t=0;t<n.length;t++)za.add(n[t])}var co=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ho={},Ir={};function fo(t){return Ar.call(Ir,t)?!0:Ar.call(ho,t)?!1:co.test(t)?Ir[t]=!0:(ho[t]=!0,!1)}function Li(t,n,r){if(fo(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function jn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ue(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Mr,mo;function oi(t){if(Mr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Mr=n&&n[1]||"",mo=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mr+t+mo}var _s=!1;function vs(t,n){if(!t||_s)return"";_s=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var B=q}Reflect.construct(t,[],F)}else{try{F.call()}catch(q){B=q}t.call(F.prototype)}}else{try{throw Error()}catch(q){B=q}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),P=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===P.length)for(l=R.length-1,c=P.length-1;1<=l&&0<=c&&R[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==P[c]){var G=`
`+R[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{_s=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?oi(r):""}function ja(t){switch(t.tag){case 26:case 27:case 5:return oi(t.type);case 16:return oi("Lazy");case 13:return oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return vs(t.type,!1);case 11:return vs(t.type.render,!1);case 1:return vs(t.type,!0);case 31:return oi("Activity");default:return""}}function Es(t){try{var n="";do n+=ja(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pa(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Tc(t){var n=Pa(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ts(t){t._valueTracker||(t._valueTracker=Tc(t))}function Ba(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Pa(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Or(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ac=/[\n"\\]/g;function me(t){return t.replace(Ac,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ze(n)):t.value!==""+Ze(n)&&(t.value=""+Ze(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?zi(t,y,Ze(n)):r!=null?zi(t,y,Ze(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ze(E):t.removeAttribute("name")}function xr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ze(r):"",n=n!=null?""+Ze(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function zi(t,n,r){n==="number"&&Or(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ui(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ze(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Ze(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ze(r):""}function Ur(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(re(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ze(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Lr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function go(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Lr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function qa(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&go(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&go(t,f,n[f])}function ka(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function As(t){return bc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ci=null;function pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,fi=null;function Ha(t){var n=Ln(t);if(n&&(t=n.stateNode)){var r=t[de]||null;t:switch(t=n.stateNode,n.type){case"input":if(sn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+me(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[de]||null;if(!c)throw Error(s(90));sn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ba(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ui(t,!!r.multiple,n,!1)}}}var Pn=!1;function po(t,n,r){if(Pn)return t(n,r);Pn=!0;try{var l=t(n);return l}finally{if(Pn=!1,(hi!==null||fi!==null)&&(uu(),hi&&(n=hi,t=fi,fi=hi=null,Ha(n),t)))for(n=0;n<t.length;n++)Ha(t[n])}}function zr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[de]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yn=!1;if(Nn)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){yn=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{yn=!1}var Bn=null,ji=null,di=null;function Ga(){if(di)return di;var t,n=ji,r=n.length,l,c="value"in Bn?Bn.value:Bn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return di=c.slice(t,1<l?1-l:void 0)}function qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function kn(){return!0}function Qa(){return!1}function De(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?kn:Qa,this.isPropagationStopped=Qa,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kn)},persist:function(){},isPersistent:kn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ss=De(qt),Pr=A({},qt,{view:0,detail:0}),yo=De(Pr),bs,Rs,Hn,Br=A({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hn&&(Hn&&t.type==="mousemove"?(bs=t.screenX-Hn.screenX,Rs=t.screenY-Hn.screenY):Rs=bs=0,Hn=t),bs)},movementY:function(t){return"movementY"in t?t.movementY:Rs}}),_n=De(Br),_o=A({},Br,{dataTransfer:0}),Rc=De(_o),qr=A({},Pr,{relatedTarget:0}),ws=De(qr),Fa=A({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Cs=De(Fa),vo=A({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ds=De(vo),wc=A({},qt,{data:0}),Ya=De(wc),kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},To={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ka(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=To[t])?!!n[t]:!1}function Hr(){return Ka}var Ao=A({},Pr,{key:function(t){if(t.key){var n=kr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(t){return t.type==="keypress"?qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ns=De(Ao),So=A({},Br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xa=De(So),mi=A({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),bo=De(mi),Ro=A({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),wo=De(Ro),Co=A({},Br,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vs=De(Co),$e=A({},qt,{newState:0,oldState:0}),Do=De($e),No=[9,13,27,32],Gn=Nn&&"CompositionEvent"in window,u=null;Nn&&"documentMode"in document&&(u=document.documentMode);var m=Nn&&"TextEvent"in window&&!u,p=Nn&&(!Gn||u&&8<u&&11>=u),T=" ",z=!1;function k(t,n){switch(t){case"keyup":return No.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var It=!1;function Ae(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(z=!0,T);case"textInput":return t=n.data,t===T&&z?null:t;default:return null}}function Mt(t,n){if(It)return t==="compositionend"||!Gn&&k(t,n)?(t=Ga(),di=ji=Bn=null,It=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ne[t.type]:n==="textarea"}function gi(t,n,r,l){hi?fi?fi.push(l):fi=[l]:hi=l,n=gu(n,"onChange"),0<n.length&&(r=new Ss("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Le=null,Qn=null;function Za(t){bp(t,0)}function Vo(t){var n=zn(t);if(Ba(n))return t}function Qd(t,n){if(t==="change")return n}var Fd=!1;if(Nn){var Cc;if(Nn){var Dc="oninput"in document;if(!Dc){var Yd=document.createElement("div");Yd.setAttribute("oninput","return;"),Dc=typeof Yd.oninput=="function"}Cc=Dc}else Cc=!1;Fd=Cc&&(!document.documentMode||9<document.documentMode)}function Kd(){Le&&(Le.detachEvent("onpropertychange",Xd),Qn=Le=null)}function Xd(t){if(t.propertyName==="value"&&Vo(Qn)){var n=[];gi(n,Qn,t,pn(t)),po(Za,n)}}function T0(t,n,r){t==="focusin"?(Kd(),Le=n,Qn=r,Le.attachEvent("onpropertychange",Xd)):t==="focusout"&&Kd()}function A0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vo(Qn)}function S0(t,n){if(t==="click")return Vo(n)}function b0(t,n){if(t==="input"||t==="change")return Vo(n)}function R0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:R0;function $a(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Ar.call(n,c)||!an(t[c],n[c]))return!1}return!0}function Zd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $d(t,n){var r=Zd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Zd(r)}}function Jd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Jd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Wd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Or(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Or(t.document)}return n}function Nc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var w0=Nn&&"documentMode"in document&&11>=document.documentMode,Is=null,Vc=null,Ja=null,Ic=!1;function tm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ic||Is==null||Is!==Or(l)||(l=Is,"selectionStart"in l&&Nc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ja&&$a(Ja,l)||(Ja=l,l=gu(Vc,"onSelect"),0<l.length&&(n=new Ss("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Is)))}function Gr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ms={animationend:Gr("Animation","AnimationEnd"),animationiteration:Gr("Animation","AnimationIteration"),animationstart:Gr("Animation","AnimationStart"),transitionrun:Gr("Transition","TransitionRun"),transitionstart:Gr("Transition","TransitionStart"),transitioncancel:Gr("Transition","TransitionCancel"),transitionend:Gr("Transition","TransitionEnd")},Mc={},em={};Nn&&(em=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function Qr(t){if(Mc[t])return Mc[t];if(!Ms[t])return t;var n=Ms[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in em)return Mc[t]=n[r];return t}var nm=Qr("animationend"),im=Qr("animationiteration"),rm=Qr("animationstart"),C0=Qr("transitionrun"),D0=Qr("transitionstart"),N0=Qr("transitioncancel"),sm=Qr("transitionend"),am=new Map,Oc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oc.push("scrollEnd");function Vn(t,n){am.set(t,n),Dn(n,[t])}var lm=new WeakMap;function vn(t,n){if(typeof t=="object"&&t!==null){var r=lm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Es(n)},lm.set(t,n),n)}return{value:t,source:n,stack:Es(n)}}var En=[],Os=0,xc=0;function Io(){for(var t=Os,n=xc=Os=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&om(r,c,f)}}function Mo(t,n,r,l){En[Os++]=t,En[Os++]=n,En[Os++]=r,En[Os++]=l,xc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Uc(t,n,r,l){return Mo(t,n,r,l),Oo(t)}function xs(t,n){return Mo(t,null,null,n),Oo(t)}function om(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ke(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Oo(t){if(50<Sl)throw Sl=0,qh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Us={};function V0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,n,r,l){return new V0(t,n,r,l)}function Lc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pi(t,n){var r=t.alternate;return r===null?(r=ln(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function um(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function xo(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Lc(t)&&(y=1);else if(typeof t=="string")y=M1(t,r,ht.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case b:return t=ln(31,r,n,c),t.elementType=b,t.lanes=f,t;case J:return Fr(r.children,c,f,n);case it:y=8,c|=24;break;case W:return t=ln(12,r,n,c|2),t.elementType=W,t.lanes=f,t;case yt:return t=ln(13,r,n,c),t.elementType=yt,t.lanes=f,t;case Dt:return t=ln(19,r,n,c),t.elementType=Dt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case At:case ct:y=10;break t;case dt:y=9;break t;case Vt:y=11;break t;case O:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=ln(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Fr(t,n,r,l){return t=ln(7,t,l,n),t.lanes=r,t}function zc(t,n,r){return t=ln(6,t,null,n),t.lanes=r,t}function jc(t,n,r){return n=ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ls=[],zs=0,Uo=null,Lo=0,Tn=[],An=0,Yr=null,yi=1,_i="";function Kr(t,n){Ls[zs++]=Lo,Ls[zs++]=Uo,Uo=t,Lo=n}function cm(t,n,r){Tn[An++]=yi,Tn[An++]=_i,Tn[An++]=Yr,Yr=t;var l=yi;t=_i;var c=32-ke(l)-1;l&=~(1<<c),r+=1;var f=32-ke(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,yi=1<<32-ke(n)+c|r<<c|l,_i=f+t}else yi=1<<f|r<<c|l,_i=t}function Pc(t){t.return!==null&&(Kr(t,1),cm(t,1,0))}function Bc(t){for(;t===Uo;)Uo=Ls[--zs],Ls[zs]=null,Lo=Ls[--zs],Ls[zs]=null;for(;t===Yr;)Yr=Tn[--An],Tn[An]=null,_i=Tn[--An],Tn[An]=null,yi=Tn[--An],Tn[An]=null}var Je=null,ae=null,Bt=!1,Xr=null,Fn=!1,qc=Error(s(519));function Zr(t){var n=Error(s(418,""));throw el(vn(n,t)),qc}function hm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Te]=t,n[de]=l,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<Rl.length;r++)Ct(Rl[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),xr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ts(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Ur(n,l.value,l.defaultValue,l.children),Ts(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Dp(n.textContent,r)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=pu),n=!0):n=!1,n||Zr(t)}function fm(t){for(Je=t.return;Je;)switch(Je.tag){case 5:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Je=Je.return}}function Wa(t){if(t!==Je)return!1;if(!Bt)return fm(t),Bt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||rf(t.type,t.memoizedProps)),r=!r),r&&ae&&Zr(t),fm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ae=Mn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,tr(t.type)?(t=of,of=null,ae=t):ae=n):ae=Je?Mn(t.stateNode.nextSibling):null;return!0}function tl(){ae=Je=null,Bt=!1}function dm(){var t=Xr;return t!==null&&(en===null?en=t:en.push.apply(en,t),Xr=null),t}function el(t){Xr===null?Xr=[t]:Xr.push(t)}var kc=X(null),$r=null,vi=null;function Pi(t,n,r){$(kc,n._currentValue),n._currentValue=r}function Ei(t){t._currentValue=kc.current,nt(kc)}function Hc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Gc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Hc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Hc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function nl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;an(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ce.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}c=c.return}t!==null&&Gc(n,t,r,l),n.flags|=262144}function zo(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Jr(t){$r=t,vi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return mm($r,t)}function jo(t,n){return $r===null&&Jr(t),mm(t,n)}function mm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},vi===null){if(t===null)throw Error(s(308));vi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else vi=vi.next=n;return r}var I0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},M0=a.unstable_scheduleCallback,O0=a.unstable_NormalPriority,be={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qc(){return{controller:new I0,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&M0(O0,function(){t.controller.abort()})}var rl=null,Fc=0,js=0,Ps=null;function x0(t,n){if(rl===null){var r=rl=[];Fc=0,js=Kh(),Ps={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Fc++,n.then(gm,gm),n}function gm(){if(--Fc===0&&rl!==null){Ps!==null&&(Ps.status="fulfilled");var t=rl;rl=null,js=0,Ps=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function U0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var pm=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&x0(t,n),pm!==null&&pm(t,n)};var Wr=X(null);function Yc(){var t=Wr.current;return t!==null?t:$t.pooledCache}function Po(t,n){n===null?$(Wr,Wr.current):$(Wr,n.pool)}function ym(){var t=Yc();return t===null?null:{parent:be._currentValue,pool:t}}var sl=Error(s(460)),_m=Error(s(474)),Bo=Error(s(542)),Kc={then:function(){}};function vm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qo(){}function Em(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(qo,qo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Am(t),t;default:if(typeof n.status=="string")n.then(qo,qo);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Am(t),t}throw al=n,sl}}var al=null;function Tm(){if(al===null)throw Error(s(459));var t=al;return al=null,t}function Am(t){if(t===sl||t===Bo)throw Error(s(483))}var Bi=!1;function Xc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ki(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Oo(t),om(t,null,r),n}return Mo(t,l,n,r),Oo(t)}function ll(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ua(t,r)}}function $c(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Jc=!1;function ol(){if(Jc){var t=Ps;if(t!==null)throw t}}function ul(t,n,r,l){Jc=!1;var c=t.updateQueue;Bi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,P=R.next;R.next=null,y===null?f=P:y.next=P,y=R;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=R))}if(f!==null){var F=c.baseState;y=0,G=P=R=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Ot&B)===B:(l&B)===B){B!==0&&B===js&&(Jc=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var gt=t,ft=E;B=n;var Kt=r;switch(ft.tag){case 1:if(gt=ft.payload,typeof gt=="function"){F=gt.call(Kt,F,B);break t}F=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ft.payload,B=typeof gt=="function"?gt.call(Kt,F,B):gt,B==null)break t;F=A({},F,B);break t;case 2:Bi=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=q,R=F):G=G.next=q,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);G===null&&(R=F),c.baseState=R,c.firstBaseUpdate=P,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),Zi|=y,t.lanes=y,t.memoizedState=F}}function Sm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function bm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Sm(r[t],n)}var Bs=X(null),ko=X(0);function Rm(t,n){t=Ci,$(ko,t),$(Bs,n),Ci=t|n.baseLanes}function Wc(){$(ko,Ci),$(Bs,Bs.current)}function th(){Ci=ko.current,nt(Bs),nt(ko)}var Hi=0,St=null,Ft=null,ge=null,Ho=!1,qs=!1,ts=!1,Go=0,cl=0,ks=null,L0=0;function ue(){throw Error(s(321))}function eh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!an(t[r],n[r]))return!1;return!0}function nh(t,n,r,l,c,f){return Hi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?og:ug,ts=!1,f=r(l,c),ts=!1,qs&&(f=Cm(n,r,l,c)),wm(t),f}function wm(t){H.H=Zo;var n=Ft!==null&&Ft.next!==null;if(Hi=0,ge=Ft=St=null,Ho=!1,cl=0,ks=null,n)throw Error(s(300));t===null||Ve||(t=t.dependencies,t!==null&&zo(t)&&(Ve=!0))}function Cm(t,n,r,l){St=t;var c=0;do{if(qs&&(ks=null),cl=0,qs=!1,25<=c)throw Error(s(301));if(c+=1,ge=Ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=H0,f=n(r,l)}while(qs);return f}function z0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?hl(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(St.flags|=1024),n}function ih(){var t=Go!==0;return Go=0,t}function rh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function sh(t){if(Ho){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ho=!1}Hi=0,ge=Ft=St=null,qs=!1,cl=Go=0,ks=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?St.memoizedState=ge=t:ge=ge.next=t,ge}function pe(){if(Ft===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=ge===null?St.memoizedState:ge.next;if(n!==null)ge=n,Ft=t;else{if(t===null)throw St.alternate===null?Error(s(467)):Error(s(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},ge===null?St.memoizedState=ge=t:ge=ge.next=t}return ge}function ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var n=cl;return cl+=1,ks===null&&(ks=[]),t=Em(ks,t,n),n=St,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?og:ug),t}function Qo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===ct)return He(t)}throw Error(s(438,String(t)))}function lh(t){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ah(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=I;return n.index++,r}function Ti(t,n){return typeof n=="function"?n(t):n}function Fo(t){var n=pe();return oh(n,Ft,t)}function oh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,R=null,P=n,G=!1;do{var F=P.lane&-536870913;if(F!==P.lane?(Ot&F)===F:(Hi&F)===F){var B=P.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),F===js&&(G=!0);else if((Hi&B)===B){P=P.next,B===js&&(G=!0);continue}else F={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=F,y=f):R=R.next=F,St.lanes|=B,Zi|=B;F=P.action,ts&&r(f,F),f=P.hasEagerState?P.eagerState:r(f,F)}else B={lane:F,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=B,y=f):R=R.next=B,St.lanes|=F,Zi|=F;P=P.next}while(P!==null&&P!==n);if(R===null?y=f:R.next=E,!an(f,t.memoizedState)&&(Ve=!0,G&&(r=Ps,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function uh(t){var n=pe(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);an(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Dm(t,n,r){var l=St,c=pe(),f=Bt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var y=!an((Ft||c).memoizedState,r);y&&(c.memoizedState=r,Ve=!0),c=c.queue;var E=Im.bind(null,l,c,t);if(fl(2048,8,E,[t]),c.getSnapshot!==n||y||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,Hs(9,Yo(),Vm.bind(null,l,c,r,n),null),$t===null)throw Error(s(349));f||(Hi&124)!==0||Nm(l,n,r)}return r}function Nm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=ah(),St.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Vm(t,n,r,l){n.value=r,n.getSnapshot=l,Mm(n)&&Om(t)}function Im(t,n,r){return r(function(){Mm(n)&&Om(t)})}function Mm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!an(t,r)}catch{return!0}}function Om(t){var n=xs(t,2);n!==null&&fn(n,t,2)}function ch(t){var n=We();if(typeof t=="function"){var r=t;if(t=r(),ts){rn(!0);try{r()}finally{rn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:t},n}function xm(t,n,r,l){return t.baseState=r,oh(t,Ft,typeof l=="function"?l:Ti)}function j0(t,n,r,l,c){if(Xo(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Um(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Um(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=r(c,l),R=H.S;R!==null&&R(y,E),Lm(t,n,E)}catch(P){hh(t,n,P)}finally{H.T=f}}else try{f=r(c,l),Lm(t,n,f)}catch(P){hh(t,n,P)}}function Lm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){zm(t,n,l)},function(l){return hh(t,n,l)}):zm(t,n,r)}function zm(t,n,r){n.status="fulfilled",n.value=r,jm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Um(t,r)))}function hh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,jm(n),n=n.next;while(n!==l)}t.action=null}function jm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Pm(t,n){return n}function Bm(t,n){if(Bt){var r=$t.formState;if(r!==null){t:{var l=St;if(Bt){if(ae){e:{for(var c=ae,f=Fn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Mn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=Mn(c.nextSibling),l=c.data==="F!";break t}}Zr(l)}l=!1}l&&(n=r[0])}}return r=We(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pm,lastRenderedState:n},r.queue=l,r=sg.bind(null,St,l),l.dispatch=r,l=ch(!1),f=ph.bind(null,St,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=j0.bind(null,St,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function qm(t){var n=pe();return km(n,Ft,t)}function km(t,n,r){if(n=oh(t,n,Pm)[0],t=Fo(Ti)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=hl(n)}catch(y){throw y===sl?Bo:y}else l=n;n=pe();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(St.flags|=2048,Hs(9,Yo(),P0.bind(null,c,r),null)),[l,f,t]}function P0(t,n){t.action=n}function Hm(t){var n=pe(),r=Ft;if(r!==null)return km(n,r,t);pe(),n=n.memoizedState,r=pe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Hs(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=ah(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Yo(){return{destroy:void 0,resource:void 0}}function Gm(){return pe().memoizedState}function Ko(t,n,r,l){var c=We();l=l===void 0?null:l,St.flags|=t,c.memoizedState=Hs(1|n,Yo(),r,l)}function fl(t,n,r,l){var c=pe();l=l===void 0?null:l;var f=c.memoizedState.inst;Ft!==null&&l!==null&&eh(l,Ft.memoizedState.deps)?c.memoizedState=Hs(n,f,r,l):(St.flags|=t,c.memoizedState=Hs(1|n,f,r,l))}function Qm(t,n){Ko(8390656,8,t,n)}function Fm(t,n){fl(2048,8,t,n)}function Ym(t,n){return fl(4,2,t,n)}function Km(t,n){return fl(4,4,t,n)}function Xm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Zm(t,n,r){r=r!=null?r.concat([t]):null,fl(4,4,Xm.bind(null,n,t),r)}function fh(){}function $m(t,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&eh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Jm(t,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&eh(n,l[1]))return l[0];if(l=t(),ts){rn(!0);try{t()}finally{rn(!1)}}return r.memoizedState=[l,n],l}function dh(t,n,r){return r===void 0||(Hi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=ep(),St.lanes|=t,Zi|=t,r)}function Wm(t,n,r,l){return an(r,n)?r:Bs.current!==null?(t=dh(t,r,l),an(t,n)||(Ve=!0),t):(Hi&42)===0?(Ve=!0,t.memoizedState=r):(t=ep(),St.lanes|=t,Zi|=t,n)}function tg(t,n,r,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,ph(t,!1,n,r);try{var R=c(),P=H.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=U0(R,l);dl(t,n,G,hn(t))}else dl(t,n,l,hn(t))}catch(F){dl(t,n,{then:function(){},status:"rejected",reason:F},hn())}finally{et.p=f,H.T=y}}function B0(){}function mh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=eg(t).queue;tg(t,c,n,ot,r===null?B0:function(){return ng(t),r(l)})}function eg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:ot},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ng(t){var n=eg(t).next.queue;dl(t,n,{},hn())}function gh(){return He(Il)}function ig(){return pe().memoizedState}function rg(){return pe().memoizedState}function q0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();t=qi(r);var l=ki(n,t,r);l!==null&&(fn(l,n,r),ll(l,n,r)),n={cache:Qc()},t.payload=n;return}n=n.return}}function k0(t,n,r){var l=hn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Xo(t)?ag(n,r):(r=Uc(t,n,r,l),r!==null&&(fn(r,t,l),lg(r,n,l)))}function sg(t,n,r){var l=hn();dl(t,n,r,l)}function dl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Xo(t))ag(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,an(E,y))return Mo(t,n,c,0),$t===null&&Io(),!1}catch{}finally{}if(r=Uc(t,n,c,l),r!==null)return fn(r,t,l),lg(r,n,l),!0}return!1}function ph(t,n,r,l){if(l={lane:2,revertLane:Kh(),action:l,hasEagerState:!1,eagerState:null,next:null},Xo(t)){if(n)throw Error(s(479))}else n=Uc(t,r,l,2),n!==null&&fn(n,t,2)}function Xo(t){var n=t.alternate;return t===St||n!==null&&n===St}function ag(t,n){qs=Ho=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function lg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ua(t,r)}}var Zo={readContext:He,use:Qo,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},og={readContext:He,use:Qo,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:Qm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Ko(4194308,4,Xm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Ko(4194308,4,t,n)},useInsertionEffect:function(t,n){Ko(4,2,t,n)},useMemo:function(t,n){var r=We();n=n===void 0?null:n;var l=t();if(ts){rn(!0);try{t()}finally{rn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=We();if(r!==void 0){var c=r(n);if(ts){rn(!0);try{r(n)}finally{rn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=k0.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=ch(t);var n=t.queue,r=sg.bind(null,St,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:fh,useDeferredValue:function(t,n){var r=We();return dh(r,t,n)},useTransition:function(){var t=ch(!1);return t=tg.bind(null,St,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=St,c=We();if(Bt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),$t===null)throw Error(s(349));(Ot&124)!==0||Nm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Qm(Im.bind(null,l,f,t),[t]),l.flags|=2048,Hs(9,Yo(),Vm.bind(null,l,f,r,n),null),r},useId:function(){var t=We(),n=$t.identifierPrefix;if(Bt){var r=_i,l=yi;r=(l&~(1<<32-ke(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=Go++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=L0++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:gh,useFormState:Bm,useActionState:Bm,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=ph.bind(null,St,!0,r),r.dispatch=n,[t,n]},useMemoCache:lh,useCacheRefresh:function(){return We().memoizedState=q0.bind(null,St)}},ug={readContext:He,use:Qo,useCallback:$m,useContext:He,useEffect:Fm,useImperativeHandle:Zm,useInsertionEffect:Ym,useLayoutEffect:Km,useMemo:Jm,useReducer:Fo,useRef:Gm,useState:function(){return Fo(Ti)},useDebugValue:fh,useDeferredValue:function(t,n){var r=pe();return Wm(r,Ft.memoizedState,t,n)},useTransition:function(){var t=Fo(Ti)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:Dm,useId:ig,useHostTransitionStatus:gh,useFormState:qm,useActionState:qm,useOptimistic:function(t,n){var r=pe();return xm(r,Ft,t,n)},useMemoCache:lh,useCacheRefresh:rg},H0={readContext:He,use:Qo,useCallback:$m,useContext:He,useEffect:Fm,useImperativeHandle:Zm,useInsertionEffect:Ym,useLayoutEffect:Km,useMemo:Jm,useReducer:uh,useRef:Gm,useState:function(){return uh(Ti)},useDebugValue:fh,useDeferredValue:function(t,n){var r=pe();return Ft===null?dh(r,t,n):Wm(r,Ft.memoizedState,t,n)},useTransition:function(){var t=uh(Ti)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:Dm,useId:ig,useHostTransitionStatus:gh,useFormState:Hm,useActionState:Hm,useOptimistic:function(t,n){var r=pe();return Ft!==null?xm(r,Ft,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:lh,useCacheRefresh:rg},Gs=null,ml=0;function $o(t){var n=ml;return ml+=1,Gs===null&&(Gs=[]),Em(Gs,t,n)}function gl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Jo(t,n){throw n.$$typeof===V?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function cg(t){var n=t._init;return n(t._payload)}function hg(t){function n(U,D){if(t){var j=U.deletions;j===null?(U.deletions=[D],U.flags|=16):j.push(D)}}function r(U,D){if(!t)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function l(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function c(U,D){return U=pi(U,D),U.index=0,U.sibling=null,U}function f(U,D,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<D?(U.flags|=67108866,D):j):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,j,Q){return D===null||D.tag!==6?(D=zc(j,U.mode,Q),D.return=U,D):(D=c(D,j),D.return=U,D)}function R(U,D,j,Q){var at=j.type;return at===J?G(U,D,j.props.children,Q,j.key):D!==null&&(D.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&cg(at)===D.type)?(D=c(D,j.props),gl(D,j),D.return=U,D):(D=xo(j.type,j.key,j.props,null,U.mode,Q),gl(D,j),D.return=U,D)}function P(U,D,j,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=jc(j,U.mode,Q),D.return=U,D):(D=c(D,j.children||[]),D.return=U,D)}function G(U,D,j,Q,at){return D===null||D.tag!==7?(D=Fr(j,U.mode,Q,at),D.return=U,D):(D=c(D,j),D.return=U,D)}function F(U,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=zc(""+D,U.mode,j),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case N:return j=xo(D.type,D.key,D.props,null,U.mode,j),gl(j,D),j.return=U,j;case Y:return D=jc(D,U.mode,j),D.return=U,D;case S:var Q=D._init;return D=Q(D._payload),F(U,D,j)}if(re(D)||L(D))return D=Fr(D,U.mode,j,null),D.return=U,D;if(typeof D.then=="function")return F(U,$o(D),j);if(D.$$typeof===ct)return F(U,jo(U,D),j);Jo(U,D)}return null}function B(U,D,j,Q){var at=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return at!==null?null:E(U,D,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case N:return j.key===at?R(U,D,j,Q):null;case Y:return j.key===at?P(U,D,j,Q):null;case S:return at=j._init,j=at(j._payload),B(U,D,j,Q)}if(re(j)||L(j))return at!==null?null:G(U,D,j,Q,null);if(typeof j.then=="function")return B(U,D,$o(j),Q);if(j.$$typeof===ct)return B(U,D,jo(U,j),Q);Jo(U,j)}return null}function q(U,D,j,Q,at){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(j)||null,E(D,U,""+Q,at);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case N:return U=U.get(Q.key===null?j:Q.key)||null,R(D,U,Q,at);case Y:return U=U.get(Q.key===null?j:Q.key)||null,P(D,U,Q,at);case S:var Rt=Q._init;return Q=Rt(Q._payload),q(U,D,j,Q,at)}if(re(Q)||L(Q))return U=U.get(j)||null,G(D,U,Q,at,null);if(typeof Q.then=="function")return q(U,D,j,$o(Q),at);if(Q.$$typeof===ct)return q(U,D,j,jo(D,Q),at);Jo(D,Q)}return null}function gt(U,D,j,Q){for(var at=null,Rt=null,lt=D,mt=D=0,Me=null;lt!==null&&mt<j.length;mt++){lt.index>mt?(Me=lt,lt=null):Me=lt.sibling;var jt=B(U,lt,j[mt],Q);if(jt===null){lt===null&&(lt=Me);break}t&&lt&&jt.alternate===null&&n(U,lt),D=f(jt,D,mt),Rt===null?at=jt:Rt.sibling=jt,Rt=jt,lt=Me}if(mt===j.length)return r(U,lt),Bt&&Kr(U,mt),at;if(lt===null){for(;mt<j.length;mt++)lt=F(U,j[mt],Q),lt!==null&&(D=f(lt,D,mt),Rt===null?at=lt:Rt.sibling=lt,Rt=lt);return Bt&&Kr(U,mt),at}for(lt=l(lt);mt<j.length;mt++)Me=q(lt,U,mt,j[mt],Q),Me!==null&&(t&&Me.alternate!==null&&lt.delete(Me.key===null?mt:Me.key),D=f(Me,D,mt),Rt===null?at=Me:Rt.sibling=Me,Rt=Me);return t&&lt.forEach(function(sr){return n(U,sr)}),Bt&&Kr(U,mt),at}function ft(U,D,j,Q){if(j==null)throw Error(s(151));for(var at=null,Rt=null,lt=D,mt=D=0,Me=null,jt=j.next();lt!==null&&!jt.done;mt++,jt=j.next()){lt.index>mt?(Me=lt,lt=null):Me=lt.sibling;var sr=B(U,lt,jt.value,Q);if(sr===null){lt===null&&(lt=Me);break}t&&lt&&sr.alternate===null&&n(U,lt),D=f(sr,D,mt),Rt===null?at=sr:Rt.sibling=sr,Rt=sr,lt=Me}if(jt.done)return r(U,lt),Bt&&Kr(U,mt),at;if(lt===null){for(;!jt.done;mt++,jt=j.next())jt=F(U,jt.value,Q),jt!==null&&(D=f(jt,D,mt),Rt===null?at=jt:Rt.sibling=jt,Rt=jt);return Bt&&Kr(U,mt),at}for(lt=l(lt);!jt.done;mt++,jt=j.next())jt=q(lt,U,mt,jt.value,Q),jt!==null&&(t&&jt.alternate!==null&&lt.delete(jt.key===null?mt:jt.key),D=f(jt,D,mt),Rt===null?at=jt:Rt.sibling=jt,Rt=jt);return t&&lt.forEach(function(G1){return n(U,G1)}),Bt&&Kr(U,mt),at}function Kt(U,D,j,Q){if(typeof j=="object"&&j!==null&&j.type===J&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case N:t:{for(var at=j.key;D!==null;){if(D.key===at){if(at=j.type,at===J){if(D.tag===7){r(U,D.sibling),Q=c(D,j.props.children),Q.return=U,U=Q;break t}}else if(D.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&cg(at)===D.type){r(U,D.sibling),Q=c(D,j.props),gl(Q,j),Q.return=U,U=Q;break t}r(U,D);break}else n(U,D);D=D.sibling}j.type===J?(Q=Fr(j.props.children,U.mode,Q,j.key),Q.return=U,U=Q):(Q=xo(j.type,j.key,j.props,null,U.mode,Q),gl(Q,j),Q.return=U,U=Q)}return y(U);case Y:t:{for(at=j.key;D!==null;){if(D.key===at)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){r(U,D.sibling),Q=c(D,j.children||[]),Q.return=U,U=Q;break t}else{r(U,D);break}else n(U,D);D=D.sibling}Q=jc(j,U.mode,Q),Q.return=U,U=Q}return y(U);case S:return at=j._init,j=at(j._payload),Kt(U,D,j,Q)}if(re(j))return gt(U,D,j,Q);if(L(j)){if(at=L(j),typeof at!="function")throw Error(s(150));return j=at.call(j),ft(U,D,j,Q)}if(typeof j.then=="function")return Kt(U,D,$o(j),Q);if(j.$$typeof===ct)return Kt(U,D,jo(U,j),Q);Jo(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,D!==null&&D.tag===6?(r(U,D.sibling),Q=c(D,j),Q.return=U,U=Q):(r(U,D),Q=zc(j,U.mode,Q),Q.return=U,U=Q),y(U)):r(U,D)}return function(U,D,j,Q){try{ml=0;var at=Kt(U,D,j,Q);return Gs=null,at}catch(lt){if(lt===sl||lt===Bo)throw lt;var Rt=ln(29,lt,null,U.mode);return Rt.lanes=Q,Rt.return=U,Rt}finally{}}}var Qs=hg(!0),fg=hg(!1),Sn=X(null),Yn=null;function Gi(t){var n=t.alternate;$(Re,Re.current&1),$(Sn,t),Yn===null&&(n===null||Bs.current!==null||n.memoizedState!==null)&&(Yn=t)}function dg(t){if(t.tag===22){if($(Re,Re.current),$(Sn,t),Yn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Yn=t)}}else Qi()}function Qi(){$(Re,Re.current),$(Sn,Sn.current)}function Ai(t){nt(Sn),Yn===t&&(Yn=null),nt(Re)}var Re=X(0);function Wo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||lf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function yh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var _h={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=hn(),c=qi(l);c.payload=n,r!=null&&(c.callback=r),n=ki(t,c,l),n!==null&&(fn(n,t,l),ll(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=hn(),c=qi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=ki(t,c,l),n!==null&&(fn(n,t,l),ll(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=hn(),l=qi(r);l.tag=2,n!=null&&(l.callback=n),n=ki(t,l,r),n!==null&&(fn(n,t,r),ll(n,t,r))}};function mg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!$a(r,l)||!$a(c,f):!0}function gg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&_h.enqueueReplaceState(n,n.state,null)}function es(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var tu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function pg(t){tu(t)}function yg(t){console.error(t)}function _g(t){tu(t)}function eu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function vg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function vh(t,n,r){return r=qi(r),r.tag=3,r.payload={element:null},r.callback=function(){eu(t,n)},r}function Eg(t){return t=qi(t),t.tag=3,t}function Tg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){vg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){vg(n,r,l),typeof c!="function"&&($i===null?$i=new Set([this]):$i.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function G0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&nl(n,r,c,!0),r=Sn.current,r!==null){switch(r.tag){case 13:return Yn===null?Hh():r.alternate===null&&le===0&&(le=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Kc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Qh(t,l,c)),!1;case 22:return r.flags|=65536,l===Kc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Qh(t,l,c)),!1}throw Error(s(435,r.tag))}return Qh(t,l,c),Hh(),!1}if(Bt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==qc&&(t=Error(s(422),{cause:l}),el(vn(t,r)))):(l!==qc&&(n=Error(s(423),{cause:l}),el(vn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=vn(l,r),c=vh(t.stateNode,l,c),$c(t,c),le!==4&&(le=2)),!1;var f=Error(s(520),{cause:l});if(f=vn(f,r),Al===null?Al=[f]:Al.push(f),le!==4&&(le=2),n===null)return!0;l=vn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=vh(r.stateNode,l,t),$c(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($i===null||!$i.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Eg(c),Tg(c,t,r,l),$c(r,c),!1}r=r.return}while(r!==null);return!1}var Ag=Error(s(461)),Ve=!1;function ze(t,n,r,l){n.child=t===null?fg(n,null,r,l):Qs(n,t.child,r,l)}function Sg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Jr(n),l=nh(t,n,r,y,f,c),E=ih(),t!==null&&!Ve?(rh(t,n,c),Si(t,n,c)):(Bt&&E&&Pc(n),n.flags|=1,ze(t,n,l,c),n.child)}function bg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Lc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Rg(t,n,f,l,c)):(t=xo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ch(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:$a,r(y,l)&&t.ref===n.ref)return Si(t,n,c)}return n.flags|=1,t=pi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Rg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if($a(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,Ch(t,c))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,Si(t,n,c)}return Eh(t,n,r,l,c)}function wg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Cg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Po(n,f!==null?f.cachePool:null),f!==null?Rm(n,f):Wc(),dg(n);else return n.lanes=n.childLanes=536870912,Cg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Po(n,f.cachePool),Rm(n,f),Qi(),n.memoizedState=null):(t!==null&&Po(n,null),Wc(),Qi());return ze(t,n,c,r),n.child}function Cg(t,n,r,l){var c=Yc();return c=c===null?null:{parent:be._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Po(n,null),Wc(),dg(n),t!==null&&nl(t,n,l,!0),null}function nu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Eh(t,n,r,l,c){return Jr(n),r=nh(t,n,r,l,void 0,c),l=ih(),t!==null&&!Ve?(rh(t,n,c),Si(t,n,c)):(Bt&&l&&Pc(n),n.flags|=1,ze(t,n,r,c),n.child)}function Dg(t,n,r,l,c,f){return Jr(n),n.updateQueue=null,r=Cm(n,l,r,c),wm(t),l=ih(),t!==null&&!Ve?(rh(t,n,f),Si(t,n,f)):(Bt&&l&&Pc(n),n.flags|=1,ze(t,n,r,f),n.child)}function Ng(t,n,r,l,c){if(Jr(n),n.stateNode===null){var f=Us,y=r.contextType;typeof y=="object"&&y!==null&&(f=He(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=_h,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Xc(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?He(y):Us,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(yh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&_h.enqueueReplaceState(f,f.state,null),ul(n,l,f,c),ol(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=es(r,E);f.props=R;var P=f.context,G=r.contextType;y=Us,typeof G=="object"&&G!==null&&(y=He(G));var F=r.getDerivedStateFromProps;G=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&gg(n,f,l,y),Bi=!1;var B=n.memoizedState;f.state=B,ul(n,l,f,c),ol(),P=n.memoizedState,E||B!==P||Bi?(typeof F=="function"&&(yh(n,r,F,l),P=n.memoizedState),(R=Bi||mg(n,r,R,l,B,P,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Zc(t,n),y=n.memoizedProps,G=es(r,y),f.props=G,F=n.pendingProps,B=f.context,P=r.contextType,R=Us,typeof P=="object"&&P!==null&&(R=He(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||B!==R)&&gg(n,f,l,R),Bi=!1,B=n.memoizedState,f.state=B,ul(n,l,f,c),ol();var q=n.memoizedState;y!==F||B!==q||Bi||t!==null&&t.dependencies!==null&&zo(t.dependencies)?(typeof E=="function"&&(yh(n,r,E,l),q=n.memoizedState),(G=Bi||mg(n,r,G,l,B,q,R)||t!==null&&t.dependencies!==null&&zo(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,nu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Qs(n,t.child,null,c),n.child=Qs(n,null,r,c)):ze(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Si(t,n,c),t}function Vg(t,n,r,l){return tl(),n.flags|=256,ze(t,n,r,l),n.child}var Th={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ah(t){return{baseLanes:t,cachePool:ym()}}function Sh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=bn),t}function Ig(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Re.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?Gi(n):Qi(),Bt){var E=ae,R;if(R=E){t:{for(R=E,E=Fn;R.nodeType!==8;){if(!E){E=null;break t}if(R=Mn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:Yr!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},R=ln(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,Je=n,ae=null,R=!0):R=!1}R||Zr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return lf(E)?n.lanes=32:n.lanes=536870912,null;Ai(n)}return E=l.children,l=l.fallback,c?(Qi(),c=n.mode,E=iu({mode:"hidden",children:E},c),l=Fr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Ah(r),c.childLanes=Sh(t,y,r),n.memoizedState=Th,l):(Gi(n),bh(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Gi(n),n.flags&=-257,n=Rh(t,n,r)):n.memoizedState!==null?(Qi(),n.child=t.child,n.flags|=128,n=null):(Qi(),c=l.fallback,E=n.mode,l=iu({mode:"visible",children:l.children},E),c=Fr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Qs(n,t.child,null,r),l=n.child,l.memoizedState=Ah(r),l.childLanes=Sh(t,y,r),n.memoizedState=Th,n=c);else if(Gi(n),lf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(s(419)),l.stack="",l.digest=y,el({value:l,source:null,stack:null}),n=Rh(t,n,r)}else if(Ve||nl(t,n,r,!1),y=(r&t.childLanes)!==0,Ve||y){if(y=$t,y!==null&&(l=r&-r,l=(l&42)!==0?1:Mi(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,xs(t,l),fn(y,t,l),Ag;E.data==="$?"||Hh(),n=Rh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,ae=Mn(E.nextSibling),Je=n,Bt=!0,Xr=null,Fn=!1,t!==null&&(Tn[An++]=yi,Tn[An++]=_i,Tn[An++]=Yr,yi=t.id,_i=t.overflow,Yr=n),n=bh(n,l.children),n.flags|=4096);return n}return c?(Qi(),c=l.fallback,E=n.mode,R=t.child,P=R.sibling,l=pi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?c=pi(P,c):(c=Fr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Ah(r):(R=E.cachePool,R!==null?(P=be._currentValue,R=R.parent!==P?{parent:P,pool:P}:R):R=ym(),E={baseLanes:E.baseLanes|r,cachePool:R}),c.memoizedState=E,c.childLanes=Sh(t,y,r),n.memoizedState=Th,l):(Gi(n),r=t.child,t=r.sibling,r=pi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function bh(t,n){return n=iu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function iu(t,n){return t=ln(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Rh(t,n,r){return Qs(n,t.child,null,r),t=bh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Mg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Hc(t.return,n,r)}function wh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Og(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(ze(t,n,l.children,r),l=Re.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mg(t,r,n);else if(t.tag===19)Mg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch($(Re,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Wo(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),wh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Wo(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}wh(n,!0,r,null,f);break;case"together":wh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Si(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Zi|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(nl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=pi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=pi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ch(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&zo(t)))}function Q0(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Pi(n,be,t.memoizedState.cache),tl();break;case 27:case 5:Ii(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Pi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Gi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Ig(t,n,r):(Gi(n),t=Si(t,n,r),t!==null?t.sibling:null);Gi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(nl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Og(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(Re,Re.current),l)break;return null;case 22:case 23:return n.lanes=0,wg(t,n,r);case 24:Pi(n,be,t.memoizedState.cache)}return Si(t,n,r)}function xg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Ch(t,r)&&(n.flags&128)===0)return Ve=!1,Q0(t,n,r);Ve=(t.flags&131072)!==0}else Ve=!1,Bt&&(n.flags&1048576)!==0&&cm(n,Lo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Lc(l)?(t=es(l,t),n.tag=1,n=Ng(null,n,l,t,r)):(n.tag=0,n=Eh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Vt){n.tag=11,n=Sg(null,n,l,t,r);break t}else if(c===O){n.tag=14,n=bg(null,n,l,t,r);break t}}throw n=xe(l)||l,Error(s(306,n,""))}}return n;case 0:return Eh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=es(l,n.pendingProps),Ng(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Zc(t,n),ul(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Pi(n,be,l),l!==f.cache&&Gc(n,[be],r,!0),ol(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Vg(t,n,l,r);break t}else if(l!==c){c=vn(Error(s(424)),n),el(c),n=Vg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=Mn(t.firstChild),Je=n,Bt=!0,Xr=null,Fn=!0,r=fg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(tl(),l===c){n=Si(t,n,r);break t}ze(t,n,l,r)}n=n.child}return n;case 26:return nu(t,n),t===null?(r=jp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=yu(_t.current).createElement(r),l[Te]=n,l[de]=t,Pe(l,r,t),oe(l),n.stateNode=l):n.memoizedState=jp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ii(n),t===null&&Bt&&(l=n.stateNode=Up(n.type,n.pendingProps,_t.current),Je=n,Fn=!0,c=ae,tr(n.type)?(of=c,ae=Mn(l.firstChild)):ae=c),ze(t,n,n.pendingProps.children,r),nu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=ae)&&(l=v1(l,n.type,n.pendingProps,Fn),l!==null?(n.stateNode=l,Je=n,ae=Mn(l.firstChild),Fn=!1,c=!0):c=!1),c||Zr(n)),Ii(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,rf(c,f)?l=null:y!==null&&rf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=nh(t,n,z0,null,null,r),Il._currentValue=c),nu(t,n),ze(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=ae)&&(r=E1(r,n.pendingProps,Fn),r!==null?(n.stateNode=r,Je=n,ae=null,t=!0):t=!1),t||Zr(n)),null;case 13:return Ig(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Qs(n,null,l,r):ze(t,n,l,r),n.child;case 11:return Sg(t,n,n.type,n.pendingProps,r);case 7:return ze(t,n,n.pendingProps,r),n.child;case 8:return ze(t,n,n.pendingProps.children,r),n.child;case 12:return ze(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Pi(n,n.type,l.value),ze(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Jr(n),c=He(c),l=l(c),n.flags|=1,ze(t,n,l,r),n.child;case 14:return bg(t,n,n.type,n.pendingProps,r);case 15:return Rg(t,n,n.type,n.pendingProps,r);case 19:return Og(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=iu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=pi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return wg(t,n,r);case 24:return Jr(n),l=He(be),t===null?(c=Yc(),c===null&&(c=$t,f=Qc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Xc(n),Pi(n,be,c)):((t.lanes&r)!==0&&(Zc(t,n),ul(n,null,null,r),ol()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Pi(n,be,l)):(l=f.cache,Pi(n,be,l),l!==c.cache&&Gc(n,[be],r,!0))),ze(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function bi(t){t.flags|=4}function Ug(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Hp(n)){if(n=Sn.current,n!==null&&((Ot&4194048)===Ot?Yn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==Yn))throw al=Kc,_m;t.flags|=8192}}function ru(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Oa():536870912,t.lanes|=n,Xs|=n)}function pl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function F0(t,n,r){var l=n.pendingProps;switch(Bc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ei(be),xn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wa(n)?bi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,dm())),ne(n),null;case 26:return r=n.memoizedState,t===null?(bi(n),r!==null?(ne(n),Ug(n,r)):(ne(n),n.flags&=-16777217)):r?r!==t.memoizedState?(bi(n),ne(n),Ug(n,r)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&bi(n),ne(n),n.flags&=-16777217),null;case 27:ii(n),r=_t.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&bi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}t=ht.current,Wa(n)?hm(n):(t=Up(c,l,r),n.stateNode=t,bi(n))}return ne(n),null;case 5:if(ii(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&bi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(t=ht.current,Wa(n))hm(n);else{switch(c=yu(_t.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Te]=n,t[de]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Pe(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&bi(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&bi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=_t.current,Wa(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Je,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Te]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Dp(t.nodeValue,r)),t||Zr(n)}else t=yu(t).createTextNode(l),t[Te]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Wa(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Te]=n}else tl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=dm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ai(n),n):(Ai(n),null)}if(Ai(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),ru(n,n.updateQueue),ne(n),null;case 4:return xn(),t===null&&Jh(n.stateNode.containerInfo),ne(n),null;case 10:return Ei(n.type),ne(n),null;case 19:if(nt(Re),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)pl(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Wo(t),f!==null){for(n.flags|=128,pl(c,!1),t=f.updateQueue,n.updateQueue=t,ru(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)um(r,t),r=r.sibling;return $(Re,Re.current&1|2),n.child}t=t.sibling}c.tail!==null&&dn()>lu&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Wo(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,ru(n,t),pl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return ne(n),null}else 2*dn()-c.renderingStartTime>lu&&r!==536870912&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=dn(),n.sibling=null,t=Re.current,$(Re,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return Ai(n),th(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&ru(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&nt(Wr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ei(be),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Y0(t,n){switch(Bc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ei(be),xn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ii(n),null;case 13:if(Ai(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));tl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Re),null;case 4:return xn(),null;case 10:return Ei(n.type),null;case 22:case 23:return Ai(n),th(),t!==null&&nt(Wr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ei(be),null;case 25:return null;default:return null}}function Lg(t,n){switch(Bc(n),n.tag){case 3:Ei(be),xn();break;case 26:case 27:case 5:ii(n);break;case 4:xn();break;case 13:Ai(n);break;case 19:nt(Re);break;case 10:Ei(n.type);break;case 22:case 23:Ai(n),th(),t!==null&&nt(Wr);break;case 24:Ei(be)}}function yl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Xt(n,n.return,E)}}function Fi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var R=r,P=E;try{P()}catch(G){Xt(c,R,G)}}}l=l.next}while(l!==f)}}catch(G){Xt(n,n.return,G)}}function zg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{bm(n,r)}catch(l){Xt(t,t.return,l)}}}function jg(t,n,r){r.props=es(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xt(t,n,l)}}function _l(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Xt(t,n,c)}}function Kn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Xt(t,n,c)}else r.current=null}function Pg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Xt(t,t.return,c)}}function Dh(t,n,r){try{var l=t.stateNode;m1(l,t.type,r,n),l[de]=n}catch(c){Xt(t,t.return,c)}}function Bg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&tr(t.type)||t.tag===4}function Nh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Bg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&tr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=pu));else if(l!==4&&(l===27&&tr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Vh(t,n,r),t=t.sibling;t!==null;)Vh(t,n,r),t=t.sibling}function su(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&tr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(su(t,n,r),t=t.sibling;t!==null;)su(t,n,r),t=t.sibling}function qg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,r),n[Te]=t,n[de]=r}catch(f){Xt(t,t.return,f)}}var Ri=!1,ce=!1,Ih=!1,kg=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function K0(t,n){if(t=t.containerInfo,ef=Su,t=Wd(t),Nc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,R=-1,P=0,G=0,F=t,B=null;e:for(;;){for(var q;F!==r||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(R=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(q=F.firstChild)!==null;)B=F,F=q;for(;;){if(F===t)break e;if(B===r&&++P===c&&(E=y),B===f&&++G===l&&(R=y),(q=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=q}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(nf={focusedElem:t,selectionRange:r},Su=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var gt=es(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(gt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ft){Xt(r,r.return,ft)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)af(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":af(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function Hg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Yi(t,r),l&4&&yl(5,r);break;case 1:if(Yi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(r,r.return,y)}else{var c=es(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(r,r.return,y)}}l&64&&zg(r),l&512&&_l(r,r.return);break;case 3:if(Yi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{bm(t,n)}catch(y){Xt(r,r.return,y)}}break;case 27:n===null&&l&4&&qg(r);case 26:case 5:Yi(t,r),n===null&&l&4&&Pg(r),l&512&&_l(r,r.return);break;case 12:Yi(t,r);break;case 13:Yi(t,r),l&4&&Fg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=i1.bind(null,r),T1(t,r))));break;case 22:if(l=r.memoizedState!==null||Ri,!l){n=n!==null&&n.memoizedState!==null||ce,c=Ri;var f=ce;Ri=l,(ce=n)&&!f?Ki(t,r,(r.subtreeFlags&8772)!==0):Yi(t,r),Ri=c,ce=f}break;case 30:break;default:Yi(t,r)}}function Gg(t){var n=t.alternate;n!==null&&(t.alternate=null,Gg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ui(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,tn=!1;function wi(t,n,r){for(r=r.child;r!==null;)Qg(t,n,r),r=r.sibling}function Qg(t,n,r){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(se,r)}catch{}switch(r.tag){case 26:ce||Kn(r,n),wi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ce||Kn(r,n);var l=te,c=tn;tr(r.type)&&(te=r.stateNode,tn=!1),wi(t,n,r),Cl(r.stateNode),te=l,tn=c;break;case 5:ce||Kn(r,n);case 6:if(l=te,c=tn,te=null,wi(t,n,r),te=l,tn=c,te!==null)if(tn)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{te.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:te!==null&&(tn?(t=te,Op(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ul(t)):Op(te,r.stateNode));break;case 4:l=te,c=tn,te=r.stateNode.containerInfo,tn=!0,wi(t,n,r),te=l,tn=c;break;case 0:case 11:case 14:case 15:ce||Fi(2,r,n),ce||Fi(4,r,n),wi(t,n,r);break;case 1:ce||(Kn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&jg(r,n,l)),wi(t,n,r);break;case 21:wi(t,n,r);break;case 22:ce=(l=ce)||r.memoizedState!==null,wi(t,n,r),ce=l;break;default:wi(t,n,r)}}function Fg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ul(t)}catch(r){Xt(n,n.return,r)}}function X0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new kg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new kg),n;default:throw Error(s(435,t.tag))}}function Mh(t,n){var r=X0(t);n.forEach(function(l){var c=r1.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function on(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(tr(E.type)){te=E.stateNode,tn=!1;break t}break;case 5:te=E.stateNode,tn=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(te===null)throw Error(s(160));Qg(f,y,c),te=null,tn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Yg(n,t),n=n.sibling}var In=null;function Yg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),un(t),l&4&&(Fi(3,t,t.return),yl(3,t),Fi(5,t,t.return));break;case 1:on(n,t),un(t),l&512&&(ce||r===null||Kn(r,r.return)),l&64&&Ri&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=In;if(on(n,t),un(t),l&512&&(ce||r===null||Kn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Vr]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,r),f[Te]=t,oe(f),l=f;break t;case"link":var y=qp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;case"meta":if(y=qp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[Te]=t,oe(f),l=f}t.stateNode=l}else kp(c,t.type,t.stateNode);else t.stateNode=Bp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?kp(c,t.type,t.stateNode):Bp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Dh(t,t.memoizedProps,r.memoizedProps)}break;case 27:on(n,t),un(t),l&512&&(ce||r===null||Kn(r,r.return)),r!==null&&l&4&&Dh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(on(n,t),un(t),l&512&&(ce||r===null||Kn(r,r.return)),t.flags&32){c=t.stateNode;try{gn(c,"")}catch(q){Xt(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Dh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Ih=!0);break;case 6:if(on(n,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(q){Xt(t,t.return,q)}}break;case 3:if(Eu=null,c=In,In=_u(n.containerInfo),on(n,t),In=c,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ul(n.containerInfo)}catch(q){Xt(t,t.return,q)}Ih&&(Ih=!1,Kg(t));break;case 4:l=In,In=_u(t.stateNode.containerInfo),on(n,t),un(t),In=l;break;case 12:on(n,t),un(t);break;case 13:on(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(jh=dn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mh(t,l)));break;case 22:c=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=Ri,G=ce;if(Ri=P||c,ce=G||R,on(n,t),ce=G,Ri=P,un(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||R||Ri||ce||ns(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var F=R.memoizedProps.style,B=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){Xt(R,R.return,q)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(q){Xt(R,R.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Mh(t,r))));break;case 19:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mh(t,l)));break;case 30:break;case 21:break;default:on(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Bg(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=Nh(t);su(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(gn(y,""),r.flags&=-33);var E=Nh(t);su(t,E,y);break;case 3:case 4:var R=r.stateNode.containerInfo,P=Nh(t);Vh(t,P,R);break;default:throw Error(s(161))}}catch(G){Xt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Kg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Kg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Yi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Hg(t,n.alternate,n),n=n.sibling}function ns(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Fi(4,n,n.return),ns(n);break;case 1:Kn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&jg(n,n.return,r),ns(n);break;case 27:Cl(n.stateNode);case 26:case 5:Kn(n,n.return),ns(n);break;case 22:n.memoizedState===null&&ns(n);break;case 30:ns(n);break;default:ns(n)}t=t.sibling}}function Ki(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(c,f,r),yl(4,f);break;case 1:if(Ki(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Xt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Sm(R[c],E)}catch(P){Xt(l,l.return,P)}}r&&y&64&&zg(f),_l(f,f.return);break;case 27:qg(f);case 26:case 5:Ki(c,f,r),r&&l===null&&y&4&&Pg(f),_l(f,f.return);break;case 12:Ki(c,f,r);break;case 13:Ki(c,f,r),r&&y&4&&Fg(c,f);break;case 22:f.memoizedState===null&&Ki(c,f,r),_l(f,f.return);break;case 30:break;default:Ki(c,f,r)}n=n.sibling}}function Oh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&il(r))}function xh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t))}function Xn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Xg(t,n,r,l),n=n.sibling}function Xg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,r,l),c&2048&&yl(9,n);break;case 1:Xn(t,n,r,l);break;case 3:Xn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t)));break;case 12:if(c&2048){Xn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Xt(n,n.return,R)}}else Xn(t,n,r,l);break;case 13:Xn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(t,n,r,l):vl(t,n):f._visibility&2?Xn(t,n,r,l):(f._visibility|=2,Fs(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Oh(y,n);break;case 24:Xn(t,n,r,l),c&2048&&xh(n.alternate,n);break;default:Xn(t,n,r,l)}}function Fs(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,R=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Fs(f,y,E,R,c),yl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Fs(f,y,E,R,c):vl(f,y):(G._visibility|=2,Fs(f,y,E,R,c)),c&&P&2048&&Oh(y.alternate,y);break;case 24:Fs(f,y,E,R,c),c&&P&2048&&xh(y.alternate,y);break;default:Fs(f,y,E,R,c)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:vl(r,l),c&2048&&Oh(l.alternate,l);break;case 24:vl(r,l),c&2048&&xh(l.alternate,l);break;default:vl(r,l)}n=n.sibling}}var El=8192;function Ys(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)Zg(t),t=t.sibling}function Zg(t){switch(t.tag){case 26:Ys(t),t.flags&El&&t.memoizedState!==null&&x1(In,t.memoizedState,t.memoizedProps);break;case 5:Ys(t);break;case 3:case 4:var n=In;In=_u(t.stateNode.containerInfo),Ys(t),In=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=El,El=16777216,Ys(t),El=n):Ys(t));break;default:Ys(t)}}function $g(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,Wg(l,t)}$g(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jg(t),t=t.sibling}function Jg(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&Fi(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,au(t)):Tl(t);break;default:Tl(t)}}function au(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,Wg(l,t)}$g(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Fi(8,n,n.return),au(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,au(n));break;default:au(n)}t=t.sibling}}function Wg(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:Fi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(Gg(l),l===r){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var Z0={getCacheForType:function(t){var n=He(be),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},$0=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,wt=null,Ot=0,Gt=0,cn=null,Xi=!1,Ks=!1,Uh=!1,Ci=0,le=0,Zi=0,is=0,Lh=0,bn=0,Xs=0,Al=null,en=null,zh=!1,jh=0,lu=1/0,ou=null,$i=null,je=0,Ji=null,Zs=null,$s=0,Ph=0,Bh=null,tp=null,Sl=0,qh=null;function hn(){if((Ht&2)!==0&&Ot!==0)return Ot&-Ot;if(H.T!==null){var t=js;return t!==0?t:Kh()}return Oi()}function ep(){bn===0&&(bn=(Ot&536870912)===0||Bt?Ma():536870912);var t=Sn.current;return t!==null&&(t.flags|=32),bn}function fn(t,n,r){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(Js(t,0),Wi(t,Ot,bn,!1)),si(t,r),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&(is|=r),le===4&&Wi(t,Ot,bn,!1)),Zn(t))}function np(t,n,r){if((Ht&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Nr(t,n),c=l?t1(t,n):Gh(t,n,!0),f=l;do{if(c===0){Ks&&!l&&Wi(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!J0(r)){c=Gh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Al;var R=E.current.memoizedState.isDehydrated;if(R&&(Js(E,y).flags|=256),y=Gh(E,y,!1),y!==2){if(Uh&&!R){E.errorRecoveryDisabledLanes|=f,is|=f,c=4;break t}f=en,en=c,f!==null&&(en===null?en=f:en.push.apply(en,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Js(t,0),Wi(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Wi(l,n,bn,!Xi);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=jh+300-dn(),10<c)){if(Wi(l,n,bn,!Xi),gs(l,0,!0)!==0)break t;l.timeoutHandle=Ip(ip.bind(null,l,r,en,ou,zh,n,bn,is,Xs,Xi,f,2,-0,0),c);break t}ip(l,r,en,ou,zh,n,bn,is,Xs,Xi,f,0,-0,0)}}break}while(!0);Zn(t)}function ip(t,n,r,l,c,f,y,E,R,P,G,F,B,q){if(t.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:O1},Zg(n),F=U1(),F!==null)){t.cancelPendingCommit=F(cp.bind(null,t,n,f,r,l,c,y,E,R,G,1,B,q)),Wi(t,f,y,!P);return}cp(t,n,f,r,l,c,y,E,R)}function J0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!an(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Wi(t,n,r,l){n&=~Lh,n&=~is,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ke(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Un(t,r,n)}function uu(){return(Ht&6)===0?(bl(0),!1):!0}function kh(){if(wt!==null){if(Gt===0)var t=wt.return;else t=wt,vi=$r=null,sh(t),Gs=null,ml=0,t=wt;for(;t!==null;)Lg(t.alternate,t),t=t.return;wt=null}}function Js(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,p1(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),kh(),$t=t,wt=r=pi(t.current,null),Ot=n,Gt=0,cn=null,Xi=!1,Ks=Nr(t,n),Uh=!1,Xs=bn=Lh=is=Zi=le=0,en=Al=null,zh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ke(l),f=1<<c;n|=t[c],l&=~f}return Ci=n,Io(),r}function rp(t,n){St=null,H.H=Zo,n===sl||n===Bo?(n=Tm(),Gt=3):n===_m?(n=Tm(),Gt=4):Gt=n===Ag?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,wt===null&&(le=1,eu(t,vn(n,t.current)))}function sp(){var t=H.H;return H.H=Zo,t===null?Zo:t}function ap(){var t=H.A;return H.A=Z0,t}function Hh(){le=4,Xi||(Ot&4194048)!==Ot&&Sn.current!==null||(Ks=!0),(Zi&134217727)===0&&(is&134217727)===0||$t===null||Wi($t,Ot,bn,!1)}function Gh(t,n,r){var l=Ht;Ht|=2;var c=sp(),f=ap();($t!==t||Ot!==n)&&(ou=null,Js(t,n)),n=!1;var y=le;t:do try{if(Gt!==0&&wt!==null){var E=wt,R=cn;switch(Gt){case 8:kh(),y=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var P=Gt;if(Gt=0,cn=null,Ws(t,E,R,P),r&&Ks){y=0;break t}break;default:P=Gt,Gt=0,cn=null,Ws(t,E,R,P)}}W0(),y=le;break}catch(G){rp(t,G)}while(!0);return n&&t.shellSuspendCounter++,vi=$r=null,Ht=l,H.H=c,H.A=f,wt===null&&($t=null,Ot=0,Io()),y}function W0(){for(;wt!==null;)lp(wt)}function t1(t,n){var r=Ht;Ht|=2;var l=sp(),c=ap();$t!==t||Ot!==n?(ou=null,lu=dn()+500,Js(t,n)):Ks=Nr(t,n);t:do try{if(Gt!==0&&wt!==null){n=wt;var f=cn;e:switch(Gt){case 1:Gt=0,cn=null,Ws(t,n,f,1);break;case 2:case 9:if(vm(f)){Gt=0,cn=null,op(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),Zn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:vm(f)?(Gt=0,cn=null,op(n)):(Gt=0,cn=null,Ws(t,n,f,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var E=wt;if(!y||Hp(y)){Gt=0,cn=null;var R=E.sibling;if(R!==null)wt=R;else{var P=E.return;P!==null?(wt=P,cu(P)):wt=null}break e}}Gt=0,cn=null,Ws(t,n,f,5);break;case 6:Gt=0,cn=null,Ws(t,n,f,6);break;case 8:kh(),le=6;break t;default:throw Error(s(462))}}e1();break}catch(G){rp(t,G)}while(!0);return vi=$r=null,H.H=l,H.A=c,Ht=r,wt!==null?0:($t=null,Ot=0,Io(),le)}function e1(){for(;wt!==null&&!Da();)lp(wt)}function lp(t){var n=xg(t.alternate,t,Ci);t.memoizedProps=t.pendingProps,n===null?cu(t):wt=n}function op(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Dg(r,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=Dg(r,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:sh(n);default:Lg(r,n),n=wt=um(n,Ci),n=xg(r,n,Ci)}t.memoizedProps=t.pendingProps,n===null?cu(t):wt=n}function Ws(t,n,r,l){vi=$r=null,sh(n),Gs=null,ml=0;var c=n.return;try{if(G0(t,c,n,r,Ot)){le=1,eu(t,vn(r,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;le=1,eu(t,vn(r,t.current)),wt=null;return}n.flags&32768?(Bt||l===1?t=!0:Ks||(Ot&536870912)!==0?t=!1:(Xi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),up(n,t)):cu(n)}function cu(t){var n=t;do{if((n.flags&32768)!==0){up(n,Xi);return}t=n.return;var r=F0(n.alternate,n,Ci);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);le===0&&(le=5)}function up(t,n){do{var r=Y0(t.alternate,t);if(r!==null){r.flags&=32767,wt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=r}while(t!==null);le=6,wt=null}function cp(t,n,r,l,c,f,y,E,R){t.cancelPendingCommit=null;do hu();while(je!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=xc,xa(t,r,f,y,E,R),t===$t&&(wt=$t=null,Ot=0),Zs=n,Ji=t,$s=r,Ph=f,Bh=c,tp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,s1(Rr,function(){return gp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=et.p,et.p=2,y=Ht,Ht|=4;try{K0(t,n,r)}finally{Ht=y,et.p=c,H.T=l}}je=1,hp(),fp(),dp()}}function hp(){if(je===1){je=0;var t=Ji,n=Zs,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{Yg(n,t);var f=nf,y=Wd(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Jd(E.ownerDocument.documentElement,E)){if(R!==null&&Nc(E)){var P=R.start,G=R.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var F=E.ownerDocument||document,B=F&&F.defaultView||window;if(B.getSelection){var q=B.getSelection(),gt=E.textContent.length,ft=Math.min(R.start,gt),Kt=R.end===void 0?ft:Math.min(R.end,gt);!q.extend&&ft>Kt&&(y=Kt,Kt=ft,ft=y);var U=$d(E,ft),D=$d(E,Kt);if(U&&D&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var j=F.createRange();j.setStart(U.node,U.offset),q.removeAllRanges(),ft>Kt?(q.addRange(j),q.extend(D.node,D.offset)):(j.setEnd(D.node,D.offset),q.addRange(j))}}}}for(F=[],q=E;q=q.parentNode;)q.nodeType===1&&F.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Q=F[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Su=!!ef,nf=ef=null}finally{Ht=c,et.p=l,H.T=r}}t.current=n,je=2}}function fp(){if(je===2){je=0;var t=Ji,n=Zs,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{Hg(t,n.alternate,n)}finally{Ht=c,et.p=l,H.T=r}}je=3}}function dp(){if(je===4||je===3){je=0,so();var t=Ji,n=Zs,r=$s,l=tp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?je=5:(je=0,Zs=Ji=null,mp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&($i=null),ps(r),n=n.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}($s&3)!==0&&hu(),Zn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===qh?Sl++:(Sl=0,qh=t):Sl=0,bl(0)}}function mp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,il(n)))}function hu(t){return hp(),fp(),dp(),gp()}function gp(){if(je!==5)return!1;var t=Ji,n=Ph;Ph=0;var r=ps($s),l=H.T,c=et.p;try{et.p=32>r?32:r,H.T=null,r=Bh,Bh=null;var f=Ji,y=$s;if(je=0,Zs=Ji=null,$s=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,Jg(f.current),Xg(f,f.current,y,r),Ht=E,bl(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{et.p=c,H.T=l,mp(t,n)}}function pp(t,n,r){n=vn(r,n),n=vh(t.stateNode,n,2),t=ki(t,n,2),t!==null&&(si(t,2),Zn(t))}function Xt(t,n,r){if(t.tag===3)pp(t,t,r);else for(;n!==null;){if(n.tag===3){pp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($i===null||!$i.has(l))){t=vn(r,t),r=Eg(2),l=ki(n,r,2),l!==null&&(Tg(r,l,n,t),si(l,2),Zn(l));break}}n=n.return}}function Qh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new $0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Uh=!0,c.add(r),t=n1.bind(null,t,n,r),n.then(t,t))}function n1(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(Ot&r)===r&&(le===4||le===3&&(Ot&62914560)===Ot&&300>dn()-jh?(Ht&2)===0&&Js(t,0):Lh|=r,Xs===Ot&&(Xs=0)),Zn(t)}function yp(t,n){n===0&&(n=Oa()),t=xs(t,n),t!==null&&(si(t,n),Zn(t))}function i1(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),yp(t,r)}function r1(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),yp(t,r)}function s1(t,n){return Sr(t,n)}var fu=null,ta=null,Fh=!1,du=!1,Yh=!1,rs=0;function Zn(t){t!==ta&&t.next===null&&(ta===null?fu=ta=t:ta=ta.next=t),du=!0,Fh||(Fh=!0,l1())}function bl(t,n){if(!Yh&&du){Yh=!0;do for(var r=!1,l=fu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ke(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Tp(l,f))}else f=Ot,f=gs(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Nr(l,f)||(r=!0,Tp(l,f));l=l.next}while(r);Yh=!1}}function a1(){_p()}function _p(){du=Fh=!1;var t=0;rs!==0&&(g1()&&(t=rs),rs=0);for(var n=dn(),r=null,l=fu;l!==null;){var c=l.next,f=vp(l,n);f===0?(l.next=null,r===null?fu=c:r.next=c,c===null&&(ta=r)):(r=l,(t!==0||(f&3)!==0)&&(du=!0)),l=c}bl(t)}function vp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ke(f),E=1<<y,R=c[y];R===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Ia(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,r=Ot,r=gs(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&br(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Nr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&br(l),ps(r)){case 2:case 8:r=ds;break;case 32:r=Rr;break;case 268435456:r=ms;break;default:r=Rr}return l=Ep.bind(null,t),r=Sr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&br(l),t.callbackPriority=2,t.callbackNode=null,2}function Ep(t,n){if(je!==0&&je!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(hu()&&t.callbackNode!==r)return null;var l=Ot;return l=gs(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(np(t,l,n),vp(t,dn()),t.callbackNode!=null&&t.callbackNode===r?Ep.bind(null,t):null)}function Tp(t,n){if(hu())return null;np(t,n,!0)}function l1(){y1(function(){(Ht&6)!==0?Sr(Na,a1):_p()})}function Kh(){return rs===0&&(rs=Ma()),rs}function Ap(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:As(""+t)}function Sp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function o1(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Ap((c[de]||null).action),y=l.submitter;y&&(n=(n=y[de]||null)?Ap(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ss("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(rs!==0){var R=y?Sp(c,y):new FormData(c);mh(r,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?Sp(c,y):new FormData(c),mh(r,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var Xh=0;Xh<Oc.length;Xh++){var Zh=Oc[Xh],u1=Zh.toLowerCase(),c1=Zh[0].toUpperCase()+Zh.slice(1);Vn(u1,"on"+c1)}Vn(nm,"onAnimationEnd"),Vn(im,"onAnimationIteration"),Vn(rm,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(C0,"onTransitionRun"),Vn(D0,"onTransitionStart"),Vn(N0,"onTransitionCancel"),Vn(sm,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function bp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){tu(G)}c.currentTarget=null,f=R}else for(y=0;y<l.length;y++){if(E=l[y],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){tu(G)}c.currentTarget=null,f=R}}}}function Ct(t,n){var r=n[La];r===void 0&&(r=n[La]=new Set);var l=t+"__bubble";r.has(l)||(Rp(n,t,2,!1),r.add(l))}function $h(t,n,r){var l=0;n&&(l|=4),Rp(r,t,l,n)}var mu="_reactListening"+Math.random().toString(36).slice(2);function Jh(t){if(!t[mu]){t[mu]=!0,za.forEach(function(r){r!=="selectionchange"&&(h1.has(r)||$h(r,!1,t),$h(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[mu]||(n[mu]=!0,$h("selectionchange",!1,n))}}function Rp(t,n,r,l){switch(Xp(n)){case 2:var c=j1;break;case 8:c=P1;break;default:c=df}r=c.bind(null,n,r,t),c=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Wh(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ai(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=f=y;continue t}E=E.parentNode}}l=l.return}po(function(){var P=f,G=pn(r),F=[];t:{var B=am.get(t);if(B!==void 0){var q=Ss,gt=t;switch(t){case"keypress":if(qn(r)===0)break t;case"keydown":case"keyup":q=Ns;break;case"focusin":gt="focus",q=ws;break;case"focusout":gt="blur",q=ws;break;case"beforeblur":case"afterblur":q=ws;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Rc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=bo;break;case nm:case im:case rm:q=Cs;break;case sm:q=wo;break;case"scroll":case"scrollend":q=yo;break;case"wheel":q=Vs;break;case"copy":case"cut":case"paste":q=Ds;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Xa;break;case"toggle":case"beforetoggle":q=Do}var ft=(n&4)!==0,Kt=!ft&&(t==="scroll"||t==="scrollend"),U=ft?B!==null?B+"Capture":null:B;ft=[];for(var D=P,j;D!==null;){var Q=D;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||U===null||(Q=zr(D,U),Q!=null&&ft.push(wl(D,Q,j))),Kt)break;D=D.return}0<ft.length&&(B=new q(B,gt,null,r,G),F.push({event:B,listeners:ft}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&r!==ci&&(gt=r.relatedTarget||r.fromElement)&&(ai(gt)||gt[mn]))break t;if((q||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,q?(gt=r.relatedTarget||r.toElement,q=P,gt=gt?ai(gt):null,gt!==null&&(Kt=h(gt),ft=gt.tag,gt!==Kt||ft!==5&&ft!==27&&ft!==6)&&(gt=null)):(q=null,gt=P),q!==gt)){if(ft=_n,Q="onMouseLeave",U="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ft=Xa,Q="onPointerLeave",U="onPointerEnter",D="pointer"),Kt=q==null?B:zn(q),j=gt==null?B:zn(gt),B=new ft(Q,D+"leave",q,r,G),B.target=Kt,B.relatedTarget=j,Q=null,ai(G)===P&&(ft=new ft(U,D+"enter",gt,r,G),ft.target=j,ft.relatedTarget=Kt,Q=ft),Kt=Q,q&&gt)e:{for(ft=q,U=gt,D=0,j=ft;j;j=ea(j))D++;for(j=0,Q=U;Q;Q=ea(Q))j++;for(;0<D-j;)ft=ea(ft),D--;for(;0<j-D;)U=ea(U),j--;for(;D--;){if(ft===U||U!==null&&ft===U.alternate)break e;ft=ea(ft),U=ea(U)}ft=null}else ft=null;q!==null&&wp(F,B,q,ft,!1),gt!==null&&Kt!==null&&wp(F,Kt,gt,ft,!0)}}t:{if(B=P?zn(P):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var at=Qd;else if(Se(B))if(Fd)at=b0;else{at=A0;var Rt=T0}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&ka(P.elementType)&&(at=Qd):at=S0;if(at&&(at=at(t,P))){gi(F,at,r,G);break t}Rt&&Rt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&zi(B,"number",B.value)}switch(Rt=P?zn(P):window,t){case"focusin":(Se(Rt)||Rt.contentEditable==="true")&&(Is=Rt,Vc=P,Ja=null);break;case"focusout":Ja=Vc=Is=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,tm(F,r,G);break;case"selectionchange":if(w0)break;case"keydown":case"keyup":tm(F,r,G)}var lt;if(Gn)t:{switch(t){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else It?k(t,r)&&(mt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(mt="onCompositionStart");mt&&(p&&r.locale!=="ko"&&(It||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&It&&(lt=Ga()):(Bn=G,ji="value"in Bn?Bn.value:Bn.textContent,It=!0)),Rt=gu(P,mt),0<Rt.length&&(mt=new Ya(mt,t,null,r,G),F.push({event:mt,listeners:Rt}),lt?mt.data=lt:(lt=tt(r),lt!==null&&(mt.data=lt)))),(lt=m?Ae(t,r):Mt(t,r))&&(mt=gu(P,"onBeforeInput"),0<mt.length&&(Rt=new Ya("onBeforeInput","beforeinput",null,r,G),F.push({event:Rt,listeners:mt}),Rt.data=lt)),o1(F,t,P,r,G)}bp(F,n)})}function wl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function gu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=zr(t,r),c!=null&&l.unshift(wl(t,c,f)),c=zr(t,n),c!=null&&l.push(wl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ea(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function wp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||P===null||(R=P,c?(P=zr(r,f),P!=null&&y.unshift(wl(r,P,R))):c||(P=zr(r,f),P!=null&&y.push(wl(r,P,R)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var f1=/\r\n?/g,d1=/\u0000|\uFFFD/g;function Cp(t){return(typeof t=="string"?t:""+t).replace(f1,`
`).replace(d1,"")}function Dp(t,n){return n=Cp(n),Cp(t)===n}function pu(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":jn(t,"class",l);break;case"tabIndex":jn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(t,r,l);break;case"style":qa(t,l,f);break;case"data":if(n!=="object"){jn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=As(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=As(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=pu);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=As(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Li(t,"popover",l);break;case"xlinkActuate":Ue(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Li(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Sc.get(r)||r,Li(t,r,l))}}function tf(t,n,r,l,c,f){switch(r){case"style":qa(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=pu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ys.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[de]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Li(t,r,l)}}}function Pe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,f,y,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":Ct("invalid",t);var E=f=y=c=null,R=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":R=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Yt(t,n,l,G,r,null)}}xr(t,f,E,R,P,y,c,!1),Ts(t);return;case"select":Ct("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?ui(t,!!l,n,!1):r!=null&&ui(t,!!l,r,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(t,n,y,E,r,null)}Ur(t,l,c,f),Ts(t);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,R,l,r,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Ct(Rl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,P,l,r,null)}return;default:if(ka(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&tf(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function m1(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,R=null,P=null,G=null;for(q in r){var F=r[q];if(r.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=F;default:l.hasOwnProperty(q)||Yt(t,n,q,null,l,F)}}for(var B in l){var q=l[B];if(F=r[B],l.hasOwnProperty(B)&&(q!=null||F!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":P=q;break;case"defaultChecked":G=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==F&&Yt(t,n,B,q,l,F)}}sn(t,y,E,R,P,G,f,c);return;case"select":q=y=E=B=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=r[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&Yt(t,n,c,f,l,R)}n=E,r=y,l=q,B!=null?ui(t,!!r,B,!1):!!l!=!!r&&(n!=null?ui(t,!!r,n,!0):ui(t,!!r,r?[]:"",!1));return;case"textarea":q=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Yt(t,n,y,c,l,f)}Qt(t,B,q);return;case"option":for(var gt in r)if(B=r[gt],r.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt))switch(gt){case"selected":t.selected=!1;break;default:Yt(t,n,gt,null,l,B)}for(R in l)if(B=l[R],q=r[R],l.hasOwnProperty(R)&&B!==q&&(B!=null||q!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,R,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in r)B=r[ft],r.hasOwnProperty(ft)&&B!=null&&!l.hasOwnProperty(ft)&&Yt(t,n,ft,null,l,B);for(P in l)if(B=l[P],q=r[P],l.hasOwnProperty(P)&&B!==q&&(B!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Yt(t,n,P,B,l,q)}return;default:if(ka(n)){for(var Kt in r)B=r[Kt],r.hasOwnProperty(Kt)&&B!==void 0&&!l.hasOwnProperty(Kt)&&tf(t,n,Kt,void 0,l,B);for(G in l)B=l[G],q=r[G],!l.hasOwnProperty(G)||B===q||B===void 0&&q===void 0||tf(t,n,G,B,l,q);return}}for(var U in r)B=r[U],r.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&Yt(t,n,U,null,l,B);for(F in l)B=l[F],q=r[F],!l.hasOwnProperty(F)||B===q||B==null&&q==null||Yt(t,n,F,B,l,q)}var ef=null,nf=null;function yu(t){return t.nodeType===9?t:t.ownerDocument}function Np(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function rf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sf=null;function g1(){var t=window.event;return t&&t.type==="popstate"?t===sf?!1:(sf=t,!0):(sf=null,!1)}var Ip=typeof setTimeout=="function"?setTimeout:void 0,p1=typeof clearTimeout=="function"?clearTimeout:void 0,Mp=typeof Promise=="function"?Promise:void 0,y1=typeof queueMicrotask=="function"?queueMicrotask:typeof Mp<"u"?function(t){return Mp.resolve(null).then(t).catch(_1)}:Ip;function _1(t){setTimeout(function(){throw t})}function tr(t){return t==="head"}function Op(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Cl(y.documentElement),r&2&&Cl(y.body),r&4)for(r=y.head,Cl(r),y=r.firstChild;y;){var E=y.nextSibling,R=y.nodeName;y[Vr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Ul(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Ul(n)}function af(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":af(r),Ui(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function v1(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Vr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function E1(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Mn(t.nextSibling),t===null))return null;return t}function lf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function T1(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var of=null;function xp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Up(t,n,r){switch(n=yu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Cl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ui(t)}var Rn=new Map,Lp=new Set;function _u(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Di=et.d;et.d={f:A1,r:S1,D:b1,C:R1,L:w1,m:C1,X:N1,S:D1,M:V1};function A1(){var t=Di.f(),n=uu();return t||n}function S1(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?ng(n):Di.r(t)}var na=typeof document>"u"?null:document;function zp(t,n,r){var l=na;if(l&&typeof n=="string"&&n){var c=me(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Lp.has(c)||(Lp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),oe(n),l.head.appendChild(n)))}}function b1(t){Di.D(t),zp("dns-prefetch",t,null)}function R1(t,n){Di.C(t,n),zp("preconnect",t,n)}function w1(t,n,r){Di.L(t,n,r);var l=na;if(l&&t&&n){var c='link[rel="preload"][as="'+me(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+me(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+me(r.imageSizes)+'"]')):c+='[href="'+me(t)+'"]';var f=c;switch(n){case"style":f=ia(t);break;case"script":f=ra(t)}Rn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Rn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Dl(f))||n==="script"&&l.querySelector(Nl(f))||(n=l.createElement("link"),Pe(n,"link",t),oe(n),l.head.appendChild(n)))}}function C1(t,n){Di.m(t,n);var r=na;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+me(l)+'"][href="'+me(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ra(t)}if(!Rn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Rn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Nl(f)))return}l=r.createElement("link"),Pe(l,"link",t),oe(l),r.head.appendChild(l)}}}function D1(t,n,r){Di.S(t,n,r);var l=na;if(l&&t){var c=Xe(l).hoistableStyles,f=ia(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Dl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Rn.get(f))&&uf(t,r);var R=y=l.createElement("link");oe(R),Pe(R,"link",t),R._p=new Promise(function(P,G){R.onload=P,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,vu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function N1(t,n){Di.X(t,n);var r=na;if(r&&t){var l=Xe(r).hoistableScripts,c=ra(t),f=l.get(c);f||(f=r.querySelector(Nl(c)),f||(t=A({src:t,async:!0},n),(n=Rn.get(c))&&cf(t,n),f=r.createElement("script"),oe(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function V1(t,n){Di.M(t,n);var r=na;if(r&&t){var l=Xe(r).hoistableScripts,c=ra(t),f=l.get(c);f||(f=r.querySelector(Nl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Rn.get(c))&&cf(t,n),f=r.createElement("script"),oe(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function jp(t,n,r,l){var c=(c=_t.current)?_u(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ia(r.href),r=Xe(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ia(r.href);var f=Xe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Dl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Rn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Rn.set(t,r),f||I1(c,t,r,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ra(r),r=Xe(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ia(t){return'href="'+me(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function Pp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function I1(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",r),oe(n),t.head.appendChild(n))}function ra(t){return'[src="'+me(t)+'"]'}function Nl(t){return"script[async]"+t}function Bp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+me(r.href)+'"]');if(l)return n.instance=l,oe(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),oe(l),Pe(l,"style",c),vu(l,r.precedence,t),n.instance=l;case"stylesheet":c=ia(r.href);var f=t.querySelector(Dl(c));if(f)return n.state.loading|=4,n.instance=f,oe(f),f;l=Pp(r),(c=Rn.get(c))&&uf(l,c),f=(t.ownerDocument||t).createElement("link"),oe(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Pe(f,"link",l),n.state.loading|=4,vu(f,r.precedence,t),n.instance=f;case"script":return f=ra(r.src),(c=t.querySelector(Nl(f)))?(n.instance=c,oe(c),c):(l=r,(c=Rn.get(f))&&(l=A({},r),cf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),oe(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,vu(l,r.precedence,t));return n.instance}function vu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function uf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Eu=null;function qp(t,n,r){if(Eu===null){var l=new Map,c=Eu=new Map;c.set(r,l)}else c=Eu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Vr]||f[Te]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function kp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function M1(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Hp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Vl=null;function O1(){}function x1(t,n,r){if(Vl===null)throw Error(s(475));var l=Vl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ia(r.href),f=t.querySelector(Dl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Tu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,oe(f);return}f=t.ownerDocument||t,r=Pp(r),(c=Rn.get(c))&&uf(r,c),f=f.createElement("link"),oe(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Pe(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Tu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function U1(){if(Vl===null)throw Error(s(475));var t=Vl;return t.stylesheets&&t.count===0&&hf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&hf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Tu(){if(this.count--,this.count===0){if(this.stylesheets)hf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Au=null;function hf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Au=new Map,n.forEach(L1,t),Au=null,Tu.call(t))}function L1(t,n){if(!(n.state.loading&4)){var r=Au.get(t);if(r)var l=r.get(null);else{r=new Map,Au.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=Tu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Il={$$typeof:ct,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function z1(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Gp(t,n,r,l,c,f,y,E,R,P,G,F){return t=new z1(t,n,r,y,E,R,P,F),n=1,f===!0&&(n|=24),f=ln(3,null,null,n),t.current=f,f.stateNode=t,n=Qc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Xc(f),t}function Qp(t){return t?(t=Us,t):Us}function Fp(t,n,r,l,c,f){c=Qp(c),l.context===null?l.context=c:l.pendingContext=c,l=qi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=ki(t,l,n),r!==null&&(fn(r,t,n),ll(r,t,n))}function Yp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function ff(t,n){Yp(t,n),(t=t.alternate)&&Yp(t,n)}function Kp(t){if(t.tag===13){var n=xs(t,67108864);n!==null&&fn(n,t,67108864),ff(t,67108864)}}var Su=!0;function j1(t,n,r,l){var c=H.T;H.T=null;var f=et.p;try{et.p=2,df(t,n,r,l)}finally{et.p=f,H.T=c}}function P1(t,n,r,l){var c=H.T;H.T=null;var f=et.p;try{et.p=8,df(t,n,r,l)}finally{et.p=f,H.T=c}}function df(t,n,r,l){if(Su){var c=mf(l);if(c===null)Wh(t,n,l,bu,r),Zp(t,l);else if(q1(c,t,n,r,l))l.stopPropagation();else if(Zp(t,l),n&4&&-1<B1.indexOf(t)){for(;c!==null;){var f=Ln(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Cn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-ke(y);E.entanglements[1]|=R,y&=~R}Zn(f),(Ht&6)===0&&(lu=dn()+500,bl(0))}}break;case 13:E=xs(f,2),E!==null&&fn(E,f,2),uu(),ff(f,2)}if(f=mf(l),f===null&&Wh(t,n,l,bu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Wh(t,n,l,null,r)}}function mf(t){return t=pn(t),gf(t)}var bu=null;function gf(t){if(bu=null,t=ai(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return bu=t,null}function Xp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yc()){case Na:return 2;case ds:return 8;case Rr:case _c:return 32;case ms:return 268435456;default:return 32}default:return 32}}var pf=!1,er=null,nr=null,ir=null,Ml=new Map,Ol=new Map,rr=[],B1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zp(t,n){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":Ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function xl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Ln(n),n!==null&&Kp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function q1(t,n,r,l,c){switch(n){case"focusin":return er=xl(er,t,n,r,l,c),!0;case"dragenter":return nr=xl(nr,t,n,r,l,c),!0;case"mouseover":return ir=xl(ir,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Ml.set(f,xl(Ml.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ol.set(f,xl(Ol.get(f)||null,t,n,r,l,c)),!0}return!1}function $p(t){var n=ai(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,oo(t.priority,function(){if(r.tag===13){var l=hn();l=Mi(l);var c=xs(r,l);c!==null&&fn(c,r,l),ff(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ru(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=mf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);ci=l,r.target.dispatchEvent(l),ci=null}else return n=Ln(r),n!==null&&Kp(n),t.blockedOn=r,!1;n.shift()}return!0}function Jp(t,n,r){Ru(t)&&r.delete(n)}function k1(){pf=!1,er!==null&&Ru(er)&&(er=null),nr!==null&&Ru(nr)&&(nr=null),ir!==null&&Ru(ir)&&(ir=null),Ml.forEach(Jp),Ol.forEach(Jp)}function wu(t,n){t.blockedOn===n&&(t.blockedOn=null,pf||(pf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,k1)))}var Cu=null;function Wp(t){Cu!==t&&(Cu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Cu===t&&(Cu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(gf(l||r)===null)continue;break}var f=Ln(r);f!==null&&(t.splice(n,3),n-=3,mh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Ul(t){function n(R){return wu(R,t)}er!==null&&wu(er,t),nr!==null&&wu(nr,t),ir!==null&&wu(ir,t),Ml.forEach(n),Ol.forEach(n);for(var r=0;r<rr.length;r++){var l=rr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<rr.length&&(r=rr[0],r.blockedOn===null);)$p(r),r.blockedOn===null&&rr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[de]||null;if(typeof f=="function")y||Wp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[de]||null)E=y.formAction;else if(gf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Wp(r)}}}function yf(t){this._internalRoot=t}Du.prototype.render=yf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=hn();Fp(r,l,t,n,null,null)},Du.prototype.unmount=yf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Fp(t.current,2,null,t,null,null),uu(),n[mn]=null}};function Du(t){this._internalRoot=t}Du.prototype.unstable_scheduleHydration=function(t){if(t){var n=Oi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<rr.length&&n!==0&&n<rr[r].priority;r++);rr.splice(r,0,t),r===0&&$p(t)}};var ty=e.version;if(ty!=="19.1.1")throw Error(s(527,ty,"19.1.1"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var H1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{se=Nu.inject(H1),kt=Nu}catch{}}return zl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=pg,f=yg,y=_g,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Gp(t,1,!1,null,null,r,l,c,f,y,E,null),t[mn]=n.current,Jh(t),new yf(n)},zl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",f=pg,y=yg,E=_g,R=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=Gp(t,1,!0,n,r??null,l,c,f,y,E,R,P),n.context=Qp(null),r=n.current,l=hn(),l=Mi(l),c=qi(l),c.callback=null,ki(r,c,l),r=l,n.current.lanes=r,si(n,r),Zn(n),t[mn]=n.current,Jh(t),new Du(n)},zl.version="19.1.1",zl}var cy;function tE(){if(cy)return Ef.exports;cy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Ef.exports=W1(),Ef.exports}var eE=tE();const M_="/groove_web/assets/Groove_logo-CRq7a4Oe.svg",nE="/groove_web/assets/header_img_1-CLYYSeJv.png",iE="/groove_web/assets/header_img_2-CAiaBnkB.png",rE="/groove_web/assets/header_img_3-BG0sHVFg.png",sE="/groove_web/assets/header_img_4-Bw95xS42.png",aE=()=>{const a=[nE,iE,rE,sE],[e,i]=pt.useState(0);return pt.useEffect(()=>{const s=setInterval(()=>{i(o=>(o+1)%a.length)},5e3);return()=>clearInterval(s)},[a.length]),x.jsxs("div",{className:"header-bg","aria-hidden":"true",children:[a.map((s,o)=>x.jsx("img",{src:s,alt:"",className:`bg-layer ${o===e?"active":""}`},o)),x.jsx("div",{className:"bg-overlay"})]})};var O_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},hy=ls.createContext&&ls.createContext(O_),lE=["attr","size","title"];function oE(a,e){if(a==null)return{};var i=uE(a,e),s,o;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(a);for(o=0;o<h.length;o++)s=h[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(a,s)&&(i[s]=a[s])}return i}function uE(a,e){if(a==null)return{};var i={};for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s)){if(e.indexOf(s)>=0)continue;i[s]=a[s]}return i}function ku(){return ku=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])}return a},ku.apply(this,arguments)}function fy(a,e){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,s)}return i}function Hu(a){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?fy(Object(i),!0).forEach(function(s){cE(a,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):fy(Object(i)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(i,s))})}return a}function cE(a,e,i){return e=hE(e),e in a?Object.defineProperty(a,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[e]=i,a}function hE(a){var e=fE(a,"string");return typeof e=="symbol"?e:e+""}function fE(a,e){if(typeof a!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var s=i.call(a,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function x_(a){return a&&a.map((e,i)=>ls.createElement(e.tag,Hu({key:i},e.attr),x_(e.child)))}function Er(a){return e=>ls.createElement(dE,ku({attr:Hu({},a.attr)},e),x_(a.child))}function dE(a){var e=i=>{var{attr:s,size:o,title:h}=a,d=oE(a,lE),g=o||i.size||"1em",_;return i.className&&(_=i.className),a.className&&(_=(_?_+" ":"")+a.className),ls.createElement("svg",ku({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,s,d,{className:_,style:Hu(Hu({color:a.color||i.color},i.style),a.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),h&&ls.createElement("title",null,h),a.children)};return hy!==void 0?ls.createElement(hy.Consumer,null,i=>e(i)):e(O_)}function U_(a){return Er({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(a)}function L_(a){return Er({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(a)}function mE(a){return Er({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(a)}function z_(a){return Er({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M296 464h-56V338.78l168.74-168.73c15.52-15.52 4.53-42.05-17.42-42.05H24.68c-21.95 0-32.94 26.53-17.42 42.05L176 338.78V464h-56c-22.09 0-40 17.91-40 40 0 4.42 3.58 8 8 8h240c4.42 0 8-3.58 8-8 0-22.09-17.91-40-40-40zM432 0c-62.61 0-115.35 40.2-135.18 96h52.54c16.65-28.55 47.27-48 82.64-48 52.93 0 96 43.06 96 96s-43.07 96-96 96c-14.04 0-27.29-3.2-39.32-8.64l-35.26 35.26C379.23 279.92 404.59 288 432 288c79.53 0 144-64.47 144-144S511.53 0 432 0z"},child:[]}]})(a)}function j_(a){return Er({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 384h192c53 0 96-43 96-96h32c70.6 0 128-57.4 128-128S582.6 32 512 32H120c-13.3 0-24 10.7-24 24v232c0 53 43 96 96 96zM512 96c35.3 0 64 28.7 64 64s-28.7 64-64 64h-32V96h32zm47.7 384H48.3c-47.6 0-61-64-36-64h583.3c25 0 11.8 64-35.9 64z"},child:[]}]})(a)}function gE(a){return Er({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(a)}function pE(a){return Er({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M158.87.15c-16.16-1.52-31.2 8.42-35.33 24.12l-14.81 56.27c187.62 5.49 314.54 130.61 322.48 317l56.94-15.78c15.72-4.36 25.49-19.68 23.62-35.9C490.89 165.08 340.78 17.32 158.87.15zm-58.47 112L.55 491.64a16.21 16.21 0 0 0 20 19.75l379-105.1c-4.27-174.89-123.08-292.14-299.15-294.1zM128 416a32 32 0 1 1 32-32 32 32 0 0 1-32 32zm48-152a32 32 0 1 1 32-32 32 32 0 0 1-32 32zm104 104a32 32 0 1 1 32-32 32 32 0 0 1-32 32z"},child:[]}]})(a)}function Uf(a){return Er({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18.06 22.99h1.66c.84 0 1.53-.64 1.63-1.46L23 5.05h-5V1h-1.97v4.05h-4.97l.3 2.34c1.71.47 3.31 1.32 4.27 2.26 1.44 1.42 2.43 2.89 2.43 5.29v8.05zM1 21.99V21h15.03v.99c0 .55-.45 1-1.01 1H2.01c-.56 0-1.01-.45-1.01-1zm15.03-7c0-8-15.03-8-15.03 0h15.03zM1.02 17h15v2h-15z"},child:[]}]})(a)}const dy={desayuno:{title:"Nuestro Café",desc:"Café de especialidad, y variedad de opciones para tu desayuno y merienda.",icon:x.jsx(j_,{className:"menu-icon"})},almuerzo:{title:"Almuerzo/Cena",desc:"Disfruta de nuestras pizzas, ensaladas, picadas, burgers, pastas y comida de nuestro chef",icon:x.jsx(Uf,{className:"menu-icon"})},bebidas:{title:"Cócteles",desc:"Desde los clasicos como el Fernet Branca, hasta aperitivos, vermucitos y gin",icon:x.jsx(z_,{className:"menu-icon"})}},my=a=>{if(!a)return x.jsx(Uf,{className:"menu-icon"});const e=a.toLowerCase();return e.includes("café")||e.includes("desayuno")||e.includes("breakfast")?x.jsx(j_,{className:"menu-icon"}):e.includes("bebida")||e.includes("Coctelería")||e.includes("cocktail")||e.includes("bar")?x.jsx(z_,{className:"menu-icon"}):e.includes("pizza")?x.jsx(pE,{className:"menu-icon"}):x.jsx(Uf,{className:"menu-icon"})},yE=({type:a,menuData:e,onMore:i})=>{let s;return e?s={title:e.title||"Menú",desc:e.description||"Descubre nuestros deliciosos platos",icon:my(e.title)}:dy[a]?s=dy[a]:s={title:a.charAt(0).toUpperCase()+a.slice(1),desc:"Descubre nuestros deliciosos platos",icon:my(a)},s?x.jsxs("div",{className:"menu-card",children:[s.icon,x.jsx("h2",{children:s.title}),x.jsx("p",{children:s.desc}),x.jsx("button",{onClick:i,children:"Ver Menú"})]}):null},_E=()=>{};var gy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},vE=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},B_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,_=o+2<a.length,v=_?a[o+2]:0,A=h>>2,V=(h&3)<<4|g>>4;let N=(g&15)<<2|v>>6,Y=v&63;_||(Y=64,d||(N=64)),s.push(i[A],i[V],i[N],i[Y])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(P_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):vE(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const v=o<a.length?i[a.charAt(o)]:64;++o;const V=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||v==null||V==null)throw new EE;const N=h<<2|g>>4;if(s.push(N),v!==64){const Y=g<<4&240|v>>2;if(s.push(Y),V!==64){const J=v<<6&192|V;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class EE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TE=function(a){const e=P_(a);return B_.encodeByteArray(e,!0)},Gu=function(a){return TE(a).replace(/\./g,"")},AE=function(a){try{return B_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=()=>SE().__FIREBASE_DEFAULTS__,RE=()=>{if(typeof process>"u"||typeof gy>"u")return;const a=gy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},wE=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&AE(a[1]);return e&&JSON.parse(e)},ld=()=>{try{return _E()||bE()||RE()||wE()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},CE=a=>ld()?.emulatorHosts?.[a],DE=a=>{const e=CE(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},q_=()=>ld()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VE(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Gu(JSON.stringify(i)),Gu(JSON.stringify(d)),""].join(".")}const kl={};function ME(){const a={prod:[],emulator:[]};for(const e of Object.keys(kl))kl[e]?a.emulator.push(e):a.prod.push(e);return a}function OE(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let py=!1;function xE(a,e){if(typeof window>"u"||typeof document>"u"||!od(window.location.host)||kl[a]===e||kl[a]||py)return;kl[a]=e;function i(N){return`__firebase__banner__${N}`}const s="__firebase__banner",h=ME().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,Y){N.setAttribute("width","24"),N.setAttribute("id",Y),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function v(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{py=!0,d()},N}function A(N,Y){N.setAttribute("id",Y),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function V(){const N=OE(s),Y=i("text"),J=document.getElementById(Y)||document.createElement("span"),it=i("learnmore"),W=document.getElementById(it)||document.createElement("a"),At=i("preprendIcon"),dt=document.getElementById(At)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ct=N.element;g(ct),A(W,it);const Vt=v();_(dt,At),ct.append(dt,J,W,Vt),document.body.appendChild(ct)}h?(J.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",V):V()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LE(){const a=ld()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zE(){return!LE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jE(){try{return typeof indexedDB=="object"}catch{return!1}}function PE(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="FirebaseError";class Aa extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=BE,Object.setPrototypeOf(this,Aa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,k_.prototype.create)}}class k_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?qE(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Aa(o,g,s)}}function qE(a,e){return a.replace(kE,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const kE=/\{\$([^}]+)}/g;function Qu(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=e[o];if(yy(h)&&yy(d)){if(!Qu(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function yy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(a){return a&&a._delegate?a._delegate:a}class Yl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new NE;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QE(e))try{this.getOrInitializeService({instanceIdentifier:ss})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ss){return this.instances.has(e)}getOptions(e=ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const h=this.instances.get(s);return h&&e(h,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:GE(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ss){return this.component?this.component.multipleInstances?e:ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GE(a){return a===ss?void 0:a}function QE(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new HE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ut||(Ut={}));const YE={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},KE=Ut.INFO,XE={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},ZE=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=XE[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class H_{constructor(e){this.name=e,this._logLevel=KE,this._logHandler=ZE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const $E=(a,e)=>e.some(i=>a instanceof i);let _y,vy;function JE(){return _y||(_y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WE(){return vy||(vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G_=new WeakMap,Lf=new WeakMap,Q_=new WeakMap,bf=new WeakMap,ud=new WeakMap;function tT(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(or(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&G_.set(i,a)}).catch(()=>{}),ud.set(e,a),e}function eT(a){if(Lf.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Lf.set(a,e)}let zf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Lf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Q_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return or(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function nT(a){zf=a(zf)}function iT(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Rf(this),e,...i);return Q_.set(s,e.sort?e.sort():[e]),or(s)}:WE().includes(a)?function(...e){return a.apply(Rf(this),e),or(G_.get(this))}:function(...e){return or(a.apply(Rf(this),e))}}function rT(a){return typeof a=="function"?iT(a):(a instanceof IDBTransaction&&eT(a),$E(a,JE())?new Proxy(a,zf):a)}function or(a){if(a instanceof IDBRequest)return tT(a);if(bf.has(a))return bf.get(a);const e=rT(a);return e!==a&&(bf.set(a,e),ud.set(e,a)),e}const Rf=a=>ud.get(a);function sT(a,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=or(d);return s&&d.addEventListener("upgradeneeded",_=>{s(or(d.result),_.oldVersion,_.newVersion,or(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const aT=["get","getKey","getAll","getAllKeys","count"],lT=["put","add","delete","clear"],wf=new Map;function Ey(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(wf.get(e))return wf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=lT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||aT.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return wf.set(e,h),h}nT(a=>({...a,get:(e,i,s)=>Ey(e,i)||a.get(e,i,s),has:(e,i)=>!!Ey(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(uT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function uT(a){return a.getComponent()?.type==="VERSION"}const jf="@firebase/app",Ty="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new H_("@firebase/app"),cT="@firebase/app-compat",hT="@firebase/analytics-compat",fT="@firebase/analytics",dT="@firebase/app-check-compat",mT="@firebase/app-check",gT="@firebase/auth",pT="@firebase/auth-compat",yT="@firebase/database",_T="@firebase/data-connect",vT="@firebase/database-compat",ET="@firebase/functions",TT="@firebase/functions-compat",AT="@firebase/installations",ST="@firebase/installations-compat",bT="@firebase/messaging",RT="@firebase/messaging-compat",wT="@firebase/performance",CT="@firebase/performance-compat",DT="@firebase/remote-config",NT="@firebase/remote-config-compat",VT="@firebase/storage",IT="@firebase/storage-compat",MT="@firebase/firestore",OT="@firebase/ai",xT="@firebase/firestore-compat",UT="firebase",LT="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="[DEFAULT]",zT={[jf]:"fire-core",[cT]:"fire-core-compat",[fT]:"fire-analytics",[hT]:"fire-analytics-compat",[mT]:"fire-app-check",[dT]:"fire-app-check-compat",[gT]:"fire-auth",[pT]:"fire-auth-compat",[yT]:"fire-rtdb",[_T]:"fire-data-connect",[vT]:"fire-rtdb-compat",[ET]:"fire-fn",[TT]:"fire-fn-compat",[AT]:"fire-iid",[ST]:"fire-iid-compat",[bT]:"fire-fcm",[RT]:"fire-fcm-compat",[wT]:"fire-perf",[CT]:"fire-perf-compat",[DT]:"fire-rc",[NT]:"fire-rc-compat",[VT]:"fire-gcs",[IT]:"fire-gcs-compat",[MT]:"fire-fst",[xT]:"fire-fst-compat",[OT]:"fire-vertex","fire-js":"fire-js",[UT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=new Map,jT=new Map,Bf=new Map;function Ay(a,e){try{a.container.addComponent(e)}catch(i){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Yu(a){const e=a.name;if(Bf.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;Bf.set(e,a);for(const i of Fu.values())Ay(i,a);for(const i of jT.values())Ay(i,a);return!0}function PT(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function BT(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new k_("app","Firebase",qT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=LT;function F_(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s={name:Pf,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ur.create("bad-app-name",{appName:String(o)});if(i||(i=q_()),!i)throw ur.create("no-options");const h=Fu.get(o);if(h){if(Qu(i,h.options)&&Qu(s,h.config))return h;throw ur.create("duplicate-app",{appName:o})}const d=new FE(o);for(const _ of Bf.values())d.addComponent(_);const g=new kT(i,s,d);return Fu.set(o,g),g}function GT(a=Pf){const e=Fu.get(a);if(!e&&a===Pf&&q_())return F_();if(!e)throw ur.create("no-app",{appName:a});return e}function ca(a,e,i){let s=zT[a]??a;i&&(s+=`-${i}`);const o=s.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(d.join(" "));return}Yu(new Yl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="firebase-heartbeat-database",FT=1,Kl="firebase-heartbeat-store";let Cf=null;function Y_(){return Cf||(Cf=sT(QT,FT,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Kl)}catch(i){console.warn(i)}}}}).catch(a=>{throw ur.create("idb-open",{originalErrorMessage:a.message})})),Cf}async function YT(a){try{const i=(await Y_()).transaction(Kl),s=await i.objectStore(Kl).get(K_(a));return await i.done,s}catch(e){if(e instanceof Aa)Ni.warn(e.message);else{const i=ur.create("idb-get",{originalErrorMessage:e?.message});Ni.warn(i.message)}}}async function Sy(a,e){try{const s=(await Y_()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,K_(a)),await s.done}catch(i){if(i instanceof Aa)Ni.warn(i.message);else{const s=ur.create("idb-set",{originalErrorMessage:i?.message});Ni.warn(s.message)}}}function K_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=1024,XT=30;class ZT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new JT(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=by();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>XT){const o=WT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ni.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=by(),{heartbeatsToSend:i,unsentEntries:s}=$T(this._heartbeatsCache.heartbeats),o=Gu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ni.warn(e),""}}}function by(){return new Date().toISOString().substring(0,10)}function $T(a,e=KT){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Ry(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Ry(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class JT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jE()?PE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await YT(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Sy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Sy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ry(a){return Gu(JSON.stringify({version:2,heartbeats:a})).length}function WT(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(a){Yu(new Yl("platform-logger",e=>new oT(e),"PRIVATE")),Yu(new Yl("heartbeat",e=>new ZT(e),"PRIVATE")),ca(jf,Ty,a),ca(jf,Ty,"esm2020"),ca("fire-js","")}t2("");var e2="firebase",n2="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ca(e2,n2,"app");var wy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cr,X_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function b(){}b.prototype=S.prototype,O.D=S.prototype,O.prototype=new b,O.prototype.constructor=O,O.C=function(I,M,L){for(var w=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)w[xe-2]=arguments[xe];return S.prototype[M].apply(I,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,S,b){b||(b=0);var I=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)I[M]=S.charCodeAt(b++)|S.charCodeAt(b++)<<8|S.charCodeAt(b++)<<16|S.charCodeAt(b++)<<24;else for(M=0;16>M;++M)I[M]=S[b++]|S[b++]<<8|S[b++]<<16|S[b++]<<24;S=O.g[0],b=O.g[1],M=O.g[2];var L=O.g[3],w=S+(L^b&(M^L))+I[0]+3614090360&4294967295;S=b+(w<<7&4294967295|w>>>25),w=L+(M^S&(b^M))+I[1]+3905402710&4294967295,L=S+(w<<12&4294967295|w>>>20),w=M+(b^L&(S^b))+I[2]+606105819&4294967295,M=L+(w<<17&4294967295|w>>>15),w=b+(S^M&(L^S))+I[3]+3250441966&4294967295,b=M+(w<<22&4294967295|w>>>10),w=S+(L^b&(M^L))+I[4]+4118548399&4294967295,S=b+(w<<7&4294967295|w>>>25),w=L+(M^S&(b^M))+I[5]+1200080426&4294967295,L=S+(w<<12&4294967295|w>>>20),w=M+(b^L&(S^b))+I[6]+2821735955&4294967295,M=L+(w<<17&4294967295|w>>>15),w=b+(S^M&(L^S))+I[7]+4249261313&4294967295,b=M+(w<<22&4294967295|w>>>10),w=S+(L^b&(M^L))+I[8]+1770035416&4294967295,S=b+(w<<7&4294967295|w>>>25),w=L+(M^S&(b^M))+I[9]+2336552879&4294967295,L=S+(w<<12&4294967295|w>>>20),w=M+(b^L&(S^b))+I[10]+4294925233&4294967295,M=L+(w<<17&4294967295|w>>>15),w=b+(S^M&(L^S))+I[11]+2304563134&4294967295,b=M+(w<<22&4294967295|w>>>10),w=S+(L^b&(M^L))+I[12]+1804603682&4294967295,S=b+(w<<7&4294967295|w>>>25),w=L+(M^S&(b^M))+I[13]+4254626195&4294967295,L=S+(w<<12&4294967295|w>>>20),w=M+(b^L&(S^b))+I[14]+2792965006&4294967295,M=L+(w<<17&4294967295|w>>>15),w=b+(S^M&(L^S))+I[15]+1236535329&4294967295,b=M+(w<<22&4294967295|w>>>10),w=S+(M^L&(b^M))+I[1]+4129170786&4294967295,S=b+(w<<5&4294967295|w>>>27),w=L+(b^M&(S^b))+I[6]+3225465664&4294967295,L=S+(w<<9&4294967295|w>>>23),w=M+(S^b&(L^S))+I[11]+643717713&4294967295,M=L+(w<<14&4294967295|w>>>18),w=b+(L^S&(M^L))+I[0]+3921069994&4294967295,b=M+(w<<20&4294967295|w>>>12),w=S+(M^L&(b^M))+I[5]+3593408605&4294967295,S=b+(w<<5&4294967295|w>>>27),w=L+(b^M&(S^b))+I[10]+38016083&4294967295,L=S+(w<<9&4294967295|w>>>23),w=M+(S^b&(L^S))+I[15]+3634488961&4294967295,M=L+(w<<14&4294967295|w>>>18),w=b+(L^S&(M^L))+I[4]+3889429448&4294967295,b=M+(w<<20&4294967295|w>>>12),w=S+(M^L&(b^M))+I[9]+568446438&4294967295,S=b+(w<<5&4294967295|w>>>27),w=L+(b^M&(S^b))+I[14]+3275163606&4294967295,L=S+(w<<9&4294967295|w>>>23),w=M+(S^b&(L^S))+I[3]+4107603335&4294967295,M=L+(w<<14&4294967295|w>>>18),w=b+(L^S&(M^L))+I[8]+1163531501&4294967295,b=M+(w<<20&4294967295|w>>>12),w=S+(M^L&(b^M))+I[13]+2850285829&4294967295,S=b+(w<<5&4294967295|w>>>27),w=L+(b^M&(S^b))+I[2]+4243563512&4294967295,L=S+(w<<9&4294967295|w>>>23),w=M+(S^b&(L^S))+I[7]+1735328473&4294967295,M=L+(w<<14&4294967295|w>>>18),w=b+(L^S&(M^L))+I[12]+2368359562&4294967295,b=M+(w<<20&4294967295|w>>>12),w=S+(b^M^L)+I[5]+4294588738&4294967295,S=b+(w<<4&4294967295|w>>>28),w=L+(S^b^M)+I[8]+2272392833&4294967295,L=S+(w<<11&4294967295|w>>>21),w=M+(L^S^b)+I[11]+1839030562&4294967295,M=L+(w<<16&4294967295|w>>>16),w=b+(M^L^S)+I[14]+4259657740&4294967295,b=M+(w<<23&4294967295|w>>>9),w=S+(b^M^L)+I[1]+2763975236&4294967295,S=b+(w<<4&4294967295|w>>>28),w=L+(S^b^M)+I[4]+1272893353&4294967295,L=S+(w<<11&4294967295|w>>>21),w=M+(L^S^b)+I[7]+4139469664&4294967295,M=L+(w<<16&4294967295|w>>>16),w=b+(M^L^S)+I[10]+3200236656&4294967295,b=M+(w<<23&4294967295|w>>>9),w=S+(b^M^L)+I[13]+681279174&4294967295,S=b+(w<<4&4294967295|w>>>28),w=L+(S^b^M)+I[0]+3936430074&4294967295,L=S+(w<<11&4294967295|w>>>21),w=M+(L^S^b)+I[3]+3572445317&4294967295,M=L+(w<<16&4294967295|w>>>16),w=b+(M^L^S)+I[6]+76029189&4294967295,b=M+(w<<23&4294967295|w>>>9),w=S+(b^M^L)+I[9]+3654602809&4294967295,S=b+(w<<4&4294967295|w>>>28),w=L+(S^b^M)+I[12]+3873151461&4294967295,L=S+(w<<11&4294967295|w>>>21),w=M+(L^S^b)+I[15]+530742520&4294967295,M=L+(w<<16&4294967295|w>>>16),w=b+(M^L^S)+I[2]+3299628645&4294967295,b=M+(w<<23&4294967295|w>>>9),w=S+(M^(b|~L))+I[0]+4096336452&4294967295,S=b+(w<<6&4294967295|w>>>26),w=L+(b^(S|~M))+I[7]+1126891415&4294967295,L=S+(w<<10&4294967295|w>>>22),w=M+(S^(L|~b))+I[14]+2878612391&4294967295,M=L+(w<<15&4294967295|w>>>17),w=b+(L^(M|~S))+I[5]+4237533241&4294967295,b=M+(w<<21&4294967295|w>>>11),w=S+(M^(b|~L))+I[12]+1700485571&4294967295,S=b+(w<<6&4294967295|w>>>26),w=L+(b^(S|~M))+I[3]+2399980690&4294967295,L=S+(w<<10&4294967295|w>>>22),w=M+(S^(L|~b))+I[10]+4293915773&4294967295,M=L+(w<<15&4294967295|w>>>17),w=b+(L^(M|~S))+I[1]+2240044497&4294967295,b=M+(w<<21&4294967295|w>>>11),w=S+(M^(b|~L))+I[8]+1873313359&4294967295,S=b+(w<<6&4294967295|w>>>26),w=L+(b^(S|~M))+I[15]+4264355552&4294967295,L=S+(w<<10&4294967295|w>>>22),w=M+(S^(L|~b))+I[6]+2734768916&4294967295,M=L+(w<<15&4294967295|w>>>17),w=b+(L^(M|~S))+I[13]+1309151649&4294967295,b=M+(w<<21&4294967295|w>>>11),w=S+(M^(b|~L))+I[4]+4149444226&4294967295,S=b+(w<<6&4294967295|w>>>26),w=L+(b^(S|~M))+I[11]+3174756917&4294967295,L=S+(w<<10&4294967295|w>>>22),w=M+(S^(L|~b))+I[2]+718787259&4294967295,M=L+(w<<15&4294967295|w>>>17),w=b+(L^(M|~S))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+L&4294967295}s.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var b=S-this.blockSize,I=this.B,M=this.h,L=0;L<S;){if(M==0)for(;L<=b;)o(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<S;)if(I[M++]=O.charCodeAt(L++),M==this.blockSize){o(this,I),M=0;break}}else for(;L<S;)if(I[M++]=O[L++],M==this.blockSize){o(this,I),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var b=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=b&255,b/=256;for(this.u(O),O=Array(16),S=b=0;4>S;++S)for(var I=0;32>I;I+=8)O[b++]=this.g[S]>>>I&255;return O};function h(O,S){var b=g;return Object.prototype.hasOwnProperty.call(b,O)?b[O]:b[O]=S(O)}function d(O,S){this.h=S;for(var b=[],I=!0,M=O.length-1;0<=M;M--){var L=O[M]|0;I&&L==S||(b[M]=L,I=!1)}this.g=b}var g={};function _(O){return-128<=O&&128>O?h(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return V;if(0>O)return W(v(-O));for(var S=[],b=1,I=0;O>=b;I++)S[I]=O/b|0,b*=4294967296;return new d(S,0)}function A(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return W(A(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=v(Math.pow(S,8)),I=V,M=0;M<O.length;M+=8){var L=Math.min(8,O.length-M),w=parseInt(O.substring(M,M+L),S);8>L?(L=v(Math.pow(S,L)),I=I.j(L).add(v(w))):(I=I.j(b),I=I.add(v(w)))}return I}var V=_(0),N=_(1),Y=_(16777216);a=d.prototype,a.m=function(){if(it(this))return-W(this).m();for(var O=0,S=1,b=0;b<this.g.length;b++){var I=this.i(b);O+=(0<=I?I:4294967296+I)*S,S*=4294967296}return O},a.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(J(this))return"0";if(it(this))return"-"+W(this).toString(O);for(var S=v(Math.pow(O,6)),b=this,I="";;){var M=Vt(b,S).g;b=At(b,M.j(S));var L=((0<b.g.length?b.g[0]:b.h)>>>0).toString(O);if(b=M,J(b))return L+I;for(;6>L.length;)L="0"+L;I=L+I}},a.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function J(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function it(O){return O.h==-1}a.l=function(O){return O=At(this,O),it(O)?-1:J(O)?0:1};function W(O){for(var S=O.g.length,b=[],I=0;I<S;I++)b[I]=~O.g[I];return new d(b,~O.h).add(N)}a.abs=function(){return it(this)?W(this):this},a.add=function(O){for(var S=Math.max(this.g.length,O.g.length),b=[],I=0,M=0;M<=S;M++){var L=I+(this.i(M)&65535)+(O.i(M)&65535),w=(L>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);I=w>>>16,L&=65535,w&=65535,b[M]=w<<16|L}return new d(b,b[b.length-1]&-2147483648?-1:0)};function At(O,S){return O.add(W(S))}a.j=function(O){if(J(this)||J(O))return V;if(it(this))return it(O)?W(this).j(W(O)):W(W(this).j(O));if(it(O))return W(this.j(W(O)));if(0>this.l(Y)&&0>O.l(Y))return v(this.m()*O.m());for(var S=this.g.length+O.g.length,b=[],I=0;I<2*S;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(var M=0;M<O.g.length;M++){var L=this.i(I)>>>16,w=this.i(I)&65535,xe=O.i(M)>>>16,re=O.i(M)&65535;b[2*I+2*M]+=w*re,dt(b,2*I+2*M),b[2*I+2*M+1]+=L*re,dt(b,2*I+2*M+1),b[2*I+2*M+1]+=w*xe,dt(b,2*I+2*M+1),b[2*I+2*M+2]+=L*xe,dt(b,2*I+2*M+2)}for(I=0;I<S;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=S;I<2*S;I++)b[I]=0;return new d(b,0)};function dt(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function ct(O,S){this.g=O,this.h=S}function Vt(O,S){if(J(S))throw Error("division by zero");if(J(O))return new ct(V,V);if(it(O))return S=Vt(W(O),S),new ct(W(S.g),W(S.h));if(it(S))return S=Vt(O,W(S)),new ct(W(S.g),S.h);if(30<O.g.length){if(it(O)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var b=N,I=S;0>=I.l(O);)b=yt(b),I=yt(I);var M=Dt(b,1),L=Dt(I,1);for(I=Dt(I,2),b=Dt(b,2);!J(I);){var w=L.add(I);0>=w.l(O)&&(M=M.add(b),L=w),I=Dt(I,1),b=Dt(b,1)}return S=At(O,M.j(S)),new ct(M,S)}for(M=V;0<=O.l(S);){for(b=Math.max(1,Math.floor(O.m()/S.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),L=v(b),w=L.j(S);it(w)||0<w.l(O);)b-=I,L=v(b),w=L.j(S);J(L)&&(L=N),M=M.add(L),O=At(O,w)}return new ct(M,O)}a.A=function(O){return Vt(this,O).h},a.and=function(O){for(var S=Math.max(this.g.length,O.g.length),b=[],I=0;I<S;I++)b[I]=this.i(I)&O.i(I);return new d(b,this.h&O.h)},a.or=function(O){for(var S=Math.max(this.g.length,O.g.length),b=[],I=0;I<S;I++)b[I]=this.i(I)|O.i(I);return new d(b,this.h|O.h)},a.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),b=[],I=0;I<S;I++)b[I]=this.i(I)^O.i(I);return new d(b,this.h^O.h)};function yt(O){for(var S=O.g.length+1,b=[],I=0;I<S;I++)b[I]=O.i(I)<<1|O.i(I-1)>>>31;return new d(b,O.h)}function Dt(O,S){var b=S>>5;S%=32;for(var I=O.g.length-b,M=[],L=0;L<I;L++)M[L]=0<S?O.i(L+b)>>>S|O.i(L+b+1)<<32-S:O.i(L+b);return new d(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,X_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,cr=d}).apply(typeof wy<"u"?wy:typeof self<"u"?self:typeof window<"u"?window:{});var Vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Z_,jl,$_,zu,qf,J_,W_,tv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vu=="object"&&Vu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var z=u[T];if(!(z in p))break t;p=p[z]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,z={next:function(){if(!T&&p<u.length){var k=p++;return{value:m(k,u[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function V(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,T),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function N(u,m,p){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:V,N.apply(null,arguments)}function Y(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function J(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,z,k){for(var tt=Array(arguments.length-2),It=2;It<arguments.length;It++)tt[It-2]=arguments[It];return m.prototype[z].apply(T,tt)}}function it(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function W(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const z=u.length||0,k=T.length||0;u.length=z+k;for(let tt=0;tt<k;tt++)u[z+tt]=T[tt]}else u.push(T)}}class At{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(u){return/^[\s\xa0]*$/.test(u)}function ct(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Vt(u){return Vt[" "](u),u}Vt[" "]=function(){};var yt=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function Dt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function O(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,m){let p,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(p in T)u[p]=T[p];for(let k=0;k<b.length;k++)p=b[k],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function M(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function L(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Pt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class xe{constructor(){this.h=this.g=null}add(m,p){const T=re.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new At(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ot=!1,Pt=new xe,C=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(X)}};var X=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){L(p)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function bt(u,m){if($.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(yt){t:{try{Vt(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_t[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&bt.aa.h.call(this)}}J(bt,$);var _t={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function xn(u,m,p,T,z){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=z,this.key=++Zt,this.da=this.fa=!1}function Ii(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ii(u){this.src=u,this.g={},this.h=0}ii.prototype.add=function(u,m,p,T,z){var k=u.toString();u=this.g[k],u||(u=this.g[k]=[],this.h++);var tt=Sr(u,m,T,z);return-1<tt?(m=u[tt],p||(m.fa=!1)):(m=new xn(m,this.src,k,!!T,z),m.fa=p,u.push(m)),m};function Ar(u,m){var p=m.type;if(p in u.g){var T=u.g[p],z=Array.prototype.indexOf.call(T,m,void 0),k;(k=0<=z)&&Array.prototype.splice.call(T,z,1),k&&(Ii(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Sr(u,m,p,T){for(var z=0;z<u.length;++z){var k=u[z];if(!k.da&&k.listener==m&&k.capture==!!p&&k.ha==T)return z}return-1}var br="closure_lm_"+(1e6*Math.random()|0),Da={};function so(u,m,p,T,z){if(Array.isArray(m)){for(var k=0;k<m.length;k++)so(u,m[k],p,T,z);return null}return p=ao(p),u&&u[Ce]?u.K(m,p,v(T)?!!T.capture:!1,z):dn(u,m,p,!1,T,z)}function dn(u,m,p,T,z,k){if(!m)throw Error("Invalid event type");var tt=v(z)?!!z.capture:!!z,It=ms(u);if(It||(u[br]=It=new ii(u)),p=It.add(m,p,T,tt,k),p.proxy)return p;if(T=yc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ht||(z=tt),z===void 0&&(z=!1),u.addEventListener(m.toString(),T,z);else if(u.attachEvent)u.attachEvent(Rr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function yc(){function u(p){return m.call(u.src,u.listener,p)}const m=_c;return u}function Na(u,m,p,T,z){if(Array.isArray(m))for(var k=0;k<m.length;k++)Na(u,m[k],p,T,z);else T=v(T)?!!T.capture:!!T,p=ao(p),u&&u[Ce]?(u=u.i,m=String(m).toString(),m in u.g&&(k=u.g[m],p=Sr(k,p,T,z),-1<p&&(Ii(k[p]),Array.prototype.splice.call(k,p,1),k.length==0&&(delete u.g[m],u.h--)))):u&&(u=ms(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Sr(m,p,T,z)),(p=-1<u?m[u]:null)&&ds(p))}function ds(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])Ar(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Rr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=ms(m))?(Ar(p,u),p.h==0&&(p.src=null,m[br]=null)):Ii(u)}}}function Rr(u){return u in Da?Da[u]:Da[u]="on"+u}function _c(u,m){if(u.da)u=!0;else{m=new bt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&ds(u),u=p.call(T,m)}return u}function ms(u){return u=u[br],u instanceof ii?u:null}var Va="__closure_events_fn_"+(1e9*Math.random()>>>0);function ao(u){return typeof u=="function"?u:(u[Va]||(u[Va]=function(m){return u.handleEvent(m)}),u[Va])}function se(){nt.call(this),this.i=new ii(this),this.M=this,this.F=null}J(se,nt),se.prototype[Ce]=!0,se.prototype.removeEventListener=function(u,m,p,T){Na(this,u,m,p,T)};function kt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new $(m,u);else if(m instanceof $)m.target=m.target||u;else{var z=m;m=new $(T,u),I(m,z)}if(z=!0,p)for(var k=p.length-1;0<=k;k--){var tt=m.g=p[k];z=rn(tt,T,!0,m)&&z}if(tt=m.g=u,z=rn(tt,T,!0,m)&&z,z=rn(tt,T,!1,m)&&z,p)for(k=0;k<p.length;k++)tt=m.g=p[k],z=rn(tt,T,!1,m)&&z}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Ii(p[T]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},se.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function rn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,k=0;k<m.length;++k){var tt=m[k];if(tt&&!tt.da&&tt.capture==p){var It=tt.listener,Ae=tt.ha||tt.src;tt.fa&&Ar(u.i,tt),z=It.call(Ae,T)!==!1&&z}}return z&&!T.defaultPrevented}function ke(u,m,p){if(typeof u=="function")p&&(u=N(u,p));else if(u&&typeof u.handleEvent=="function")u=N(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function lo(u){u.g=ke(()=>{u.g=null,u.i&&(u.i=!1,lo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class vc extends nt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:lo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wr(u){nt.call(this),this.h=u,this.g={}}J(wr,nt);var Cr=[];function Dr(u){Dt(u.g,function(m,p){this.g.hasOwnProperty(p)&&ds(m)},u),u.g={}}wr.prototype.N=function(){wr.aa.N.call(this),Dr(this)},wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=g.JSON.stringify,gs=g.JSON.parse,Nr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ia(){}Ia.prototype.h=null;function Ma(u){return u.h||(u.h=u.i())}function Oa(){}var ri={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function si(){$.call(this,"d")}J(si,$);function xa(){$.call(this,"c")}J(xa,$);var Un={},Ua=null;function Mi(){return Ua=Ua||new se}Un.La="serverreachability";function ps(u){$.call(this,Un.La,u)}J(ps,$);function Oi(u){const m=Mi();kt(m,new ps(m))}Un.STAT_EVENT="statevent";function oo(u,m){$.call(this,Un.STAT_EVENT,u),this.stat=m}J(oo,$);function Wt(u){const m=Mi();kt(m,new oo(m,u))}Un.Ma="timingevent";function Te(u,m){$.call(this,Un.Ma,u),this.size=m}J(Te,$);function de(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function mn(){this.g=!0}mn.prototype.xa=function(){this.g=!1};function La(u,m,p,T,z,k){u.info(function(){if(u.g)if(k)for(var tt="",It=k.split("&"),Ae=0;Ae<It.length;Ae++){var Mt=It[Ae].split("=");if(1<Mt.length){var Ne=Mt[0];Mt=Mt[1];var Se=Ne.split("_");tt=2<=Se.length&&Se[1]=="type"?tt+(Ne+"="+Mt+"&"):tt+(Ne+"=redacted&")}}else tt=null;else tt=k;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+p+`
`+tt})}function Ec(u,m,p,T,z,k,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+p+`
`+k+" "+tt})}function xi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vr(u,p)+(T?" "+T:"")})}function uo(u,m){u.info(function(){return"TIMEOUT: "+m})}mn.prototype.info=function(){};function Vr(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var z=T[1];if(Array.isArray(z)&&!(1>z.length)){var k=z[0];if(k!="noop"&&k!="stop"&&k!="close")for(var tt=1;tt<z.length;tt++)z[tt]=""}}}}return Cn(p)}catch{return m}}var Ui={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function zn(){}J(zn,Ia),zn.prototype.g=function(){return new XMLHttpRequest},zn.prototype.i=function(){return{}},Ln=new zn;function Xe(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oe}function oe(){this.i=null,this.g="",this.h=!1}var za={},ys={};function Dn(u,m,p){u.L=1,u.v=Ur(sn(m)),u.m=p,u.P=!0,li(u,null)}function li(u,m){u.F=Date.now(),Ir(u),u.A=sn(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ha(p.i,"t",T),u.C=0,p=u.j.J,u.h=new oe,u.g=wo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new vc(N(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(Cr[0]=z.toString()),z=Cr);for(var k=0;k<z.length;k++){var tt=so(p,z[k],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Oi(),La(u.i,u.u,u.A,u.l,u.R,u.m)}Xe.prototype.ca=function(u){u=u.target;const m=this.M;m&&_n(u)==3?m.j():this.Y(u)},Xe.prototype.Y=function(u){try{if(u==this.g)t:{const Se=_n(this.g);var m=this.g.Ba();const gi=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||_o(this.g)))){this.J||Se!=4||m==7||(m==8||0>=gi?Oi(3):Oi(2)),Li(this);var p=this.g.Z();this.X=p;e:if(co(this)){var T=_o(this.g);u="";var z=T.length,k=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),jn(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(k&&m==z-1)});T.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=p==200,Ec(this.i,this.u,this.A,this.l,this.R,Se,p),this.o){if(this.T&&!this.K){e:{if(this.g){var It,Ae=this.g;if((It=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(It)){var Mt=It;break e}}Mt=null}if(p=Mt)xi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mr(this,p);else{this.o=!1,this.s=3,Wt(12),Ue(this),jn(this);break t}}if(this.P){p=!0;let Le;for(;!this.J&&this.C<tt.length;)if(Le=ho(this,tt),Le==ys){Se==4&&(this.s=4,Wt(14),p=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==za){this.s=4,Wt(15),xi(this.i,this.l,tt,"[Invalid Chunk]"),p=!1;break}else xi(this.i,this.l,Le,null),Mr(this,Le);if(co(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||tt.length!=0||this.h.h||(this.s=1,Wt(16),p=!1),this.o=this.o&&p,!p)xi(this.i,this.l,tt,"[Invalid Chunked Response]"),Ue(this),jn(this);else if(0<tt.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),Hr(Ne),Ne.M=!0,Wt(11))}}else xi(this.i,this.l,tt,null),Mr(this,tt);Se==4&&Ue(this),this.o&&!this.J&&(Se==4?So(this.j,this):(this.o=!1,Ir(this)))}else Rc(this.g),p==400&&0<tt.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Ue(this),jn(this)}}}catch{}finally{}};function co(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ho(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?ys:(p=Number(m.substring(p,T)),isNaN(p)?za:(T+=1,T+p>m.length?ys:(m=m.slice(T,T+p),u.C=T+p,m)))}Xe.prototype.cancel=function(){this.J=!0,Ue(this)};function Ir(u){u.S=Date.now()+u.I,fo(u,u.I)}function fo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(N(u.ba,u),m)}function Li(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Xe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(uo(this.i,this.A),this.L!=2&&(Oi(),Wt(17)),Ue(this),this.s=2,jn(this)):fo(this,this.S-u)};function jn(u){u.j.G==0||u.J||So(u.j,u)}function Ue(u){Li(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Dr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Mr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||ja(p.h,u))){if(!u.K&&ja(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Ns(p),Cs(p);else break t;Ka(p),Wt(18)}}else p.za=z[1],0<p.za-p.T&&37500>z[2]&&p.F&&p.v==0&&!p.C&&(p.C=de(N(p.Za,p),6e3));if(1>=vs(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else mi(p,11)}else if((u.K||p.g==u)&&Ns(p),!dt(m))for(z=p.Da.g.parse(m),m=0;m<z.length;m++){let Mt=z[m];if(p.T=Mt[0],Mt=Mt[1],p.G==2)if(Mt[0]=="c"){p.K=Mt[1],p.ia=Mt[2];const Ne=Mt[3];Ne!=null&&(p.la=Ne,p.j.info("VER="+p.la));const Se=Mt[4];Se!=null&&(p.Aa=Se,p.j.info("SVER="+p.Aa));const gi=Mt[5];gi!=null&&typeof gi=="number"&&0<gi&&(T=1.5*gi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Le=u.g;if(Le){const Qn=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var k=T.h;k.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Es(k,k.h),k.h=null))}if(T.D){const Za=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;Za&&(T.ya=Za,Qt(T.I,T.D,Za))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var tt=u;if(T.qa=Ro(T,T.J?T.ia:null,T.W),tt.K){Ze(T.h,tt);var It=tt,Ae=T.L;Ae&&(It.I=Ae),It.B&&(Li(It),Ir(It)),T.g=tt}else To(T);0<p.i.length&&Ds(p)}else Mt[0]!="stop"&&Mt[0]!="close"||mi(p,7);else p.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?mi(p,7):Fa(p):Mt[0]!="noop"&&p.l&&p.l.ta(Mt),p.v=0)}}Oi(4)}catch{}}var mo=class{constructor(u,m){this.g=u,this.map=m}};function oi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _s(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vs(u){return u.h?1:u.g?u.g.size:0}function ja(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Es(u,m){u.g?u.g.add(m):u.h=m}function Ze(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}oi.prototype.cancel=function(){if(this.i=Pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Pa(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return it(u.i)}function Tc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Ts(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Ba(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Ts(u),T=Tc(u),z=T.length,k=0;k<z;k++)m.call(void 0,T[k],p&&p[k],u)}var Or=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ac(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),z=null;if(0<=T){var k=u[p].substring(0,T);z=u[p].substring(T+1)}else k=u[p];m(k,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,xr(this,u.j),this.o=u.o,this.g=u.g,zi(this,u.s),this.l=u.l;var m=u.i,p=new ci;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),ui(this,p),this.m=u.m}else u&&(m=String(u).match(Or))?(this.h=!1,xr(this,m[1]||"",!0),this.o=gn(m[2]||""),this.g=gn(m[3]||"",!0),zi(this,m[4]),this.l=gn(m[5]||"",!0),ui(this,m[6]||"",!0),this.m=gn(m[7]||"")):(this.h=!1,this.i=new ci(null,this.h))}me.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Lr(m,qa,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Lr(m,qa,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Lr(p,p.charAt(0)=="/"?Sc:ka,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Lr(p,As)),u.join("")};function sn(u){return new me(u)}function xr(u,m,p){u.j=p?gn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function zi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function ui(u,m,p){m instanceof ci?(u.i=m,po(u.i,u.h)):(p||(m=Lr(m,bc)),u.i=new ci(m,u.h))}function Qt(u,m,p){u.i.set(m,p)}function Ur(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function gn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Lr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,go),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function go(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qa=/[#\/\?@]/g,ka=/[#\?:]/g,Sc=/[#\?]/g,bc=/[#\?@]/g,As=/#/g;function ci(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ac(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=ci.prototype,a.add=function(u,m){pn(this),this.i=null,u=Pn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function hi(u,m){pn(u),m=Pn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function fi(u,m){return pn(u),m=Pn(u,m),u.g.has(m)}a.forEach=function(u,m){pn(this),this.g.forEach(function(p,T){p.forEach(function(z){u.call(m,z,T,this)},this)},this)},a.na=function(){pn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const z=u[T];for(let k=0;k<z.length;k++)p.push(m[T])}return p},a.V=function(u){pn(this);let m=[];if(typeof u=="string")fi(this,u)&&(m=m.concat(this.g.get(Pn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},a.set=function(u,m){return pn(this),this.i=null,u=Pn(this,u),fi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ha(u,m,p){hi(u,m),0<p.length&&(u.i=null,u.g.set(Pn(u,m),it(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const k=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var z=k;tt[T]!==""&&(z+="="+encodeURIComponent(String(tt[T]))),u.push(z)}}return this.i=u.join("&")};function Pn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function po(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(p,T){var z=T.toLowerCase();T!=z&&(hi(this,T),Ha(this,z,p))},u)),u.j=m}function zr(u,m){const p=new mn;if(g.Image){const T=new Image;T.onload=Y(yn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=Y(yn,p,"TestLoadImage: error",!1,m,T),T.onabort=Y(yn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=Y(yn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Nn(u,m){const p=new mn,T=new AbortController,z=setTimeout(()=>{T.abort(),yn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(k=>{clearTimeout(z),k.ok?yn(p,"TestPingServer: ok",!0,m):yn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),yn(p,"TestPingServer: error",!1,m)})}function yn(u,m,p,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(p)}catch{}}function jr(){this.g=new Nr}function Bn(u,m,p){const T=p||"";try{Ba(u,function(z,k){let tt=z;v(z)&&(tt=Cn(z)),m.push(T+k+"="+encodeURIComponent(tt))})}catch(z){throw m.push(T+"type="+encodeURIComponent("_badmap")),z}}function ji(u){this.l=u.Ub||null,this.j=u.eb||!1}J(ji,Ia),ji.prototype.g=function(){return new di(this.l,this.j)},ji.prototype.i=function(u){return function(){return u}}({});function di(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(di,se),a=di.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,kn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ga(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ga(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?qn(this):kn(this),this.readyState==3&&Ga(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,qn(this))},a.Qa=function(u){this.g&&(this.response=u,qn(this))},a.ga=function(){this.g&&qn(this)};function qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,kn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qa(u){let m="";return Dt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function De(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Qa(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Qt(u,m,p))}function qt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(qt,se);var Ss=/^https?$/i,Pr=["POST","PUT"];a=qt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?Ma(this.o):Ma(Ln),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(k){yo(this,k);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)p.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())p.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(k=>k.toLowerCase()=="content-type"),z=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Pr,m,void 0))||T||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,tt]of p)this.g.setRequestHeader(k,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Br(this),this.u=!0,this.g.send(u),this.u=!1}catch(k){yo(this,k)}};function yo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,bs(u),Hn(u)}function bs(u){u.A||(u.A=!0,kt(u,"complete"),kt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,kt(this,"complete"),kt(this,"abort"),Hn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hn(this,!0)),qt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Rs(this):this.bb())},a.bb=function(){Rs(this)};function Rs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||_n(u)!=4||u.Z()!=2)){if(u.u&&_n(u)==4)ke(u.Ea,0,u);else if(kt(u,"readystatechange"),_n(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=tt===0){var z=String(u.D).match(Or)[1]||null;!z&&g.self&&g.self.location&&(z=g.self.location.protocol.slice(0,-1)),T=!Ss.test(z?z.toLowerCase():"")}p=T}if(p)kt(u,"complete"),kt(u,"success");else{u.m=6;try{var k=2<_n(u)?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.Z()+"]",bs(u)}}finally{Hn(u)}}}}function Hn(u,m){if(u.g){Br(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||kt(u,"ready");try{p.onreadystatechange=T}catch{}}}function Br(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function _n(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),gs(m)}};function _o(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Rc(u){const m={};u=(u.g&&2<=_n(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(dt(u[T]))continue;var p=M(u[T]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const k=m[z]||[];m[z]=k,k.push(p)}O(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function ws(u){this.Aa=0,this.i=[],this.j=new mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qr("baseRetryDelayMs",5e3,u),this.cb=qr("retryDelaySeedMs",1e4,u),this.Wa=qr("forwardChannelMaxRetries",2,u),this.wa=qr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new oi(u&&u.concurrentRequestLimit),this.Da=new jr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=ws.prototype,a.la=8,a.G=1,a.connect=function(u,m,p,T){Wt(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Ro(this,null,this.W),Ds(this)};function Fa(u){if(vo(u),u.G==3){var m=u.U++,p=sn(u.I);if(Qt(p,"SID",u.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),kr(u,p),m=new Xe(u,u.j,m),m.L=2,m.v=Ur(sn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=wo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ir(m)}bo(u)}function Cs(u){u.g&&(Hr(u),u.g.cancel(),u.g=null)}function vo(u){Cs(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ns(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ds(u){if(!_s(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||C(),ot||(et(),ot=!0),Pt.add(m,u),u.B=0}}function wc(u,m){return vs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(N(u.Ga,u,m),Xa(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new Xe(this,this.j,u);let k=this.o;if(this.S&&(k?(k=S(k),I(k,this.S)):k=this.S),this.m!==null||this.O||(z.H=k,k=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Eo(this,z,m),p=sn(this.I),Qt(p,"RID",u),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),kr(this,p),k&&(this.O?m="headers="+encodeURIComponent(String(Qa(k)))+"&"+m:this.m&&De(p,this.m,k)),Es(this.h,z),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),z.T=!0,Dn(z,p,null)):Dn(z,p,m),this.G=2}}else this.G==3&&(u?Ya(this,u):this.i.length==0||_s(this.h)||Ya(this))};function Ya(u,m){var p;m?p=m.l:p=u.U++;const T=sn(u.I);Qt(T,"SID",u.K),Qt(T,"RID",p),Qt(T,"AID",u.T),kr(u,T),u.m&&u.o&&De(T,u.m,u.o),p=new Xe(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Eo(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Es(u.h,p),Dn(p,T,m)}function kr(u,m){u.H&&Dt(u.H,function(p,T){Qt(m,T,p)}),u.l&&Ba({},function(p,T){Qt(m,T,p)})}function Eo(u,m,p){p=Math.min(u.i.length,p);var T=u.l?N(u.l.Na,u.l,u):null;t:{var z=u.i;let k=-1;for(;;){const tt=["count="+p];k==-1?0<p?(k=z[0].g,tt.push("ofs="+k)):k=0:tt.push("ofs="+k);let It=!0;for(let Ae=0;Ae<p;Ae++){let Mt=z[Ae].g;const Ne=z[Ae].map;if(Mt-=k,0>Mt)k=Math.max(0,z[Ae].g-100),It=!1;else try{Bn(Ne,tt,"req"+Mt+"_")}catch{T&&T(Ne)}}if(It){T=tt.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function To(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||C(),ot||(et(),ot=!0),Pt.add(m,u),u.v=0}}function Ka(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(N(u.Fa,u),Xa(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Ao(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(N(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Cs(this),Ao(this))};function Hr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Ao(u){u.g=new Xe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=sn(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),kr(u,m),u.m&&u.o&&De(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Ur(sn(m)),p.m=null,p.P=!0,li(p,u)}a.Za=function(){this.C!=null&&(this.C=null,Cs(this),Ka(this),Wt(19))};function Ns(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function So(u,m){var p=null;if(u.g==m){Ns(u),Hr(u),u.g=null;var T=2}else if(ja(u.h,m))p=m.D,Ze(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;T=Mi(),kt(T,new Te(T,p)),Ds(u)}else To(u);else if(z=m.s,z==3||z==0&&0<m.X||!(T==1&&wc(u,m)||T==2&&Ka(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),z){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function Xa(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var p=N(u.fb,u),T=u.Xa;const z=!T;T=new me(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||xr(T,"https"),Ur(T),z?zr(T.toString(),p):Nn(T.toString(),p)}else Wt(2);u.G=0,u.l&&u.l.sa(m),bo(u),vo(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function bo(u){if(u.G=0,u.ka=[],u.l){const m=Pa(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ka,m),W(u.ka,u.i),u.h.i.length=0,it(u.i),u.i.length=0),u.l.ra()}}function Ro(u,m,p){var T=p instanceof me?sn(p):new me(p);if(T.g!="")m&&(T.g=m+"."+T.g),zi(T,T.s);else{var z=g.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var k=new me(null);T&&xr(k,T),m&&(k.g=m),z&&zi(k,z),p&&(k.l=p),T=k}return p=u.D,m=u.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",u.la),kr(u,T),T}function wo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new ji({eb:p})):new qt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Co(){}a=Co.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Vs(){}Vs.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){se.call(this),this.g=new ws(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!dt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Gn(this)}J($e,se),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Fa(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Cn(u),u=p);m.i.push(new mo(m.Ya++,u)),m.G==3&&Ds(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Fa(this.g),delete this.g,$e.aa.N.call(this)};function Do(u){si.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}J(Do,si);function No(){xa.call(this),this.status=1}J(No,xa);function Gn(u){this.g=u}J(Gn,Co),Gn.prototype.ua=function(){kt(this.g,"a")},Gn.prototype.ta=function(u){kt(this.g,new Do(u))},Gn.prototype.sa=function(u){kt(this.g,new No)},Gn.prototype.ra=function(){kt(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,tv=function(){return new Vs},W_=function(){return Mi()},J_=Un,qf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ui.NO_ERROR=0,Ui.TIMEOUT=8,Ui.HTTP_ERROR=6,zu=Ui,ai.COMPLETE="complete",$_=ai,Oa.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",se.prototype.listen=se.prototype.K,jl=Oa,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,Z_=qt}).apply(typeof Vu<"u"?Vu:typeof self<"u"?self:typeof window<"u"?window:{});const Cy="@firebase/firestore",Dy="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sa="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new H_("@firebase/firestore");function sa(){return hs.logLevel}function st(a,...e){if(hs.logLevel<=Ut.DEBUG){const i=e.map(cd);hs.debug(`Firestore (${Sa}): ${a}`,...i)}}function Vi(a,...e){if(hs.logLevel<=Ut.ERROR){const i=e.map(cd);hs.error(`Firestore (${Sa}): ${a}`,...i)}}function ga(a,...e){if(hs.logLevel<=Ut.WARN){const i=e.map(cd);hs.warn(`Firestore (${Sa}): ${a}`,...i)}}function cd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,ev(a,s,i)}function ev(a,e,i){let s=`FIRESTORE (${Sa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Vi(s),new Error(s)}function ie(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||ev(e,o,s)}function Lt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Aa{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class i2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class r2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class s2{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ie(this.o===void 0,42304);let s=this.i;const o=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let h=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new hr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},g=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new hr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ie(typeof s.accessToken=="string",31837,{l:s}),new nv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ie(e===null||typeof e=="string",2055,{h:e}),new Fe(e)}}class a2{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class l2{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new a2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ny{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,BT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ie(this.o===void 0,3512);const s=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ny(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(ie(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ny(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=u2(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Nt(a,e){return a<e?-1:a>e?1:0}function kf(a,e){const i=Math.min(a.length,e.length);for(let s=0;s<i;s++){const o=a.charAt(s),h=e.charAt(s);if(o!==h)return Df(o)===Df(h)?Nt(o,h):Df(o)?1:-1}return Nt(a.length,e.length)}const c2=55296,h2=57343;function Df(a){const e=a.charCodeAt(0);return e>=c2&&e<=h2}function pa(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="__name__";class $n{constructor(e,i,s){i===void 0?i=0:i>e.length&&Et(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Et(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return $n.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof $n?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=$n.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Nt(e.length,i.length)}static compareSegments(e,i){const s=$n.isNumericId(e),o=$n.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?$n.extractNumericId(e).compare($n.extractNumericId(i)):kf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cr.fromString(e.substring(4,e.length-2))}}class Jt extends $n{construct(e,i,s){return new Jt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new rt(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Jt(i)}static emptyPath(){return new Jt([])}}const f2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends $n{construct(e,i,s){return new Ke(e,i,s)}static isValidIdentifier(e){return f2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vy}static keyField(){return new Ke([Vy])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new rt(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new rt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new rt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new rt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ke(i)}static emptyPath(){return new Ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut(Jt.fromString(e))}static fromName(e){return new ut(Jt.fromString(e).popFirst(5))}static empty(){return new ut(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(a,e,i){if(!i)throw new rt(Z.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function d2(a,e,i,s){if(e===!0&&s===!0)throw new rt(Z.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Iy(a){if(!ut.isDocumentKey(a))throw new rt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function My(a){if(ut.isDocumentKey(a))throw new rt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function rv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function ic(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Et(12329,{type:typeof a})}function fr(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new rt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ic(a);throw new rt(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(a,e){const i={typeString:a};return e&&(i.value=e),i}function eo(a,e){if(!rv(a))throw new rt(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new rt(Z.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=-62135596800,xy=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(e){return ee.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*xy);return new ee(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new rt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Oy)throw new rt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xy}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eo(e,ee._jsonSchema))return new ee(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Oy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:ve("string",ee._jsonSchemaVersion),seconds:ve("number"),nanoseconds:ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(e){return new vt(e)}static min(){return new vt(new ee(0,0))}static max(){return new vt(new ee(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function m2(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(s===1e9?new ee(i+1,0):new ee(i,s));return new mr(o,ut.empty(),e)}function g2(a){return new mr(a.readTime,a.key,Xl)}class mr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new mr(vt.min(),ut.empty(),Xl)}static max(){return new mr(vt.max(),ut.empty(),Xl)}}function p2(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=ut.comparator(a.documentKey,e.documentKey),i!==0?i:Nt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(a){if(a.code!==Z.FAILED_PRECONDITION||a.message!==y2)throw a;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):K.reject(i)}static resolve(e){return new K((i,s)=>{i(e)})}static reject(e){return new K((i,s)=>{s(e)})}static waitFor(e){return new K((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},_=>s(_))}),d=!0,h===o&&i()})}static or(e){let i=K.resolve(!1);for(const s of e)i=i.next(o=>o?K.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new K((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++g,g===h&&s(d)},A=>o(A))}})}static doWhile(e,i){return new K((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function v2(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ba(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=-1;function ac(a){return a==null}function Ku(a){return a===0&&1/a==-1/0}function T2(a){return typeof a=="number"&&Number.isInteger(a)&&!Ku(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="";function A2(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Uy(e)),e=S2(a.get(i),e);return Uy(e)}function S2(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case sv:i+="";break;default:i+=h}}return i}function Uy(a){return a+sv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Ra(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function av(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new fe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Iu(this.root,e,this.comparator,!0)}}class Iu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??Be.RED,this.left=o??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new Be(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Et(27949);return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new zy(this.data.getIterator())}getIteratorFrom(e){return new zy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class zy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.fields=e,e.sort(Ke.comparator)}static empty(){return new ar([])}unionWith(e){let i=new we(Ke.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new ar(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return pa(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new lv("Invalid base64 string: "+h):h}}(e);return new qe(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const b2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(a){if(ie(!!a,39018),typeof a=="string"){let e=0;const i=b2.exec(a);if(ie(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:he(a.seconds),nanos:he(a.nanos)}}function he(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function pr(a){return typeof a=="string"?qe.fromBase64String(a):qe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="server_timestamp",uv="__type__",cv="__previous_value__",hv="__local_write_time__";function fd(a){return(a?.mapValue?.fields||{})[uv]?.stringValue===ov}function lc(a){const e=a.mapValue.fields[cv];return fd(e)?lc(e):e}function Zl(a){const e=gr(a.mapValue.fields[hv].timestampValue);return new ee(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,i,s,o,h,d,g,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const Xu="(default)";class $l{constructor(e,i){this.projectId=e,this.database=i||Xu}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===Xu}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="__type__",w2="__max__",Mu={mapValue:{}},dv="__vector__",Zu="value";function yr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?fd(a)?4:D2(a)?9007199254740991:C2(a)?10:11:Et(28295,{value:a})}function ni(a,e){if(a===e)return!0;const i=yr(a);if(i!==yr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Zl(a).isEqual(Zl(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=gr(o.timestampValue),g=gr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,h){return pr(o.bytesValue).isEqual(pr(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,h){return he(o.geoPointValue.latitude)===he(h.geoPointValue.latitude)&&he(o.geoPointValue.longitude)===he(h.geoPointValue.longitude)}(a,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return he(o.integerValue)===he(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=he(o.doubleValue),g=he(h.doubleValue);return d===g?Ku(d)===Ku(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return pa(a.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Ly(d)!==Ly(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ni(d[_],g[_])))return!1;return!0}(a,e);default:return Et(52216,{left:a})}}function Jl(a,e){return(a.values||[]).find(i=>ni(i,e))!==void 0}function ya(a,e){if(a===e)return 0;const i=yr(a),s=yr(e);if(i!==s)return Nt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=he(h.integerValue||h.doubleValue),_=he(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(a,e);case 3:return jy(a.timestampValue,e.timestampValue);case 4:return jy(Zl(a),Zl(e));case 5:return kf(a.stringValue,e.stringValue);case 6:return function(h,d){const g=pr(h),_=pr(d);return g.compareTo(_)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=Nt(g[v],_[v]);if(A!==0)return A}return Nt(g.length,_.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Nt(he(h.latitude),he(d.latitude));return g!==0?g:Nt(he(h.longitude),he(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return Py(a.arrayValue,e.arrayValue);case 10:return function(h,d){const g=h.fields||{},_=d.fields||{},v=g[Zu]?.arrayValue,A=_[Zu]?.arrayValue,V=Nt(v?.values?.length||0,A?.values?.length||0);return V!==0?V:Py(v,A)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===Mu.mapValue&&d===Mu.mapValue)return 0;if(h===Mu.mapValue)return 1;if(d===Mu.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let V=0;V<_.length&&V<A.length;++V){const N=kf(_[V],A[V]);if(N!==0)return N;const Y=ya(g[_[V]],v[A[V]]);if(Y!==0)return Y}return Nt(_.length,A.length)}(a.mapValue,e.mapValue);default:throw Et(23264,{he:i})}}function jy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Nt(a,e);const i=gr(a),s=gr(e),o=Nt(i.seconds,s.seconds);return o!==0?o:Nt(i.nanos,s.nanos)}function Py(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=ya(i[o],s[o]);if(h)return h}return Nt(i.length,s.length)}function _a(a){return Hf(a)}function Hf(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=gr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return pr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return ut.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=Hf(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${Hf(i.fields[d])}`;return o+"}"}(a.mapValue):Et(61005,{value:a})}function ju(a){switch(yr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lc(a);return e?16+ju(e):16;case 5:return 2*a.stringValue.length;case 6:return pr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+ju(h),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return Ra(s.fields,(h,d)=>{o+=h.length+ju(d)}),o}(a.mapValue);default:throw Et(13486,{value:a})}}function By(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Gf(a){return!!a&&"integerValue"in a}function dd(a){return!!a&&"arrayValue"in a}function qy(a){return!!a&&"nullValue"in a}function ky(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Nf(a){return!!a&&"mapValue"in a}function C2(a){return(a?.mapValue?.fields||{})[fv]?.stringValue===dv}function Hl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Ra(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Hl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hl(a.arrayValue.values[i]);return e}return{...a}}function D2(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===w2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Nf(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(i)}setAll(e){let i=Ke.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Hl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Nf(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Nf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Ra(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new Jn(Hl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ye(e,0,vt.min(),vt.min(),vt.min(),Jn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ye(e,1,i,vt.min(),s,o,0)}static newNoDocument(e,i){return new Ye(e,2,i,vt.min(),vt.min(),Jn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,vt.min(),vt.min(),Jn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,i){this.position=e,this.inclusive=i}}function Hy(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?s=ut.comparator(ut.fromName(d.referenceValue),i.key):s=ya(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Gy(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ni(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,i="asc"){this.field=e,this.dir=i}}function N2(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{}class _e extends mv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new I2(e,i,s):i==="array-contains"?new x2(e,s):i==="in"?new U2(e,s):i==="not-in"?new L2(e,s):i==="array-contains-any"?new z2(e,s):new _e(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new M2(e,s):new O2(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ya(i,this.value)):i!==null&&yr(this.value)===yr(i)&&this.matchesComparison(ya(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class On extends mv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new On(e,i)}matches(e){return gv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gv(a){return a.op==="and"}function pv(a){return V2(a)&&gv(a)}function V2(a){for(const e of a.filters)if(e instanceof On)return!1;return!0}function Qf(a){if(a instanceof _e)return a.field.canonicalString()+a.op.toString()+_a(a.value);if(pv(a))return a.filters.map(e=>Qf(e)).join(",");{const e=a.filters.map(i=>Qf(i)).join(",");return`${a.op}(${e})`}}function yv(a,e){return a instanceof _e?function(s,o){return o instanceof _e&&s.op===o.op&&s.field.isEqual(o.field)&&ni(s.value,o.value)}(a,e):a instanceof On?function(s,o){return o instanceof On&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&yv(d,o.filters[g]),!0):!1}(a,e):void Et(19439)}function _v(a){return a instanceof _e?function(i){return`${i.field.canonicalString()} ${i.op} ${_a(i.value)}`}(a):a instanceof On?function(i){return i.op.toString()+" {"+i.getFilters().map(_v).join(" ,")+"}"}(a):"Filter"}class I2 extends _e{constructor(e,i,s){super(e,i,s),this.key=ut.fromName(s.referenceValue)}matches(e){const i=ut.comparator(e.key,this.key);return this.matchesComparison(i)}}class M2 extends _e{constructor(e,i){super(e,"in",i),this.keys=vv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class O2 extends _e{constructor(e,i){super(e,"not-in",i),this.keys=vv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function vv(a,e){return(e.arrayValue?.values||[]).map(i=>ut.fromName(i.referenceValue))}class x2 extends _e{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return dd(i)&&Jl(i.arrayValue,this.value)}}class U2 extends _e{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Jl(this.value.arrayValue,i)}}class L2 extends _e{constructor(e,i){super(e,"not-in",i)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Jl(this.value.arrayValue,i)}}class z2 extends _e{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!dd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Jl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function Qy(a,e=null,i=[],s=[],o=null,h=null,d=null){return new j2(a,e,i,s,o,h,d)}function md(a){const e=Lt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Qf(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),ac(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>_a(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>_a(s)).join(",")),e.Te=i}return e.Te}function gd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!N2(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!yv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Gy(a.startAt,e.startAt)&&Gy(a.endAt,e.endAt)}function Ff(a){return ut.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function P2(a,e,i,s,o,h,d,g){return new wa(a,e,i,s,o,h,d,g)}function oc(a){return new wa(a)}function Fy(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Ev(a){return a.collectionGroup!==null}function Gl(a){const e=Lt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(Ke.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new Wl(h,s))}),i.has(Ke.keyField().canonicalString())||e.Ie.push(new Wl(Ke.keyField(),s))}return e.Ie}function Wn(a){const e=Lt(a);return e.Ee||(e.Ee=B2(e,Gl(a))),e.Ee}function B2(a,e){if(a.limitType==="F")return Qy(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new Wl(o.field,h)});const i=a.endAt?new $u(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new $u(a.startAt.position,a.startAt.inclusive):null;return Qy(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function Yf(a,e){const i=a.filters.concat([e]);return new wa(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Kf(a,e,i){return new wa(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function uc(a,e){return gd(Wn(a),Wn(e))&&a.limitType===e.limitType}function Tv(a){return`${md(Wn(a))}|lt:${a.limitType}`}function aa(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>_v(o)).join(", ")}]`),ac(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>_a(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>_a(o)).join(",")),`Target(${s})`}(Wn(a))}; limitType=${a.limitType})`}function cc(a,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ut.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,o){for(const h of Gl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,_){const v=Hy(d,g,_);return d.inclusive?v<=0:v<0}(s.startAt,Gl(s),o)||s.endAt&&!function(d,g,_){const v=Hy(d,g,_);return d.inclusive?v>=0:v>0}(s.endAt,Gl(s),o))}(a,e)}function q2(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Av(a){return(e,i)=>{let s=!1;for(const o of Gl(a)){const h=k2(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function k2(a,e,i){const s=a.field.isKeyField()?ut.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?ya(_,v):Et(42886)}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return av(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new fe(ut.comparator);function _r(){return H2}const Sv=new fe(ut.comparator);function Pl(...a){let e=Sv;for(const i of a)e=e.insert(i.key,i);return e}function G2(a){let e=Sv;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function as(){return Ql()}function bv(){return Ql()}function Ql(){return new fs(a=>a.toString(),(a,e)=>a.isEqual(e))}const Q2=new we(ut.comparator);function zt(...a){let e=Q2;for(const i of a)e=e.add(i);return e}const F2=new we(Nt);function Y2(){return F2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ku(e)?"-0":e}}function Rv(a){return{integerValue:""+a}}function K2(a,e){return T2(e)?Rv(e):pd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this._=void 0}}function X2(a,e,i){return a instanceof Xf?function(o,h){const d={fields:{[uv]:{stringValue:ov},[hv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&fd(h)&&(h=lc(h)),h&&(d.fields[cv]=h),{mapValue:d}}(i,e):a instanceof Ju?wv(a,e):a instanceof Wu?Cv(a,e):function(o,h){const d=$2(o,h),g=Yy(d)+Yy(o.Ae);return Gf(d)&&Gf(o.Ae)?Rv(g):pd(o.serializer,g)}(a,e)}function Z2(a,e,i){return a instanceof Ju?wv(a,e):a instanceof Wu?Cv(a,e):i}function $2(a,e){return a instanceof Zf?function(s){return Gf(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class Xf extends hc{}class Ju extends hc{constructor(e){super(),this.elements=e}}function wv(a,e){const i=Dv(e);for(const s of a.elements)i.some(o=>ni(o,s))||i.push(s);return{arrayValue:{values:i}}}class Wu extends hc{constructor(e){super(),this.elements=e}}function Cv(a,e){let i=Dv(e);for(const s of a.elements)i=i.filter(o=>!ni(o,s));return{arrayValue:{values:i}}}class Zf extends hc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Yy(a){return he(a.integerValue||a.doubleValue)}function Dv(a){return dd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function J2(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof Ju&&o instanceof Ju||s instanceof Wu&&o instanceof Wu?pa(s.elements,o.elements,ni):s instanceof Zf&&o instanceof Zf?ni(s.Ae,o.Ae):s instanceof Xf&&o instanceof Xf}(a.transform,e.transform)}class os{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new os}static exists(e){return new os(void 0,e)}static updateTime(e){return new os(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class yd{}function Nv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new tA(a.key,os.none()):new _d(a.key,a.data,os.none());{const i=a.data,s=Jn.empty();let o=new we(Ke.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new fc(a.key,s,new ar(o.toArray()),os.none())}}function W2(a,e,i){a instanceof _d?function(o,h,d){const g=o.value.clone(),_=Xy(o.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof fc?function(o,h,d){if(!Pu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Xy(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(Vv(o)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(a,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Fl(a,e,i,s){return a instanceof _d?function(h,d,g,_){if(!Pu(h.precondition,d))return g;const v=h.value.clone(),A=Zy(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(a,e,i,s):a instanceof fc?function(h,d,g,_){if(!Pu(h.precondition,d))return g;const v=Zy(h.fieldTransforms,_,d),A=d.data;return A.setAll(Vv(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(V=>V.field))}(a,e,i,s):function(h,d,g){return Pu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function Ky(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&pa(s,o,(h,d)=>J2(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class _d extends yd{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class fc extends yd{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Vv(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function Xy(a,e,i){const s=new Map;ie(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,Z2(d,g,i[o]))}return s}function Zy(a,e,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,X2(h,d,e))}return s}class tA extends yd{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&W2(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Fl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Fl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=bv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const _=Nv(d,g);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(vt.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),zt())}isEqual(e){return this.batchId===e.batchId&&pa(this.mutations,e.mutations,(i,s)=>Ky(i,s))&&pa(this.baseMutations,e.baseMutations,(i,s)=>Ky(i,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,xt;function Iv(a){if(a===void 0)return Vi("GRPC error has no .code"),Z.UNKNOWN;switch(a){case ye.OK:return Z.OK;case ye.CANCELLED:return Z.CANCELLED;case ye.UNKNOWN:return Z.UNKNOWN;case ye.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ye.INTERNAL:return Z.INTERNAL;case ye.UNAVAILABLE:return Z.UNAVAILABLE;case ye.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ye.NOT_FOUND:return Z.NOT_FOUND;case ye.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ye.ABORTED:return Z.ABORTED;case ye.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ye.DATA_LOSS:return Z.DATA_LOSS;default:return Et(39323,{code:a})}}(xt=ye||(ye={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=new cr([4294967295,4294967295],0);function $y(a){const e=rA().encode(a),i=new X_;return i.update(e),new Uint8Array(i.digest())}function Jy(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new cr([i,s],0),new cr([o,h],0)]}class vd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Bl(`Invalid padding: ${i}`);if(s<0)throw new Bl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=cr.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(cr.fromNumber(s)));return o.compare(sA)===1&&(o=new cr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=$y(e),[s,o]=Jy(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new vd(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.ge===0)return;const i=$y(e),[s,o]=Jy(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,no.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new dc(vt.min(),o,new fe(Nt),_r(),zt())}}class no{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new no(s,i,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class Mv{constructor(e,i){this.targetId=e,this.Ce=i}}class Ov{constructor(e,i,s=qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class Wy{constructor(){this.ve=0,this.Fe=t_(),this.Me=qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=zt(),i=zt(),s=zt();return this.Fe.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Et(38017,{changeType:h})}}),new no(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=t_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aA{constructor(e){this.Ge=e,this.ze=new Map,this.je=_r(),this.Je=Ou(),this.He=Ou(),this.Ye=new fe(Nt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:Et(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach((s,o)=>{this.rt(o)&&i(o)})}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(Ff(h))if(s===0){const d=new ut(h.path);this.et(i,d,Ye.newNoDocument(d,vt.min()))}else ie(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=pr(s).toUint8Array()}catch(_){if(_ instanceof lv)return ga("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new vd(d,o,h)}catch(_){return ga(_ instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),o++)}),o}Tt(e){const i=new Map;this.ze.forEach((h,d)=>{const g=this.ot(d);if(g){if(h.current&&Ff(g.target)){const _=new ut(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ye.newNoDocument(_,e))}h.Be&&(i.set(d,h.ke()),h.qe())}});let s=zt();this.He.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.je.forEach((h,d)=>d.setReadTime(e));const o=new dc(e,i,this.Ye,this.je,s);return this.je=_r(),this.Je=Ou(),this.He=Ou(),this.Ye=new fe(Nt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Wy,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new we(Nt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new we(Nt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Wy),this.Ge.getRemoteKeysForTarget(e).forEach(i=>{this.et(e,i,null)})}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Ou(){return new fe(ut.comparator)}function t_(){return new fe(ut.comparator)}const lA={asc:"ASCENDING",desc:"DESCENDING"},oA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uA={and:"AND",or:"OR"};class cA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function $f(a,e){return a.useProto3Json||ac(e)?e:{value:e}}function Jf(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function ha(a){return ie(!!a,49232),vt.fromTimestamp(function(i){const s=gr(i);return new ee(s.seconds,s.nanos)}(a))}function Uv(a,e){return Wf(a,e).canonicalString()}function Wf(a,e){const i=function(o){return new Jt(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function Lv(a){const e=Jt.fromString(a);return ie(qv(e),10190,{key:e.toString()}),e}function Vf(a,e){const i=Lv(e);if(i.get(1)!==a.databaseId.projectId)throw new rt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new rt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ut(jv(i))}function zv(a,e){return Uv(a.databaseId,e)}function hA(a){const e=Lv(a);return e.length===4?Jt.emptyPath():jv(e)}function e_(a){return new Jt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function jv(a){return ie(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function fA(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Et(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(ie(A===void 0||typeof A=="string",58123),qe.fromBase64String(A||"")):(ie(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),qe.fromUint8Array(A||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?Z.UNKNOWN:Iv(v.code);return new rt(A,v.message||"")}(d);i=new Ov(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Vf(a,s.document.name),h=ha(s.document.updateTime),d=s.document.createTime?ha(s.document.createTime):vt.min(),g=new Jn({mapValue:{fields:s.document.fields}}),_=Ye.newFoundDocument(o,h,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new Bu(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Vf(a,s.document),h=s.readTime?ha(s.readTime):vt.min(),d=Ye.newNoDocument(o,h),g=s.removedTargetIds||[];i=new Bu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Vf(a,s.document),h=s.removedTargetIds||[];i=new Bu([],h,o,null)}else{if(!("filter"in e))return Et(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new iA(o,h),g=s.targetId;i=new Mv(g,d)}}return i}function dA(a,e){return{documents:[zv(a,e.path)]}}function mA(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=zv(a,o);const h=function(v){if(v.length!==0)return Bv(On.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(N){return{field:la(N.field),direction:yA(N.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=$f(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ft:i,parent:o}}function gA(a){let e=hA(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){ie(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(V){const N=Pv(V);return N instanceof On&&pv(N)?N.getFilters():[N]}(i.where));let d=[];i.orderBy&&(d=function(V){return V.map(N=>function(J){return new Wl(oa(J.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction))}(N))}(i.orderBy));let g=null;i.limit&&(g=function(V){let N;return N=typeof V=="object"?V.value:V,ac(N)?null:N}(i.limit));let _=null;i.startAt&&(_=function(V){const N=!!V.before,Y=V.values||[];return new $u(Y,N)}(i.startAt));let v=null;return i.endAt&&(v=function(V){const N=!V.before,Y=V.values||[];return new $u(Y,N)}(i.endAt)),P2(e,o,d,h,g,"F",_,v)}function pA(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Pv(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=oa(i.unaryFilter.field);return _e.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=oa(i.unaryFilter.field);return _e.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=oa(i.unaryFilter.field);return _e.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=oa(i.unaryFilter.field);return _e.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(a):a.fieldFilter!==void 0?function(i){return _e.create(oa(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return On.create(i.compositeFilter.filters.map(s=>Pv(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(i.compositeFilter.op))}(a):Et(30097,{filter:a})}function yA(a){return lA[a]}function _A(a){return oA[a]}function vA(a){return uA[a]}function la(a){return{fieldPath:a.canonicalString()}}function oa(a){return Ke.fromServerFormat(a.fieldPath)}function Bv(a){return a instanceof _e?function(i){if(i.op==="=="){if(ky(i.value))return{unaryFilter:{field:la(i.field),op:"IS_NAN"}};if(qy(i.value))return{unaryFilter:{field:la(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(ky(i.value))return{unaryFilter:{field:la(i.field),op:"IS_NOT_NAN"}};if(qy(i.value))return{unaryFilter:{field:la(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:la(i.field),op:_A(i.op),value:i.value}}}(a):a instanceof On?function(i){const s=i.getFilters().map(o=>Bv(o));return s.length===1?s[0]:{compositeFilter:{op:vA(i.op),filters:s}}}(a):Et(54877,{filter:a})}function qv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,i,s,o,h=vt.min(),d=vt.min(),g=qe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this.yt=e}}function TA(a){const e=gA({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Kf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(){this.Cn=new SA}addToCollectionParentIndex(e,i){return this.Cn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(mr.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(mr.min())}updateCollectionGroup(e,i,s){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class SA{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new we(Jt.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new we(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kv=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(kv,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new va(0)}static cr(){return new va(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="LruGarbageCollector",bA=1048576;function r_([a,e],[i,s]){const o=Nt(a,i);return o===0?Nt(e,s):o}class RA{constructor(e){this.Ir=e,this.buffer=new we(r_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();r_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class wA{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){st(i_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ba(i)?st(i_,"Ignoring IndexedDB error during garbage collection: ",i):await rc(i)}await this.Vr(3e5)})}}class CA{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return K.resolve(sc.ce);const s=new RA(i);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(n_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n_):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),o=this.params.maximumSequenceNumbersToCollect):o=V,d=Date.now(),this.nthSequenceNumber(e,o))).next(V=>(s=V,g=Date.now(),this.removeTargets(e,s,i))).next(V=>(h=V,_=Date.now(),this.removeOrphanedDocuments(e,s))).next(V=>(v=Date.now(),sa()<=Ut.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${V} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:V})))}}function DA(a,e){return new CA(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(){this.changes=new fs(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?K.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Fl(s.mutation,o,ar.empty(),ee.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,zt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=zt()){const o=as();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=Pl();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=as();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,zt()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=_r();const d=Ql(),g=function(){return Ql()}();return i.forEach((_,v)=>{const A=s.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof fc)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Fl(A.mutation,v,A.mutation.getFieldMask(),ee.now())):d.set(v.key,ar.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>g.set(v,new VA(A,d.get(v)??null))),g))}recalculateAndSaveOverlays(e,i){const s=Ql();let o=new fe((d,g)=>d-g),h=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=s.get(_)||ar.empty();A=g.applyToLocalView(v,A),s.set(_,A);const V=(o.get(g.batchId)||zt()).add(_);o=o.insert(g.batchId,V)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,V=bv();A.forEach(N=>{if(!h.has(N)){const Y=Nv(i.get(N),s.get(N));Y!==null&&V.set(N,Y),h=h.add(N)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,V))}return K.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Ev(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):K.resolve(as());let g=Xl,_=h;return d.next(v=>K.forEach(v,(A,V)=>(g<V.largestBatchId&&(g=V.largestBatchId),h.get(A)?K.resolve():this.remoteDocumentCache.getEntry(e,A).next(N=>{_=_.insert(A,N)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,zt())).next(A=>({batchId:g,changes:G2(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ut(i)).next(s=>{let o=Pl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Pl();return this.indexManager.getCollectionParents(e,h).next(g=>K.forEach(g,_=>{const v=function(V,N){return new wa(N,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(A=>{A.forEach((V,N)=>{d=d.insert(V,N)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))});let g=Pl();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&Fl(A.mutation,v,ar.empty(),ee.now()),cc(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return K.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ha(o.createTime)}}(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(o){return{name:o.name,query:TA(o.bundledQuery),readTime:ha(o.readTime)}}(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(){this.overlays=new fe(ut.comparator),this.qr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const s=as();return K.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.St(e,i,h)}),K.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(s)),K.resolve()}getOverlaysForCollection(e,i,s){const o=as(),h=i.length+1,d=new ut(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>s&&o.set(_.getKey(),_)}return K.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new fe((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=h.get(v.largestBatchId);A===null&&(A=as(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=as(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=o)););return K.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new nA(i,s));let h=this.qr.get(i);h===void 0&&(h=zt(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(){this.Qr=new we(Oe.$r),this.Ur=new we(Oe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Oe(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Gr(new Oe(e,i))}zr(e,i){e.forEach(s=>this.removeReference(s,i))}jr(e){const i=new ut(new Jt([])),s=new Oe(i,e),o=new Oe(i,e+1),h=[];return this.Ur.forEachInRange([s,o],d=>{this.Gr(d),h.push(d.key)}),h}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ut(new Jt([])),s=new Oe(i,e),o=new Oe(i,e+1);let h=zt();return this.Ur.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Oe(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Oe{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ut.comparator(e.key,i.key)||Nt(e.Yr,i.Yr)}static Kr(e,i){return Nt(e.Yr,i.Yr)||ut.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new we(Oe.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new eA(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),h=o<0?0:o;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?E2:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,o],d=>{const g=this.Xr(d.Yr);h.push(g)}),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(Nt);return i.forEach(o=>{const h=new Oe(o,0),d=new Oe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],g=>{s=s.add(g.Yr)})}),K.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;ut.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new ut(h),0);let g=new we(Nt);return this.Zr.forEachWhile(_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.Yr)),!0)},d),K.resolve(this.ti(g))}ti(e){const i=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){ie(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return K.forEach(i.mutations,o=>{const h=new Oe(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,i){const s=new Oe(i,0),o=this.Zr.firstAfterOrEqual(s);return K.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e){this.ri=e,this.docs=function(){return new fe(ut.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return K.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let s=_r();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Ye.newInvalidDocument(o))}),K.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=_r();const d=i.path,g=new ut(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||p2(g2(A),s)<=0||(o.has(A.key)||cc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(e,i,s,o){Et(9500)}ii(e,i){return K.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new zA(this)}getSize(e){return K.resolve(this.size)}}class zA extends NA{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),K.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.persistence=e,this.si=new fs(i=>md(i),gd),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new Ed,this.targetCount=0,this.ai=va.ur()}forEachTarget(e,i){return this.si.forEach((s,o)=>i(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),K.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new va(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.Pr(i),K.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.si.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),K.waitFor(h).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return K.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),K.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),K.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),K.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return K.resolve(s)}containsKey(e,i){return K.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,i){this.ui={},this.overlays={},this.ci=new sc(0),this.li=!1,this.li=!0,this.hi=new xA,this.referenceDelegate=e(this),this.Pi=new jA(this),this.indexManager=new AA,this.remoteDocumentCache=function(o){return new LA(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new EA(i),this.Ii=new MA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new OA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new UA(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){st("MemoryPersistence","Starting transaction:",e);const o=new PA(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(h=>this.referenceDelegate.di(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ai(e,i){return K.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,i)))}}class PA extends _2{constructor(e){super(),this.currentSequenceNumber=e}}class Td{constructor(e){this.persistence=e,this.Ri=new Ed,this.Vi=null}static mi(e){return new Td(e)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),K.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),K.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.fi.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,s=>{const o=ut.fromPath(s);return this.gi(e,o).next(h=>{h||i.removeEntry(o,vt.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class tc{constructor(e,i){this.persistence=e,this.pi=new fs(s=>A2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=DA(this,i)}static mi(e,i){return new tc(e,i)}Ei(){}di(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}wr(e){let i=0;return this.pr(e,s=>{i++}).next(()=>i)}pr(e,i){return K.forEach(this.pi,(s,o)=>this.br(e,s,o).next(h=>h?K.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,d=>this.br(e,d,i).next(g=>{g||(s++,h.removeEntry(d,vt.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ju(e.data.value)),i}br(e,i,s){return K.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=zt(),o=zt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Ad(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return zE()?8:v2(UE())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ys(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ws(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new BA;return this.Ss(e,i,d).next(g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)})}).next(()=>h.result)}bs(e,i,s,o){return s.documentReadCount<this.fs?(sa()<=Ut.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",aa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(sa()<=Ut.DEBUG&&st("QueryEngine","Query:",aa(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(sa()<=Ut.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",aa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(i))):K.resolve())}ys(e,i){if(Fy(i))return K.resolve(null);let s=Wn(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Kf(i,null,"F"),s=Wn(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=zt(...h);return this.ps.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(_=>{const v=this.Ds(i,g);return this.Cs(i,v,d,_.readTime)?this.ys(e,Kf(i,null,"F")):this.vs(e,v,i,_)}))})))}ws(e,i,s,o){return Fy(i)||o.isEqual(vt.min())?K.resolve(null):this.ps.getDocuments(e,s).next(h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,o)?K.resolve(null):(sa()<=Ut.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),aa(i)),this.vs(e,d,i,m2(o,Xl)).next(g=>g))})}Ds(e,i){let s=new we(Av(e));return i.forEach((o,h)=>{cc(e,h)&&(s=s.add(h))}),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,s){return sa()<=Ut.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",aa(i)),this.ps.getDocumentsMatchingQuery(e,i,mr.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="LocalStore",kA=3e8;class HA{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new fe(Nt),this.xs=new fs(h=>md(h),gd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function GA(a,e,i,s){return new HA(a,e,i,s)}async function Gv(a,e){const i=Lt(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let _=zt();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(s,_).next(v=>({Ls:v,removedBatchIds:d,addedBatchIds:g}))})})}function Qv(a){const e=Lt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function QA(a,e){const i=Lt(a),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach((A,V)=>{const N=o.get(V);if(!N)return;g.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,V).next(()=>i.Pi.addMatchingKeys(h,A.addedDocuments,V)));let Y=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(V)!==null?Y=Y.withResumeToken(qe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(A.resumeToken,s)),o=o.insert(V,Y),function(it,W,At){return it.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=kA?!0:At.addedDocuments.size+At.modifiedDocuments.size+At.removedDocuments.size>0}(N,Y,A)&&g.push(i.Pi.updateTargetData(h,Y))});let _=_r(),v=zt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(FA(h,d,e.documentUpdates).next(A=>{_=A.ks,v=A.qs})),!s.isEqual(vt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next(V=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return K.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ms=o,h))}function FA(a,e,i){let s=zt(),o=zt();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=_r();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(vt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):st(Sd,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{ks:d,qs:o}})}function YA(a,e){const i=Lt(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Pi.getTargetData(s,e).next(h=>h?(o=h,K.resolve(o)):i.Pi.allocateTargetId(s).next(d=>(o=new lr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s})}async function td(a,e,i){const s=Lt(a),o=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!ba(d))throw d;st(Sd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function s_(a,e,i){const s=Lt(a);let o=vt.min(),h=zt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const V=Lt(_),N=V.xs.get(A);return N!==void 0?K.resolve(V.Ms.get(N)):V.Pi.getTargetData(v,A)}(s,d,Wn(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:vt.min(),i?h:zt())).next(g=>(KA(s,q2(e),g),{documents:g,Qs:h})))}function KA(a,e,i){let s=a.Os.get(e)||vt.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.Os.set(e,s)}class a_{constructor(){this.activeTargetIds=Y2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XA{constructor(){this.Mo=new a_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new a_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="ConnectivityMonitor";class o_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(l_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){st(l_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xu=null;function ed(){return xu===null?xu=function(){return 268435456+Math.round(2147483648*Math.random())}():xu++,"0x"+xu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="RestConnection",$A={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Xu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,h){const d=ed(),g=this.zo(e,i.toUriEncodedString());st(If,`Sending RPC '${e}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,h);const{host:v}=new URL(g),A=od(v);return this.Jo(e,g,_,s,A).then(V=>(st(If,`Received RPC '${e}' ${d}: `,V),V),V=>{throw ga(If,`RPC '${e}' ${d} failed with error: `,V,"url: ",g,"request:",s),V})}Ho(e,i,s,o,h,d){return this.Go(e,i,s,o,h)}jo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}zo(e,i){const s=$A[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class tS extends JA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,h){const d=ed();return new Promise((g,_)=>{const v=new Z_;v.setWithCredentials(!0),v.listenOnce($_.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case zu.NO_ERROR:const V=v.getResponseJson();st(Qe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(V)),g(V);break;case zu.TIMEOUT:st(Qe,`RPC '${e}' ${d} timed out`),_(new rt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case zu.HTTP_ERROR:const N=v.getStatus();if(st(Qe,`RPC '${e}' ${d} failed with status:`,N,"response text:",v.getResponseText()),N>0){let Y=v.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const J=Y?.error;if(J&&J.status&&J.message){const it=function(At){const dt=At.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(dt)>=0?dt:Z.UNKNOWN}(J.status);_(new rt(it,J.message))}else _(new rt(Z.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new rt(Z.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{st(Qe,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(o);st(Qe,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",A,s,15)})}T_(e,i,s){const o=ed(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=tv(),g=W_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const A=h.join("");st(Qe,`Creating RPC '${e}' stream ${o}: ${A}`,_);const V=d.createWebChannel(A,_);this.I_(V);let N=!1,Y=!1;const J=new WA({Yo:W=>{Y?st(Qe,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(N||(st(Qe,`Opening RPC '${e}' stream ${o} transport.`),V.open(),N=!0),st(Qe,`RPC '${e}' stream ${o} sending:`,W),V.send(W))},Zo:()=>V.close()}),it=(W,At,dt)=>{W.listen(At,ct=>{try{dt(ct)}catch(Vt){setTimeout(()=>{throw Vt},0)}})};return it(V,jl.EventType.OPEN,()=>{Y||(st(Qe,`RPC '${e}' stream ${o} transport opened.`),J.o_())}),it(V,jl.EventType.CLOSE,()=>{Y||(Y=!0,st(Qe,`RPC '${e}' stream ${o} transport closed`),J.a_(),this.E_(V))}),it(V,jl.EventType.ERROR,W=>{Y||(Y=!0,ga(Qe,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),J.a_(new rt(Z.UNAVAILABLE,"The operation could not be completed")))}),it(V,jl.EventType.MESSAGE,W=>{if(!Y){const At=W.data[0];ie(!!At,16349);const dt=At,ct=dt?.error||dt[0]?.error;if(ct){st(Qe,`RPC '${e}' stream ${o} received error:`,ct);const Vt=ct.status;let yt=function(S){const b=ye[S];if(b!==void 0)return Iv(b)}(Vt),Dt=ct.message;yt===void 0&&(yt=Z.INTERNAL,Dt="Unknown error status: "+Vt+" with message "+ct.message),Y=!0,J.a_(new rt(yt,Dt)),V.close()}else st(Qe,`RPC '${e}' stream ${o} received:`,At),J.u_(At)}}),it(g,J_.STAT_EVENT,W=>{W.stat===qf.PROXY?st(Qe,`RPC '${e}' stream ${o} detected buffering proxy`):W.stat===qf.NOPROXY&&st(Qe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{J.__()},0),J}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function Mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(a){return new cA(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="PersistentStream";class eS{constructor(e,i,s,o,h,d,g,_){this.Mi=e,this.S_=s,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Fv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Vi(i.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===i&&this.G_(s,o)},s=>{e(()=>{const o=new rt(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return st(u_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(st(u_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nS extends eS{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=fA(this.serializer,e),s=function(h){if(!("targetChange"in h))return vt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?ha(d.readTime):vt.min()}(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=e_(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Ff(_)?{documents:dA(h,_)}:{query:mA(h,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=xv(h,d.resumeToken);const v=$f(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=Jf(h,d.snapshotVersion.toTimestamp());const v=$f(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const s=pA(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=e_(this.serializer),i.removeTarget=e,this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{}class rS extends iS{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new rt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Go(e,Wf(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new rt(Z.UNKNOWN,h.toString())})}Ho(e,i,s,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Ho(e,Wf(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(Z.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class sS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vi(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="RemoteStore";class aS{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(d=>{s.enqueueAndForget(async()=>{ro(this)&&(st(Ea,"Restarting streams for network reachability change."),await async function(_){const v=Lt(_);v.Ea.add(4),await io(v),v.Ra.set("Unknown"),v.Ea.delete(4),await gc(v)}(this))})}),this.Ra=new sS(s,o)}}async function gc(a){if(ro(a))for(const e of a.da)await e(!0)}async function io(a){for(const e of a.da)await e(!1)}function Yv(a,e){const i=Lt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Cd(i)?wd(i):Ca(i).O_()&&Rd(i,e))}function bd(a,e){const i=Lt(a),s=Ca(i);i.Ia.delete(e),s.O_()&&Kv(i,e),i.Ia.size===0&&(s.O_()?s.L_():ro(i)&&i.Ra.set("Unknown"))}function Rd(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ca(a).Y_(e)}function Kv(a,e){a.Va.Ue(e),Ca(a).Z_(e)}function wd(a){a.Va=new aA({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Ca(a).start(),a.Ra.ua()}function Cd(a){return ro(a)&&!Ca(a).x_()&&a.Ia.size>0}function ro(a){return Lt(a).Ea.size===0}function Xv(a){a.Va=void 0}async function lS(a){a.Ra.set("Online")}async function oS(a){a.Ia.forEach((e,i)=>{Rd(a,e)})}async function uS(a,e){Xv(a),Cd(a)?(a.Ra.ha(e),wd(a)):a.Ra.set("Unknown")}async function cS(a,e,i){if(a.Ra.set("Online"),e instanceof Ov&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))}(a,e)}catch(s){st(Ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await c_(a,s)}else if(e instanceof Bu?a.Va.Ze(e):e instanceof Mv?a.Va.st(e):a.Va.tt(e),!i.isEqual(vt.min()))try{const s=await Qv(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Ia.get(v);A&&h.Ia.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h.Ia.get(_);if(!A)return;h.Ia.set(_,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),Kv(h,_);const V=new lr(A.target,_,v,A.sequenceNumber);Rd(h,V)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){st(Ea,"Failed to raise snapshot:",s),await c_(a,s)}}async function c_(a,e,i){if(!ba(e))throw e;a.Ea.add(1),await io(a),a.Ra.set("Offline"),i||(i=()=>Qv(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{st(Ea,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await gc(a)})}async function h_(a,e){const i=Lt(a);i.asyncQueue.verifyOperationInProgress(),st(Ea,"RemoteStore received new credentials");const s=ro(i);i.Ea.add(3),await io(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await gc(i)}async function hS(a,e){const i=Lt(a);e?(i.Ea.delete(2),await gc(i)):e||(i.Ea.add(2),await io(i),i.Ra.set("Unknown"))}function Ca(a){return a.ma||(a.ma=function(i,s,o){const h=Lt(i);return h.sa(),new nS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{Xo:lS.bind(null,a),t_:oS.bind(null,a),r_:uS.bind(null,a),H_:cS.bind(null,a)}),a.da.push(async e=>{e?(a.ma.B_(),Cd(a)?wd(a):a.Ra.set("Unknown")):(await a.ma.stop(),Xv(a))})),a.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new Dd(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zv(a,e){if(Vi("AsyncQueue",`${e}: ${a}`),ba(a))return new rt(Z.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{static emptySet(e){return new fa(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ut.comparator(i.key,s.key):(i,s)=>ut.comparator(i.key,s.key),this.keyedMap=Pl(),this.sortedSet=new fe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof fa)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new fa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(){this.ga=new fe(ut.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Et(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ta{constructor(e,i,s,o,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ta(e,i,fa.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class dS{constructor(){this.queries=d_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Lt(i),h=o.queries;o.queries=d_(),h.forEach((d,g)=>{for(const _ of g.Sa)_.onError(s)})})(this,new rt(Z.ABORTED,"Firestore shutting down"))}}function d_(){return new fs(a=>Tv(a),uc)}async function Nd(a,e){const i=Lt(a);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(s=2):(h=new fS,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Zv(d,`Initialization of query '${aa(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Id(i)}async function Vd(a,e){const i=Lt(a),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function mS(a,e){const i=Lt(a);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(o)&&(s=!0);d.wa=o}}s&&Id(i)}function gS(a,e,i){const s=Lt(a),o=s.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);s.queries.delete(e)}function Id(a){a.Ca.forEach(e=>{e.next()})}var nd,m_;(m_=nd||(nd={})).Ma="default",m_.Cache="cache";class Md{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ta(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ta.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==nd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this.key=e}}class Jv{constructor(e){this.key=e}}class pS{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=Av(e),this.tu=new fa(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new f_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,V)=>{const N=o.get(A),Y=cc(this.query,V)?V:null,J=!!N&&this.mutatedKeys.has(N.key),it=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let W=!1;N&&Y?N.data.isEqual(Y.data)?J!==it&&(s.track({type:3,doc:Y}),W=!0):this.su(N,Y)||(s.track({type:2,doc:Y}),W=!0,(_&&this.eu(Y,_)>0||v&&this.eu(Y,v)<0)&&(g=!0)):!N&&Y?(s.track({type:0,doc:Y}),W=!0):N&&!Y&&(s.track({type:1,doc:N}),W=!0,(_||v)&&(g=!0)),W&&(Y?(d=d.add(Y),h=it?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((A,V)=>function(Y,J){const it=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:W})}};return it(Y)-it(J)}(A.type,V.type)||this.eu(A.doc,V.doc)),this.ou(s),o=o??!1;const g=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new Ta(this.query,e.tu,h,d,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new f_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=zt(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const i=[];return e.forEach(s=>{this.Xa.has(s)||i.push(new Jv(s))}),this.Xa.forEach(s=>{e.has(s)||i.push(new $v(s))}),i}cu(e){this.Ya=e.Qs,this.Xa=zt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ta.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Od="SyncEngine";class yS{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class _S{constructor(e){this.key=e,this.hu=!1}}class vS{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new fs(g=>Tv(g),uc),this.Iu=new Map,this.Eu=new Set,this.du=new fe(ut.comparator),this.Au=new Map,this.Ru=new Ed,this.Vu={},this.mu=new Map,this.fu=va.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ES(a,e,i=!0){const s=i0(a);let o;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await Wv(s,e,i,!0),o}async function TS(a,e){const i=i0(a);await Wv(i,e,!0,!1)}async function Wv(a,e,i,s){const o=await YA(a.localStore,Wn(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await AS(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&Yv(a.remoteStore,o),g}async function AS(a,e,i,s,o){a.pu=(V,N,Y)=>async function(it,W,At,dt){let ct=W.view.ru(At);ct.Cs&&(ct=await s_(it.localStore,W.query,!1).then(({documents:O})=>W.view.ru(O,ct)));const Vt=dt&&dt.targetChanges.get(W.targetId),yt=dt&&dt.targetMismatches.get(W.targetId)!=null,Dt=W.view.applyChanges(ct,it.isPrimaryClient,Vt,yt);return p_(it,W.targetId,Dt.au),Dt.snapshot}(a,V,N,Y);const h=await s_(a.localStore,e,!0),d=new pS(e,h.Qs),g=d.ru(h.documents),_=no.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),v=d.applyChanges(g,a.isPrimaryClient,_);p_(a,i,v.au);const A=new yS(e,i,d);return a.Tu.set(e,A),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),v.snapshot}async function SS(a,e,i){const s=Lt(a),o=s.Tu.get(e),h=s.Iu.get(o.targetId);if(h.length>1)return s.Iu.set(o.targetId,h.filter(d=>!uc(d,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await td(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&bd(s.remoteStore,o.targetId),id(s,o.targetId)}).catch(rc)):(id(s,o.targetId),await td(s.localStore,o.targetId,!0))}async function bS(a,e){const i=Lt(a),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),bd(i.remoteStore,s.targetId))}async function t0(a,e){const i=Lt(a);try{const s=await QA(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Au.get(h);d&&(ie(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?ie(d.hu,14607):o.removedDocuments.size>0&&(ie(d.hu,42227),d.hu=!1))}),await n0(i,s,e)}catch(s){await rc(s)}}function g_(a,e,i){const s=Lt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const _=Lt(d);_.onlineState=g;let v=!1;_.queries.forEach((A,V)=>{for(const N of V.Sa)N.va(g)&&(v=!0)}),v&&Id(_)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function RS(a,e,i){const s=Lt(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),h=o&&o.key;if(h){let d=new fe(ut.comparator);d=d.insert(h,Ye.newNoDocument(h,vt.min()));const g=zt().add(h),_=new dc(vt.min(),new Map,new fe(Nt),d,g);await t0(s,_),s.du=s.du.remove(h),s.Au.delete(e),xd(s)}else await td(s.localStore,e,!1).then(()=>id(s,e,i)).catch(rc)}function id(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach(s=>{a.Ru.containsKey(s)||e0(a,s)})}function e0(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(bd(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),xd(a))}function p_(a,e,i){for(const s of i)s instanceof $v?(a.Ru.addReference(s.key,e),wS(a,s)):s instanceof Jv?(st(Od,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||e0(a,s.key)):Et(19791,{wu:s})}function wS(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(st(Od,"New document in limbo: "+i),a.Eu.add(s),xd(a))}function xd(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new ut(Jt.fromString(e)),s=a.fu.next();a.Au.set(s,new _S(i)),a.du=a.du.insert(i,s),Yv(a.remoteStore,new lr(Wn(oc(i.path)),s,"TargetPurposeLimboResolution",sc.ce))}}async function n0(a,e,i){const s=Lt(a),o=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach((g,_)=>{d.push(s.pu(_,e,i).then(v=>{if((v||i)&&s.isPrimaryClient){const A=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(v){o.push(v);const A=Ad.As(_.targetId,v);h.push(A)}}))}),await Promise.all(d),s.Pu.H_(o),await async function(_,v){const A=Lt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>K.forEach(v,N=>K.forEach(N.Es,Y=>A.persistence.referenceDelegate.addReference(V,N.targetId,Y)).next(()=>K.forEach(N.ds,Y=>A.persistence.referenceDelegate.removeReference(V,N.targetId,Y)))))}catch(V){if(!ba(V))throw V;st(Sd,"Failed to update sequence numbers: "+V)}for(const V of v){const N=V.targetId;if(!V.fromCache){const Y=A.Ms.get(N),J=Y.snapshotVersion,it=Y.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(N,it)}}}(s.localStore,h))}async function CS(a,e){const i=Lt(a);if(!i.currentUser.isEqual(e)){st(Od,"User change. New user:",e.toKey());const s=await Gv(i.localStore,e);i.currentUser=e,function(h,d){h.mu.forEach(g=>{g.forEach(_=>{_.reject(new rt(Z.CANCELLED,d))})}),h.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await n0(i,s.Ls)}}function DS(a,e){const i=Lt(a),s=i.Au.get(e);if(s&&s.hu)return zt().add(s.key);{let o=zt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function i0(a){const e=Lt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=t0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RS.bind(null,e),e.Pu.H_=mS.bind(null,e.eventManager),e.Pu.yu=gS.bind(null,e.eventManager),e}class ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return GA(this.persistence,new qA,e.initialUser,this.serializer)}Cu(e){return new Hv(Td.mi,this.serializer)}Du(e){return new XA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ec.provider={build:()=>new ec};class NS extends ec{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){ie(this.persistence.referenceDelegate instanceof tc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new wA(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new Hv(s=>tc.mi(s,i),this.serializer)}}class rd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>g_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=CS.bind(null,this.syncEngine),await hS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dS}()}createDatastore(e){const i=mc(e.databaseInfo.databaseId),s=function(h){return new tS(h)}(e.databaseInfo);return function(h,d,g,_){return new rS(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new aS(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>g_(this.syncEngine,i,0),function(){return o_.v()?new o_:new ZA}())}createSyncEngine(e,i){return function(o,h,d,g,_,v,A){const V=new vS(o,h,d,g,_,v);return A&&(V.gu=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const s=Lt(i);st(Ea,"RemoteStore shutting down."),s.Ea.add(5),await io(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rd.provider={build:()=>new rd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="FirestoreClient";class VS{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Fe.UNAUTHENTICATED,this.clientId=hd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{st(vr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(st(vr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Zv(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Of(a,e){a.asyncQueue.verifyOperationInProgress(),st(vr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Gv(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function y_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await IS(a);st(vr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>h_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>h_(e.remoteStore,o)),a._onlineComponents=e}async function IS(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){st(vr,"Using user provided OfflineComponentProvider");try{await Of(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;ga("Error using user provided cache. Falling back to memory cache: "+i),await Of(a,new ec)}}else st(vr,"Using default OfflineComponentProvider"),await Of(a,new NS(void 0));return a._offlineComponents}async function MS(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(st(vr,"Using user provided OnlineComponentProvider"),await y_(a,a._uninitializedComponentsProvider._online)):(st(vr,"Using default OnlineComponentProvider"),await y_(a,new rd))),a._onlineComponents}async function nc(a){const e=await MS(a),i=e.eventManager;return i.onListen=ES.bind(null,e.syncEngine),i.onUnlisten=SS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=TS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=bS.bind(null,e.syncEngine),i}function OS(a,e,i={}){const s=new hr;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new Ud({next:N=>{A.Nu(),d.enqueueAndForget(()=>Vd(h,V));const Y=N.docs.has(g);!Y&&N.fromCache?v.reject(new rt(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):Y&&N.fromCache&&_&&_.source==="server"?v.reject(new rt(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(N)},error:N=>v.reject(N)}),V=new Md(oc(g.path),A,{includeMetadataChanges:!0,qa:!0});return Nd(h,V)}(await nc(a),a.asyncQueue,e,i,s)),s.promise}function xS(a,e,i={}){const s=new hr;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new Ud({next:N=>{A.Nu(),d.enqueueAndForget(()=>Vd(h,V)),N.fromCache&&_.source==="server"?v.reject(new rt(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(N)},error:N=>v.reject(N)}),V=new Md(g,A,{includeMetadataChanges:!0,qa:!0});return Nd(h,V)}(await nc(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="firestore.googleapis.com",v_=!0;class E_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new rt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s0,this.ssl=v_}else this.host=e.host,this.ssl=e.ssl??v_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bA)throw new rt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}d2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=r0(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new rt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new rt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new rt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new i2;switch(s.type){case"firstParty":return new l2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=__.get(i);s&&(st("ComponentProvider","Removing Datastore"),__.delete(i),s.terminate())}(this),Promise.resolve()}}function US(a,e,i,s={}){a=fr(a,pc);const o=od(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},g=`${e}:${i}`;o&&(VE(`https://${g}`),xE("Firestore",!0)),h.host!==s0&&h.host!==g&&ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...h,host:g,ssl:o,emulatorOptions:s};if(!Qu(_,d)&&(a._setSettings(_),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=Fe.MOCK_USER;else{v=IE(s.mockUserToken,a._app?.options.projectId);const V=s.mockUserToken.sub||s.mockUserToken.user_id;if(!V)throw new rt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Fe(V)}a._authCredentials=new r2(new nv(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Tr(this.firestore,e,this._query)}}class Ee{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ee(this.firestore,e,this._key)}toJSON(){return{type:Ee._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(eo(i,Ee._jsonSchema))return new Ee(e,s||null,new ut(Jt.fromString(i.referencePath)))}}Ee._jsonSchemaVersion="firestore/documentReference/1.0",Ee._jsonSchema={type:ve("string",Ee._jsonSchemaVersion),referencePath:ve("string")};class dr extends Tr{constructor(e,i,s){super(e,i,oc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ee(this.firestore,null,new ut(e))}withConverter(e){return new dr(this.firestore,e,this._path)}}function Uu(a,e,...i){if(a=ma(a),iv("collection","path",e),a instanceof pc){const s=Jt.fromString(e,...i);return My(s),new dr(a,null,s)}{if(!(a instanceof Ee||a instanceof dr))throw new rt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Jt.fromString(e,...i));return My(s),new dr(a.firestore,null,s)}}function T_(a,e,...i){if(a=ma(a),arguments.length===1&&(e=hd.newId()),iv("doc","path",e),a instanceof pc){const s=Jt.fromString(e,...i);return Iy(s),new Ee(a,null,new ut(s))}{if(!(a instanceof Ee||a instanceof dr))throw new rt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Jt.fromString(e,...i));return Iy(s),new Ee(a.firestore,a instanceof dr?a.converter:null,new ut(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="AsyncQueue";class S_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Fv(this,"async_queue_retry"),this._c=()=>{const s=Mf();s&&st(A_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Mf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Mf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new hr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ba(e))throw e;st(A_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Vi("INTERNAL UNHANDLED ERROR: ",b_(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Dd.createAndSchedule(this,e,i,s,h=>this.hc(h));return this.tc.push(o),o}uc(){this.nc&&Et(47125,{Pc:b_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function b_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(a){return function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of s)if(h in o&&typeof o[h]=="function")return!0;return!1}(a,["next","error","complete"])}class to extends pc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new S_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new S_(e),this._firestoreClient=void 0,await e}}}function LS(a,e){const i=typeof a=="object"?a:GT(),s=typeof a=="string"?a:Xu,o=PT(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=DE("firestore");h&&US(o,...h)}return o}function Ld(a){if(a._terminated)throw new rt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||zS(a),a._firestoreClient}function zS(a){const e=a._freezeSettings(),i=function(o,h,d,g){return new R2(o,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,r0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new VS(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wn(qe.fromBase64String(e))}catch(i){throw new rt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new wn(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eo(e,wn._jsonSchema))return wn.fromBase64String(e.bytes)}}wn._jsonSchemaVersion="firestore/bytes/1.0",wn._jsonSchema={type:ve("string",wn._jsonSchemaVersion),bytes:ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new rt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new rt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new rt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ti._jsonSchemaVersion}}static fromJSON(e){if(eo(e,ti._jsonSchema))return new ti(e.latitude,e.longitude)}}ti._jsonSchemaVersion="firestore/geoPoint/1.0",ti._jsonSchema={type:ve("string",ti._jsonSchemaVersion),latitude:ve("number"),longitude:ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eo(e,ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new ei(e.vectorValues);throw new rt(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:ve("string",ei._jsonSchemaVersion),vectorValues:ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=/^__.*__$/;function o0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:a})}}class zd{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new zd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(o0(this.Ac)&&jS.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class PS{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||mc(e)}Cc(e,i,s,o=!1){return new zd({Ac:e,methodName:i,Dc:s,path:Ke.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BS(a){const e=a._freezeSettings(),i=mc(a._databaseId);return new PS(a._databaseId,!!e.ignoreUndefinedProperties,i)}function qS(a,e,i,s=!1){return jd(i,a.Cc(s?4:3,e))}function jd(a,e){if(u0(a=ma(a)))return HS("Unsupported field value:",e,a),kS(a,e);if(a instanceof l0)return function(s,o){if(!o0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let _=jd(g,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,o){if((s=ma(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return K2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=ee.fromDate(s);return{timestampValue:Jf(o.serializer,h)}}if(s instanceof ee){const h=new ee(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Jf(o.serializer,h)}}if(s instanceof ti)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof wn)return{bytesValue:xv(o.serializer,s._byteString)};if(s instanceof Ee){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Uv(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ei)return function(d,g){return{mapValue:{fields:{[fv]:{stringValue:dv},[Zu]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Sc("VectorValues must only contain numeric values.");return pd(g.serializer,v)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${ic(s)}`)}(a,e)}function kS(a,e){const i={};return av(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(a,(s,o)=>{const h=jd(o,e.mc(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function u0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ee||a instanceof ti||a instanceof wn||a instanceof Ee||a instanceof l0||a instanceof ei)}function HS(a,e,i){if(!u0(i)||!rv(i)){const s=ic(i);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}const GS=new RegExp("[~\\*/\\[\\]]");function QS(a,e,i){if(e.search(GS)>=0)throw sd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new a0(...e.split("."))._internalPath}catch{throw sd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function sd(a,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new rt(Z.INVALID_ARGUMENT,g+a+_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ee(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Pd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class FS extends c0{data(){return super.data()}}function Pd(a,e){return typeof e=="string"?QS(a,e):e instanceof a0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new rt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bd{}class f0 extends Bd{}function w_(a,e,...i){let s=[];e instanceof Bd&&s.push(e),s=s.concat(i),function(h){const d=h.filter(_=>_ instanceof kd).length,g=h.filter(_=>_ instanceof qd).length;if(d>1||d>0&&g>0)throw new rt(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)a=o._apply(a);return a}class qd extends f0{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new qd(e,i,s)}_apply(e){const i=this._parse(e);return d0(e._query,i),new Tr(e.firestore,e.converter,Yf(e._query,i))}_parse(e){const i=BS(e.firestore);return function(h,d,g,_,v,A,V){let N;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){N_(V,A);const J=[];for(const it of V)J.push(D_(_,h,it));N={arrayValue:{values:J}}}else N=D_(_,h,V)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||N_(V,A),N=qS(g,d,V,A==="in"||A==="not-in");return _e.create(v,A,N)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class kd extends Bd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new kd(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:On.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,h){let d=o;const g=h.getFlattenedFilters();for(const _ of g)d0(d,_),d=Yf(d,_)}(e._query,i),new Tr(e.firestore,e.converter,Yf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hd extends f0{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Hd(e,i)}_apply(e){const i=function(o,h,d){if(o.startAt!==null)throw new rt(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new rt(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wl(h,d)}(e._query,this._field,this._direction);return new Tr(e.firestore,e.converter,function(o,h){const d=o.explicitOrderBy.concat([h]);return new wa(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,i))}}function C_(a,e="asc"){const i=e,s=Pd("orderBy",a);return Hd._create(s,i)}function D_(a,e,i){if(typeof(i=ma(i))=="string"){if(i==="")throw new rt(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ev(e)&&i.indexOf("/")!==-1)throw new rt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Jt.fromString(i));if(!ut.isDocumentKey(s))throw new rt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return By(a,new ut(s))}if(i instanceof Ee)return By(a,i._key);throw new rt(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ic(i)}.`)}function N_(a,e){if(!Array.isArray(a)||a.length===0)throw new rt(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function d0(a,e){const i=function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(a.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new rt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class YS{convertValue(e,i="none"){switch(yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return he(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Et(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ra(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){const i=e.fields?.[Zu].arrayValue?.values?.map(s=>he(s.doubleValue));return new ei(i)}convertGeoPoint(e){return new ti(he(e.latitude),he(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=lc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const i=gr(e);return new ee(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Jt.fromString(e);ie(qv(s),9688,{name:e});const o=new $l(s.get(1),s.get(3)),h=new ut(s.popFirst(5));return o.isEqual(i)||Vi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class ql{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class us extends c0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Pd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=us._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}us._jsonSchemaVersion="firestore/documentSnapshot/1.0",us._jsonSchema={type:ve("string",us._jsonSchemaVersion),bundleSource:ve("string","DocumentSnapshot"),bundleName:ve("string"),bundle:ve("string")};class qu extends us{data(e={}){return super.data(e)}}class cs{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new qu(this._firestore,this._userDataWriter,s.key,s,new ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const _=new qu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ql(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new qu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ql(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:KS(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=cs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KS(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(a){a=fr(a,Ee);const e=fr(a.firestore,to);return OS(Ld(e),a._key).then(i=>m0(e,a,i))}cs._jsonSchemaVersion="firestore/querySnapshot/1.0",cs._jsonSchema={type:ve("string",cs._jsonSchemaVersion),bundleSource:ve("string","QuerySnapshot"),bundleName:ve("string"),bundle:ve("string")};class Gd extends YS{constructor(e){super(),this.firestore=e}convertBytes(e){return new wn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ee(this.firestore,null,i)}}function Lu(a){a=fr(a,Tr);const e=fr(a.firestore,to),i=Ld(e),s=new Gd(e);return h0(a._query),xS(i,a._query).then(o=>new cs(e,s,a,o))}function ZS(a,...e){a=ma(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||R_(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(R_(e[s])){const _=e[s];e[s]=_.next?.bind(_),e[s+1]=_.error?.bind(_),e[s+2]=_.complete?.bind(_)}let h,d,g;if(a instanceof Ee)d=fr(a.firestore,to),g=oc(a._key.path),h={next:_=>{e[s]&&e[s](m0(d,a,_))},error:e[s+1],complete:e[s+2]};else{const _=fr(a,Tr);d=fr(_.firestore,to),g=_._query;const v=new Gd(d);h={next:A=>{e[s]&&e[s](new cs(d,v,_,A))},error:e[s+1],complete:e[s+2]},h0(a._query)}return function(v,A,V,N){const Y=new Ud(N),J=new Md(A,Y,V);return v.asyncQueue.enqueueAndForget(async()=>Nd(await nc(v),J)),()=>{Y.Nu(),v.asyncQueue.enqueueAndForget(async()=>Vd(await nc(v),J))}}(Ld(d),g,o,h)}function m0(a,e,i){const s=i.docs.get(e._key),o=new Gd(a);return new us(a,o,e._key,s,new ql(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Sa=o})(HT),Yu(new Yl("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new to(new s2(s.getProvider("auth-internal")),new o2(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new rt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(v.options.projectId,A)}(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ca(Cy,Dy,e),ca(Cy,Dy,"esm2020")})();class $S{constructor(e,i){this.app=F_(e,`menu-sdk-${Date.now()}`),this.db=LS(this.app),this.businessId=i}async getBusinessInfo(){try{const e=T_(this.db,"businesses",this.businessId),i=await XS(e);if(!i.exists())throw new Error(`Negocio no encontrado con ID: ${this.businessId}`);return i.data()}catch(e){throw console.error("Error getting business info:",e),e}}onBusinessInfoChange(e){try{const i=T_(this.db,"businesses",this.businessId);return ZS(i,s=>{s.exists()?e(s.data(),null):e(null,new Error("Negocio no encontrado"))},s=>{console.error("Error in business listener:",s),e(null,s)})}catch(i){throw console.error("Error setting up business info listener:",i),i}}async getFullMenu(){try{console.log("📋 MenuSDK: obteniendo menú completo para businessId:",this.businessId),console.log("📋 MenuSDK: obteniendo lista de menús...");const e=Uu(this.db,"businesses",this.businessId,"menus"),i=await Lu(e);if(i.docs.length===0)return console.log("📋 MenuSDK: no se encontraron menús"),[];console.log("📋 MenuSDK: menús encontrados:",i.docs.length);const o=i.docs.map(h=>{const d=h.data();return console.log("📋 MenuSDK: menú:",h.id,d),{id:h.id,name:d.name||"Menú sin nombre",description:d.description||"",order:d.order||0,active:d.active!==!1,...d}}).filter(h=>h.active).sort((h,d)=>(h.order||0)-(d.order||0));return console.log("✅ MenuSDK: menús activos obtenidos:",o),o}catch(e){throw console.error("❌ Error getting full menu:",e),e}}async getAvailableMenus(){try{const e=Uu(this.db,"businesses",this.businessId,"menus");return(await Lu(e)).docs.map(s=>({id:s.id,...s.data()})).filter(s=>s.active!==!1).sort((s,o)=>(s.order||0)-(o.order||0))}catch(e){return console.error("Error getting available menus:",e),[]}}async getMenuById(e){try{console.log("📄 MenuSDK: obteniendo menú por ID:",e);const i=Uu(this.db,"businesses",this.businessId,"menus",e,"categories"),s=w_(i,C_("order","asc")),o=await Lu(s),h=[];for(const d of o.docs){const g=d.data();console.log("📄 MenuSDK: procesando categoría:",d.id,g);const _=Uu(this.db,"businesses",this.businessId,"menus",e,"categories",d.id,"items"),v=w_(_,C_("name","asc")),V=(await Lu(v)).docs.map(N=>({id:N.id,...N.data()})).filter(N=>!N.isHidden);V.length>0&&h.push({id:d.id,name:g.name,description:g.description||"",items:V})}return console.log("✅ MenuSDK: categorías obtenidas para menú",e,":",h),h}catch(i){throw console.error("❌ Error getting menu by id:",i),i}}async getFeaturedItems(){try{const e=await this.getFullMenu(),i=[];return e.forEach(s=>{s.items.forEach(o=>{o.featured===!0&&i.push({...o,categoryName:s.name})})}),i}catch(e){throw console.error("Error getting featured items:",e),e}}async searchItems(e){try{const i=await this.getFullMenu(),s=[],o=e.toLowerCase();return i.forEach(h=>{h.items.forEach(d=>{const g=d.name.toLowerCase().includes(o),_=d.description&&d.description.toLowerCase().includes(o);(g||_)&&s.push({...d,categoryName:h.name})})}),s}catch(i){throw console.error("Error searching items:",i),i}}validateStock(e,i=1){if(!e.trackStock)return{isValid:!0,availableStock:null,message:"Stock ilimitado"};const s=e.stock>=i;return{isValid:s&&e.isAvailable!==!1,availableStock:e.stock,message:s?`Stock disponible: ${e.stock}`:`Stock insuficiente. Disponible: ${e.stock}`}}getStockStatus(e){if(!e.trackStock)return{status:"unlimited",level:"unlimited",message:"Siempre disponible",cssClass:"stock-unlimited"};const i=e.stock||0;return i<=0||e.isAvailable===!1?{status:"out_of_stock",level:"empty",message:"Sin stock",cssClass:"stock-empty"}:i<=5?{status:"low_stock",level:"low",message:`¡Quedan pocos! (${i})`,cssClass:"stock-low"}:{status:"in_stock",level:"normal",message:`${i} disponibles`,cssClass:"stock-normal"}}async validateCart(e){const i={isValid:!0,errors:[],warnings:[],totalItems:e.length},s=await this.getFullMenu(),o={};s.forEach(h=>{h.items.forEach(d=>{o[d.id]=d})});for(const h of e){const d=o[h.id];if(!d){i.errors.push(`Item no encontrado: ${h.name}`),i.isValid=!1;continue}const g=this.validateStock(d,h.quantity);g.isValid?d.trackStock&&d.stock<=5&&i.warnings.push(`${d.name}: Quedan pocos en stock`):(i.errors.push(`${d.name}: ${g.message}`),i.isValid=!1)}return i}}function JS(a,e){return new $S(a,e)}const ua={firebaseConfig:{apiKey:"AIzaSyDHi_a1trI35goPoKcNPUDBMOSLKjvZKyc",authDomain:"cms-menu-7b4a4.firebaseapp.com",projectId:"cms-menu-7b4a4",storageBucket:"cms-menu-7b4a4.firebasestorage.app",messagingSenderId:"509736809578",appId:"1:509736809578:web:15471af092f3b46392c613"},businessId:"0X2PjjSrO8hZmq2wZtREoKR9gej1",multipleMenus:{enabled:!0,showMenuSelector:!0,defaultMenuId:null,ui:{showMenuDescriptions:!0,menuCardStyle:"modern",categoryAccordion:!0,showProductImages:!0,compactMode:!1}},cart:{persistBetweenMenus:!0,showMenuOrigin:!0,allowMixedMenus:!0},terminology:{business:{restaurant:{menuSingular:"menú",menuPlural:"menús",itemSingular:"plato",itemPlural:"platos",categorySingular:"categoría",categoryPlural:"categorías",cartName:"pedido",addToCartText:"Agregar al pedido"},store:{menuSingular:"catálogo",menuPlural:"catálogos",itemSingular:"producto",itemPlural:"productos",categorySingular:"categoría",categoryPlural:"categorías",cartName:"carrito",addToCartText:"Agregar al carrito"}}}};ua.businessId;const g0=pt.createContext();function WS({children:a}){const[e,i]=pt.useState(null),[s,o]=pt.useState(!1),[h,d]=pt.useState(null);pt.useEffect(()=>{async function _(){try{console.log("🚀 Inicializando Firebase SDK para Groove..."),console.log("🔧 Config:",ua.firebaseConfig),console.log("🏪 Business ID:",ua.businessId);const v=JS(ua.firebaseConfig,ua.businessId);console.log("✅ SDK creado correctamente"),console.log("🔍 Probando conectividad con Firebase...");const A=await v.getBusinessInfo();console.log("✅ Conectividad verificada, info del negocio:",A),i(v),o(!0),console.log("✅ Firebase SDK inicializado correctamente")}catch(v){console.error("❌ Error inicializando Firebase SDK:",v),d(v.message),o(!0)}}_()},[]);const g={menuSDK:e,isInitialized:s,error:h,config:ua};return x.jsx(g0.Provider,{value:g,children:a})}function p0(){const a=pt.useContext(g0);if(!a)throw new Error("useFirebase debe usarse dentro de un FirebaseProvider");return a}function tb(a){const e={};return a.forEach(i=>{const s=i.id;e[s]={id:i.id,title:i.name,description:i.description||`Descubre nuestro menú ${i.name}`,active:i.active!==!1,order:i.order||0,menuData:i}}),e}function eb(a){return!a||isNaN(a)?"$0":typeof a=="number"?`$${a.toLocaleString("es-AR")}`:a.toString()}function nb(a){return null}function y0(a){const[e,i]=pt.useState({}),[s,o]=pt.useState(!0),[h,d]=pt.useState(null);return pt.useEffect(()=>{if(!a){console.log("🔄 useGrooveMenus: esperando SDK...");return}async function g(){try{console.log("🔄 useGrooveMenus: iniciando carga..."),o(!0),d(null),console.log("📋 useGrooveMenus: obteniendo lista de menús...");const _=await a.getFullMenu();console.log("✅ useGrooveMenus: menús obtenidos:",_),console.log("🎯 useGrooveMenus: mapeando menús...");const v=tb(_);console.log("✅ useGrooveMenus: menús mapeados:",v),i(v)}catch(_){console.error("❌ Error loading Groove menus:",_),d(_.message)}finally{o(!1),console.log("🏁 useGrooveMenus: carga finalizada")}}g()},[a]),{grooveMenus:e,loading:s,error:h}}function ib(a,e){const[i,s]=pt.useState([]),[o,h]=pt.useState(!1),[d,g]=pt.useState(null);return pt.useEffect(()=>{if(!a||!e){s([]);return}async function _(){try{console.log("🔄 useMenuCategories: cargando categorías para menú:",e),h(!0),g(null);const v=await a.getMenuById(e);console.log("✅ useMenuCategories: categorías obtenidas:",v);const A=v.map(V=>({...V,items:V.items.map(N=>({id:N.id,name:N.name,price:eb(N.price),desc:N.description||"",img:N.image||N.images?.[0]?.url||nb(V.name),featured:N.featured||!1,stock:N.stock,trackStock:N.trackStock||!1,isAvailable:N.isAvailable!==!1}))}));s(A)}catch(v){console.error("❌ Error loading menu categories:",v),g(v.message)}finally{h(!1)}}_()},[a,e]),{categories:i,loading:o,error:d}}const rb=({onSelect:a})=>{const{menuSDK:e,isInitialized:i}=p0(),{grooveMenus:s,loading:o,error:h}=y0(e),[d,g]=pt.useState(0),[_,v]=pt.useState(0),[A,V]=pt.useState(!1),[N,Y]=pt.useState(0),[J,it]=pt.useState(0),W=pt.useRef(null),At=pt.useRef([]),dt=pt.useRef(null),ct=Object.keys(s);console.log("🎬 MenuSlider render:",{isInitialized:i,loading:o,error:h,menuSDKExists:!!e,keysLength:ct.length,grooveMenus:s});const Vt=pt.useCallback(()=>{if(!dt.current||!W.current||!At.current[d])return;const S=dt.current.offsetWidth,b=At.current[d],I=b.offsetLeft,M=b.offsetWidth,L=S/2-(I+M/2);v(L)},[d]);pt.useEffect(()=>(Vt(),window.addEventListener("resize",Vt),()=>window.removeEventListener("resize",Vt)),[Vt]);const yt=S=>{V(!0),Y(S.touches?S.touches[0].clientX:S.clientX),it(0),W.current&&(W.current.style.transition="none")},Dt=S=>{if(!A)return;S.preventDefault();const b=S.touches?S.touches[0].clientX:S.clientX;it(b-N)},O=()=>{if(!A)return;V(!1),W.current&&(W.current.style.transition="transform 0.4s cubic-bezier(0.4, 0, 0.2, 1)"),Math.abs(J)>50&&(J<0?g(b=>Math.min(b+1,ct.length-1)):g(b=>Math.max(b-1,0))),it(0)};return pt.useEffect(()=>{const S=W.current;if(S)return S.addEventListener("touchmove",Dt,{passive:!1}),()=>{S.removeEventListener("touchmove",Dt)}},[]),i?o?x.jsx("div",{className:"menu-carousel",children:x.jsx("div",{className:"carousel-loading",children:x.jsx("div",{className:"simple-loader"})})}):h?x.jsx("div",{className:"menu-carousel",children:x.jsx("div",{className:"carousel-error",children:x.jsxs("p",{children:["Error cargando menús: ",h]})})}):ct.length===0?x.jsx("div",{className:"menu-carousel",children:x.jsx("div",{className:"carousel-loading",children:x.jsx("div",{className:"simple-loader"})})}):x.jsxs("div",{className:"menu-carousel",ref:dt,children:[x.jsx("div",{className:"carousel-track",ref:W,style:{transform:`translateX(calc(${_}px + ${J}px))`},onMouseDown:yt,onTouchStart:yt,onMouseMove:Dt,onTouchMove:Dt,onMouseUp:O,onTouchEnd:O,onMouseLeave:O,children:ct.map((S,b)=>{const I=b===d;return x.jsx("div",{className:`carousel-slide ${I?"active":""}`,ref:M=>At.current[b]=M,children:x.jsx(yE,{type:S,menuData:s[S],onMore:()=>a&&a(S)})},S)})}),x.jsx("div",{className:"carousel-dots",children:ct.map((S,b)=>x.jsx("button",{className:`dot ${b===d?"active":""}`,onClick:()=>g(b),"aria-label":`Ir a slide ${b+1}`},b))})]}):x.jsx("div",{className:"menu-carousel",children:x.jsx("div",{className:"carousel-loading",children:x.jsx("div",{className:"simple-loader"})})})},sb=({prefix:a="Nuestros",words:e=["cocteles","cafés","desayunos","meriendas","cenas","tragos","brunchs"],typingSpeed:i=90,deleteSpeed:s=55,pauseTime:o=1200,loop:h=!0,className:d=""})=>{const[g,_]=pt.useState(0),[v,A]=pt.useState(0),[V,N]=pt.useState(!1),[Y,J]=pt.useState(!0);pt.useEffect(()=>{if(!e.length)return;const W=e[g];if(!V&&v===W.length){const dt=setTimeout(()=>N(!0),o);return()=>clearTimeout(dt)}if(V&&v===0){const dt=(g+1)%e.length;if(!h&&dt===0)return;N(!1),_(dt);return}const At=setTimeout(()=>{A(dt=>dt+(V?-1:1))},V?s:i);return()=>clearTimeout(At)},[v,g,V,e,i,s,o,h]),pt.useEffect(()=>{const W=setTimeout(()=>J(At=>!At),500);return()=>clearTimeout(W)},[Y]);const it=e.length?e[g]:"";return x.jsxs("span",{className:`tw-wrapper ${d}`,children:[a?x.jsx("span",{className:"tw-prefix",children:a}):null,a?" ":null,x.jsxs("span",{className:"tw-typing","aria-live":"polite","aria-label":`${a} ${it}`,children:[x.jsx("span",{className:"tw-text",children:it.substring(0,v)}),x.jsx("span",{className:`tw-caret${Y?" visible":""}`,"aria-hidden":"true"})]})]})},ab=({onSelect:a})=>{const[e,i]=pt.useState(!1);return pt.useEffect(()=>{const s=requestAnimationFrame(()=>i(!0));return()=>cancelAnimationFrame(s)},[]),x.jsxs("header",{className:"site-header","data-entered":e?"true":"false",children:[x.jsx(aE,{}),x.jsxs("div",{className:"header-inner",children:[x.jsx("div",{className:"logo-wrapper",children:x.jsx("img",{src:M_,alt:"Groove Cafe",className:"logo"})}),x.jsxs("h2",{className:"header-title header-title--stack","aria-live":"polite",children:[x.jsx("span",{className:"header-title__top",children:"Nuestros"}),x.jsx("span",{className:"header-title__bottom",children:x.jsx(sb,{prefix:"",words:["cocteles","cafés","desayunos","almuerzos","tragos"]})})]}),x.jsx(rb,{onSelect:a})]}),x.jsxs("a",{href:"#nosotros",className:"scroll-cue","aria-label":"¿Querés saber más de nosotros?",children:[x.jsx("span",{className:"text",children:"¿Querés saber más de nosotros?"}),x.jsx("span",{className:"arrow","aria-hidden":"true",children:x.jsx("svg",{viewBox:"0 0 24 24",width:"22",height:"22",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",focusable:"false","aria-hidden":"true",children:x.jsx("path",{d:"M6 9l6 6 6-6"})})})]})]})},lb="/groove_web/Groove_logo.svg",V_=()=>lb,ob=({cat:a,open:e,onToggle:i})=>x.jsxs("div",{className:`md-cat ${e?"open":""}`,children:[x.jsxs("button",{className:"md-cat-header",onClick:()=>i(a.id),"aria-expanded":e,children:[x.jsx("span",{className:"md-cat-name",children:a.name}),x.jsx("span",{className:"md-cat-arrow","aria-hidden":!0,children:x.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),x.jsx("div",{className:"md-cat-panel",style:{maxHeight:e?`${a.items.length*128+24}px`:0},children:x.jsx("ul",{className:"md-items",children:a.items.map((s,o)=>x.jsxs("li",{className:"md-item",children:[x.jsx("div",{className:"md-item-media",children:x.jsx("img",{src:s.img||V_(),alt:s.name,className:s.img?"":"placeholder",onError:h=>{h.target.src=V_(),h.target.className="placeholder"}})}),x.jsxs("div",{className:"md-item-body",children:[x.jsxs("div",{className:"md-item-row",children:[x.jsx("h4",{className:"md-item-name",children:s.name}),x.jsx("span",{className:"md-item-price",children:s.price})]}),x.jsx("p",{className:"md-item-desc",children:s.desc}),s.trackStock&&x.jsx("div",{className:"md-item-stock",children:s.stock>0?x.jsx("span",{className:`stock-indicator ${s.stock<=5?"low":"normal"}`,children:s.stock<=5?`Quedan ${s.stock}`:"Disponible"}):x.jsx("span",{className:"stock-indicator out",children:"Sin stock"})})]})]},s.id))})})]}),ub=({menuType:a})=>{const e=pt.useRef(null),{menuSDK:i,isInitialized:s,error:o}=p0(),{grooveMenus:h,loading:d}=y0(i),{categories:g,loading:_,error:v}=ib(i,a),[A,V]=pt.useState(null),N=pt.useMemo(()=>d||!s||!h[a]?null:h[a],[h,a,d,s]),Y=d||_;pt.useEffect(()=>{V(null)},[a]),pt.useEffect(()=>{e.current&&g&&g.length>0&&e.current.scrollIntoView({behavior:"smooth",block:"start"})},[g]);const J=it=>V(W=>W===it?null:it);return s?o?x.jsx("section",{className:"menu-dropdown",children:x.jsx("div",{className:"md-container",children:x.jsxs("div",{className:"error-state",children:[x.jsxs("p",{children:["❌ Error de conexión: ",o]}),x.jsx("p",{children:"Por favor, intenta recargar la página."})]})})}):Y?x.jsx("section",{className:"menu-dropdown",children:x.jsx("div",{className:"md-container",children:x.jsx("div",{className:"loading-state",children:x.jsx("div",{className:"simple-loader"})})})}):v?x.jsx("section",{className:"menu-dropdown",children:x.jsx("div",{className:"md-container",children:x.jsxs("div",{className:"error-state",children:[x.jsxs("p",{children:["❌ Error cargando menú: ",v]}),x.jsx("p",{children:"Por favor, intenta nuevamente."})]})})}):!g||g.length===0?x.jsx("section",{className:"menu-dropdown",children:x.jsx("div",{className:"md-container",children:x.jsxs("div",{className:"empty-state",children:[x.jsx("p",{children:"📭 No hay elementos disponibles en este menú."}),x.jsx("p",{children:"Intenta seleccionar otro menú."})]})})}):x.jsx("section",{ref:e,id:"menu-dropdown",className:"menu-dropdown",children:x.jsxs("div",{className:"md-container",children:[x.jsx("h2",{className:"md-title",children:N?.title||"Menú"}),x.jsx("div",{className:"md-list",children:g.map(it=>x.jsx(ob,{cat:it,open:A===it.id,onToggle:J},it.id))})]})}):x.jsx("section",{className:"menu-dropdown",children:x.jsx("div",{className:"md-container",children:x.jsx("div",{className:"loading-state",children:x.jsx("div",{className:"simple-loader"})})})})},_0="/groove_web/assets/panaderia-C3Izvqdk.png",cb="/groove_web/assets/eventos-DFFPpf0z.png",I_=({title:a,subtitle:e,bullets:i=[],ctaLabel:s,ctaHref:o="#",imageSrc:h=_0,imageAlt:d})=>x.jsxs("article",{className:"premium-card",children:[x.jsxs("div",{className:"premium-card__media",children:[x.jsx("img",{src:h,alt:d,loading:"lazy"}),x.jsx("div",{className:"premium-card__overlay","aria-hidden":"true"})]}),x.jsxs("div",{className:"premium-card__content",children:[x.jsx("h3",{className:"premium-card__title",children:a}),e&&x.jsx("p",{className:"premium-card__subtitle",children:e}),!!i.length&&x.jsx("ul",{className:"premium-card__bullets",children:i.map((g,_)=>x.jsx("li",{children:g},_))}),x.jsxs("a",{className:"premium-card__cta",href:o,children:[x.jsx("span",{children:s}),x.jsx("svg",{className:"arrow",viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",focusable:"false",children:x.jsx("path",{d:"M5 12h14M13 5l7 7-7 7"})})]})]})]}),hb=()=>{const a=pt.useRef(null);return pt.useEffect(()=>{const e=a.current;if(!e)return;let i=0;const s=()=>{i=0;const h=e.getBoundingClientRect(),d=window.innerHeight||document.documentElement.clientHeight,g=1-(h.top-d*.25)/(d*.75),_=Math.max(0,Math.min(1,g));e.style.setProperty("--p",_.toFixed(3))},o=()=>{i||(i=requestAnimationFrame(s))};return window.addEventListener("scroll",o,{passive:!0}),window.addEventListener("resize",o),o(),()=>{window.removeEventListener("scroll",o),window.removeEventListener("resize",o),i&&cancelAnimationFrame(i)}},[]),x.jsx("section",{id:"nosotros",ref:a,className:"body-ads","aria-label":"Conocé más sobre nosotros",children:x.jsx("div",{className:"body-ads__inner",children:x.jsxs("div",{className:"stack",children:[x.jsx("div",{className:"stack-item is-first",children:x.jsx(I_,{title:"Tu evento, con sabor a casa.",subtitle:"Un espacio íntimo y versátil para celebrar como quieras.",bullets:["Hasta 60 personas","Casamientos","Cumpleaños","Catering propio"],ctaLabel:"Habla con nosotros",ctaHref:"https://www.instagram.com/groove_cafe/",imageSrc:cb,imageAlt:"Eventos y mas"})}),x.jsx("div",{className:"stack-item is-second",children:x.jsx(I_,{title:"Panadería artesanal con pasión por la calidad",subtitle:"Delivery de Lun-Vie hasta las 15 hs. Abierto todos los días de 7:00 a 20:30 hs",bullets:["Croissants","Ideal para eventos","Tortas"],ctaLabel:"Mira más en Instagram",ctaHref:"https://www.instagram.com/groove_casadepan/",imageSrc:_0,imageAlt:"Pan artesano recién horneado"})})]})})})},fb="+54 9 3489 575769",v0="https://api.whatsapp.com/send/?phone=5493489575769&text&type=phone_number&app_absent=0",da={handle:"groove_cafe",href:"https://www.instagram.com/groove_cafe/",title:"Instagram Café"},xf={handle:"groove_casadepan",href:"https://www.instagram.com/groove_casadepan/",title:"Instagram Panadería"},db=()=>{const a=new Date().getFullYear();return x.jsxs("footer",{className:"site-footer",role:"contentinfo",children:[x.jsx("div",{className:"footer-divider","aria-hidden":"true"}),x.jsxs("div",{className:"footer-inner",children:[x.jsxs("div",{className:"footer-brand",children:[x.jsx("img",{src:M_,alt:"Groove Café",className:"footer-logo"}),x.jsx("p",{className:"footer-tagline",children:"Café & Restó"})]}),x.jsxs("nav",{className:"footer-links","aria-label":"Redes sociales",children:[x.jsx("a",{href:da.href,target:"_blank",rel:"noreferrer noopener",title:da.title,"aria-label":da.title,children:x.jsx(U_,{"aria-hidden":"true"})}),x.jsx("a",{href:v0,target:"_blank",rel:"noreferrer noopener",title:"WhatsApp","aria-label":"WhatsApp",children:x.jsx(L_,{"aria-hidden":"true"})})]}),x.jsx("div",{className:"footer-meta",children:x.jsxs("small",{className:"legal",children:["© ",a," Creado por ",x.jsx("a",{href:"https://jmcdev.site",target:"_blank",rel:"noreferrer noopener",children:"JMCDEV"}),". Todos los derechos reservados."]})})]})]})},E0=encodeURIComponent("Av. Int. Jorge Ruben Varela 512, B7223 Campana, Provincia de Buenos Aires"),mb=`https://www.google.com/maps?q=${E0}&output=embed`,gb=()=>{const a=pt.useRef(null),[e,i]=pt.useState(!1);return pt.useEffect(()=>{const s=a.current;if(!s)return;const o=new IntersectionObserver(h=>{h.forEach(d=>{d.isIntersecting&&(i(!0),o.disconnect())})},{root:null,threshold:.2});return o.observe(s),()=>o.disconnect()},[]),x.jsx("section",{id:"info",className:"info-section","aria-label":"Información de contacto y ubicación",ref:a,"data-entered":e?"true":"false",children:x.jsxs("div",{className:"info__inner",children:[x.jsxs("div",{className:"info__header",children:[x.jsx("h2",{className:"info__title",children:"Encontranos"}),x.jsx("p",{className:"info__subtitle",children:"Ubicación, horarios y formas de contacto"})]}),x.jsxs("div",{className:"info__grid",children:[x.jsxs("div",{className:"info__details","aria-label":"Datos de contacto",children:[x.jsxs("div",{className:"info-item",children:[x.jsx("div",{className:"info-item__icon","aria-hidden":"true",children:x.jsx(gE,{})}),x.jsxs("div",{className:"info-item__content",children:[x.jsx("h3",{className:"info-item__title",children:"Ubicación"}),x.jsx("p",{className:"info-item__text",children:"Av. Int. Jorge Ruben Varela 512, B7223 Campana, Provincia de Buenos Aires"}),x.jsx("a",{className:"info-item__link",href:`https://www.google.com/maps/search/?api=1&query=${E0}`,target:"_blank",rel:"noreferrer noopener",children:"Ver en Google Maps"})]})]}),x.jsxs("div",{className:"info-item",children:[x.jsx("div",{className:"info-item__icon","aria-hidden":"true",children:x.jsx(L_,{})}),x.jsxs("div",{className:"info-item__content",children:[x.jsx("h3",{className:"info-item__title",children:"WhatsApp"}),x.jsx("p",{className:"info-item__text",children:fb}),x.jsx("a",{className:"info-item__link",href:v0,target:"_blank",rel:"noreferrer noopener",children:"Escribinos por WhatsApp"})]})]}),x.jsxs("div",{className:"info-item",children:[x.jsx("div",{className:"info-item__icon","aria-hidden":"true",children:x.jsx(U_,{})}),x.jsxs("div",{className:"info-item__content",children:[x.jsx("h3",{className:"info-item__title",children:"Instagram"}),x.jsxs("div",{className:"info-chips",role:"list",children:[x.jsxs("a",{role:"listitem",className:"chip",href:da.href,target:"_blank",rel:"noreferrer noopener",title:da.title,children:["@",da.handle]}),x.jsxs("a",{role:"listitem",className:"chip",href:xf.href,target:"_blank",rel:"noreferrer noopener",title:xf.title,children:["@",xf.handle]})]})]})]}),x.jsxs("div",{className:"info-item",children:[x.jsx("div",{className:"info-item__icon","aria-hidden":"true",children:x.jsx(mE,{})}),x.jsxs("div",{className:"info-item__content",children:[x.jsx("h3",{className:"info-item__title",children:"Horarios"}),x.jsx("ul",{className:"info-hours",children:x.jsxs("li",{children:[x.jsx("strong",{children:"Lun a Sab:"})," 15:30 – 00:00"]})}),x.jsx("p",{className:"info-item__note",children:"Reservas y eventos: escribinos y coordinamos tu fecha."})]})]})]}),x.jsx("div",{className:"info__map","aria-label":"Mapa de Google con la ubicación",children:x.jsx("div",{className:"map-card",children:x.jsx("iframe",{title:"Mapa de Groove Café en Campana",src:mb,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",allowFullScreen:!0})})})]})]})})};function pb(){const[a,e]=pt.useState(null);return x.jsxs(WS,{children:[x.jsx(ab,{onSelect:e}),a&&x.jsx(ub,{menuType:a}),x.jsx(hb,{}),x.jsx(gb,{}),x.jsx(db,{})]})}eE.createRoot(document.getElementById("root")).render(x.jsx(pt.StrictMode,{children:x.jsx(pb,{})}));

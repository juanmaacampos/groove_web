(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function tE(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var bf={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function eE(){if(ly)return zl;ly=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return zl.Fragment=e,zl.jsx=i,zl.jsxs=i,zl}var oy;function nE(){return oy||(oy=1,bf.exports=eE()),bf.exports}var I=nE(),Rf={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function iE(){if(uy)return At;uy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function D(N){return N===null||typeof N!="object"?null:(N=C&&N[C]||N["@@iterator"],typeof N=="function"?N:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,it={};function J(N,X,nt){this.props=N,this.context=X,this.refs=it,this.updater=nt||F}J.prototype.isReactComponent={},J.prototype.setState=function(N,X){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,X,"setState")},J.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function mt(){}mt.prototype=J.prototype;function ot(N,X,nt){this.props=N,this.context=X,this.refs=it,this.updater=nt||F}var ft=ot.prototype=new mt;ft.constructor=ot,$(ft,J.prototype),ft.isPureReactComponent=!0;var It=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},Dt=Object.prototype.hasOwnProperty;function x(N,X,nt,W,dt,bt){return nt=bt.ref,{$$typeof:a,type:N,key:X,ref:nt!==void 0?nt:null,props:bt}}function S(N,X){return x(N.type,X,void 0,void 0,void 0,N.props)}function b(N){return typeof N=="object"&&N!==null&&N.$$typeof===a}function M(N){var X={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(nt){return X[nt]})}var O=/\/+/g;function L(N,X){return typeof N=="object"&&N!==null&&N.key!=null?M(""+N.key):X.toString(36)}function w(){}function xe(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(w,w):(N.status="pending",N.then(function(X){N.status==="pending"&&(N.status="fulfilled",N.value=X)},function(X){N.status==="pending"&&(N.status="rejected",N.reason=X)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function re(N,X,nt,W,dt){var bt=typeof N;(bt==="undefined"||bt==="boolean")&&(N=null);var vt=!1;if(N===null)vt=!0;else switch(bt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(N.$$typeof){case a:case e:vt=!0;break;case A:return vt=N._init,re(vt(N._payload),X,nt,W,dt)}}if(vt)return dt=dt(N),vt=W===""?"."+L(N,0):W,It(dt)?(nt="",vt!=null&&(nt=vt.replace(O,"$&/")+"/"),re(dt,X,nt,"",function(xn){return xn})):dt!=null&&(b(dt)&&(dt=S(dt,nt+(dt.key==null||N&&N.key===dt.key?"":(""+dt.key).replace(O,"$&/")+"/")+vt)),X.push(dt)),1;vt=0;var Ce=W===""?".":W+":";if(It(N))for(var Zt=0;Zt<N.length;Zt++)W=N[Zt],bt=Ce+L(W,Zt),vt+=re(W,X,nt,bt,dt);else if(Zt=D(N),typeof Zt=="function")for(N=Zt.call(N),Zt=0;!(W=N.next()).done;)W=W.value,bt=Ce+L(W,Zt++),vt+=re(W,X,nt,bt,dt);else if(bt==="object"){if(typeof N.then=="function")return re(xe(N),X,nt,W,dt);throw X=String(N),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return vt}function H(N,X,nt){if(N==null)return N;var W=[],dt=0;return re(N,W,"","",function(bt){return X.call(nt,bt,dt++)}),W}function et(N){if(N._status===-1){var X=N._result;X=X(),X.then(function(nt){(N._status===0||N._status===-1)&&(N._status=1,N._result=nt)},function(nt){(N._status===0||N._status===-1)&&(N._status=2,N._result=nt)}),N._status===-1&&(N._status=0,N._result=X)}if(N._status===1)return N._result.default;throw N._result}var ct=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Bt(){}return At.Children={map:H,forEach:function(N,X,nt){H(N,function(){X.apply(this,arguments)},nt)},count:function(N){var X=0;return H(N,function(){X++}),X},toArray:function(N){return H(N,function(X){return X})||[]},only:function(N){if(!b(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},At.Component=J,At.Fragment=i,At.Profiler=o,At.PureComponent=ot,At.StrictMode=s,At.Suspense=_,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,At.__COMPILER_RUNTIME={__proto__:null,c:function(N){return _t.H.useMemoCache(N)}},At.cache=function(N){return function(){return N.apply(null,arguments)}},At.cloneElement=function(N,X,nt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var W=$({},N.props),dt=N.key,bt=void 0;if(X!=null)for(vt in X.ref!==void 0&&(bt=void 0),X.key!==void 0&&(dt=""+X.key),X)!Dt.call(X,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&X.ref===void 0||(W[vt]=X[vt]);var vt=arguments.length-2;if(vt===1)W.children=nt;else if(1<vt){for(var Ce=Array(vt),Zt=0;Zt<vt;Zt++)Ce[Zt]=arguments[Zt+2];W.children=Ce}return x(N.type,dt,void 0,void 0,bt,W)},At.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:h,_context:N},N},At.createElement=function(N,X,nt){var W,dt={},bt=null;if(X!=null)for(W in X.key!==void 0&&(bt=""+X.key),X)Dt.call(X,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(dt[W]=X[W]);var vt=arguments.length-2;if(vt===1)dt.children=nt;else if(1<vt){for(var Ce=Array(vt),Zt=0;Zt<vt;Zt++)Ce[Zt]=arguments[Zt+2];dt.children=Ce}if(N&&N.defaultProps)for(W in vt=N.defaultProps,vt)dt[W]===void 0&&(dt[W]=vt[W]);return x(N,bt,void 0,void 0,null,dt)},At.createRef=function(){return{current:null}},At.forwardRef=function(N){return{$$typeof:g,render:N}},At.isValidElement=b,At.lazy=function(N){return{$$typeof:A,_payload:{_status:-1,_result:N},_init:et}},At.memo=function(N,X){return{$$typeof:v,type:N,compare:X===void 0?null:X}},At.startTransition=function(N){var X=_t.T,nt={};_t.T=nt;try{var W=N(),dt=_t.S;dt!==null&&dt(nt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Bt,ct)}catch(bt){ct(bt)}finally{_t.T=X}},At.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},At.use=function(N){return _t.H.use(N)},At.useActionState=function(N,X,nt){return _t.H.useActionState(N,X,nt)},At.useCallback=function(N,X){return _t.H.useCallback(N,X)},At.useContext=function(N){return _t.H.useContext(N)},At.useDebugValue=function(){},At.useDeferredValue=function(N,X){return _t.H.useDeferredValue(N,X)},At.useEffect=function(N,X,nt){var W=_t.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(N,X)},At.useId=function(){return _t.H.useId()},At.useImperativeHandle=function(N,X,nt){return _t.H.useImperativeHandle(N,X,nt)},At.useInsertionEffect=function(N,X){return _t.H.useInsertionEffect(N,X)},At.useLayoutEffect=function(N,X){return _t.H.useLayoutEffect(N,X)},At.useMemo=function(N,X){return _t.H.useMemo(N,X)},At.useOptimistic=function(N,X){return _t.H.useOptimistic(N,X)},At.useReducer=function(N,X,nt){return _t.H.useReducer(N,X,nt)},At.useRef=function(N){return _t.H.useRef(N)},At.useState=function(N){return _t.H.useState(N)},At.useSyncExternalStore=function(N,X,nt){return _t.H.useSyncExternalStore(N,X,nt)},At.useTransition=function(){return _t.H.useTransition()},At.version="19.1.1",At}var cy;function hd(){return cy||(cy=1,Rf.exports=iE()),Rf.exports}var at=hd();const Vi=tE(at);var wf={exports:{}},jl={},Cf={exports:{}},Df={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function rE(){return hy||(hy=1,function(a){function e(H,et){var ct=H.length;H.push(et);t:for(;0<ct;){var Bt=ct-1>>>1,N=H[Bt];if(0<o(N,et))H[Bt]=et,H[ct]=N,ct=Bt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var et=H[0],ct=H.pop();if(ct!==et){H[0]=ct;t:for(var Bt=0,N=H.length,X=N>>>1;Bt<X;){var nt=2*(Bt+1)-1,W=H[nt],dt=nt+1,bt=H[dt];if(0>o(W,ct))dt<N&&0>o(bt,W)?(H[Bt]=bt,H[dt]=ct,Bt=dt):(H[Bt]=W,H[nt]=ct,Bt=nt);else if(dt<N&&0>o(bt,ct))H[Bt]=bt,H[dt]=ct,Bt=dt;else break t}}return et}function o(H,et){var ct=H.sortIndex-et.sortIndex;return ct!==0?ct:H.id-et.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,C=null,D=3,F=!1,$=!1,it=!1,J=!1,mt=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function It(H){for(var et=i(v);et!==null;){if(et.callback===null)s(v);else if(et.startTime<=H)s(v),et.sortIndex=et.expirationTime,e(_,et);else break;et=i(v)}}function _t(H){if(it=!1,It(H),!$)if(i(_)!==null)$=!0,Dt||(Dt=!0,L());else{var et=i(v);et!==null&&re(_t,et.startTime-H)}}var Dt=!1,x=-1,S=5,b=-1;function M(){return J?!0:!(a.unstable_now()-b<S)}function O(){if(J=!1,Dt){var H=a.unstable_now();b=H;var et=!0;try{t:{$=!1,it&&(it=!1,ot(x),x=-1),F=!0;var ct=D;try{e:{for(It(H),C=i(_);C!==null&&!(C.expirationTime>H&&M());){var Bt=C.callback;if(typeof Bt=="function"){C.callback=null,D=C.priorityLevel;var N=Bt(C.expirationTime<=H);if(H=a.unstable_now(),typeof N=="function"){C.callback=N,It(H),et=!0;break e}C===i(_)&&s(_),It(H)}else s(_);C=i(_)}if(C!==null)et=!0;else{var X=i(v);X!==null&&re(_t,X.startTime-H),et=!1}}break t}finally{C=null,D=ct,F=!1}et=void 0}}finally{et?L():Dt=!1}}}var L;if(typeof ft=="function")L=function(){ft(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,xe=w.port2;w.port1.onmessage=O,L=function(){xe.postMessage(null)}}else L=function(){mt(O,0)};function re(H,et){x=mt(function(){H(a.unstable_now())},et)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return D},a.unstable_next=function(H){switch(D){case 1:case 2:case 3:var et=3;break;default:et=D}var ct=D;D=et;try{return H()}finally{D=ct}},a.unstable_requestPaint=function(){J=!0},a.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ct=D;D=H;try{return et()}finally{D=ct}},a.unstable_scheduleCallback=function(H,et,ct){var Bt=a.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Bt+ct:Bt):ct=Bt,H){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ct+N,H={id:A++,callback:et,priorityLevel:H,startTime:ct,expirationTime:N,sortIndex:-1},ct>Bt?(H.sortIndex=ct,e(v,H),i(_)===null&&H===i(v)&&(it?(ot(x),x=-1):it=!0,re(_t,ct-Bt))):(H.sortIndex=N,e(_,H),$||F||($=!0,Dt||(Dt=!0,L()))),H},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(H){var et=D;return function(){var ct=D;D=et;try{return H.apply(this,arguments)}finally{D=ct}}}}(Df)),Df}var fy;function sE(){return fy||(fy=1,Cf.exports=rE()),Cf.exports}var Nf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function aE(){if(dy)return Ge;dy=1;var a=hd();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:_,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},Ge.flushSync=function(_){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=A,s.d.f()}},Ge.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},Ge.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Ge.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,C=g(A,v.crossOrigin),D=typeof v.integrity=="string"?v.integrity:void 0,F=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:C,integrity:D,fetchPriority:F}):A==="script"&&s.d.X(_,{crossOrigin:C,integrity:D,fetchPriority:F,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ge.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},Ge.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,C=g(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ge.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},Ge.requestFormReset=function(_){s.d.r(_)},Ge.unstable_batchedUpdates=function(_,v){return _(v)},Ge.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.1",Ge}var my;function lE(){if(my)return Nf.exports;my=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Nf.exports=aE(),Nf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function oE(){if(gy)return jl;gy=1;var a=sE(),e=hd(),i=lE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),mt=Symbol.for("react.provider"),ot=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),It=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case J:return"Profiler";case it:return"StrictMode";case _t:return"Suspense";case Dt:return"SuspenseList";case b:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case ft:return(t.displayName||"Context")+".Provider";case ot:return(t._context.displayName||"Context")+".Consumer";case It:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:xe(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return xe(t(n))}catch{}}return null}var re=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Bt=[],N=-1;function X(t){return{current:t}}function nt(t){0>N||(t.current=Bt[N],Bt[N]=null,N--)}function W(t,n){N++,Bt[N]=t.current,t.current=n}var dt=X(null),bt=X(null),vt=X(null),Ce=X(null);function Zt(t,n){switch(W(vt,n),W(bt,t),W(dt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Up(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Up(n),t=Lp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(dt),W(dt,t)}function xn(){nt(dt),nt(bt),nt(vt)}function Ui(t){t.memoizedState!==null&&W(Ce,t);var n=dt.current,r=Lp(n,t.type);n!==r&&(W(bt,t),W(dt,r))}function si(t){bt.current===t&&(nt(dt),nt(bt)),Ce.current===t&&(nt(Ce),Ml._currentValue=ct)}var br=Object.prototype.hasOwnProperty,Rr=a.unstable_scheduleCallback,wr=a.unstable_cancelCallback,Na=a.unstable_shouldYield,lo=a.unstable_requestPaint,dn=a.unstable_now,Sc=a.unstable_getCurrentPriorityLevel,Ia=a.unstable_ImmediatePriority,ms=a.unstable_UserBlockingPriority,Cr=a.unstable_NormalPriority,bc=a.unstable_LowPriority,gs=a.unstable_IdlePriority,Va=a.log,oo=a.unstable_setDisableYieldValue,se=null,kt=null;function rn(t){if(typeof Va=="function"&&oo(t),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(se,t)}catch{}}var ke=Math.clz32?Math.clz32:Dr,uo=Math.log,Rc=Math.LN2;function Dr(t){return t>>>=0,t===0?32:31-(uo(t)/Rc|0)|0}var Nr=256,Ir=4194304;function Cn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ps(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Cn(l):(y&=E,y!==0?c=Cn(y):r||(r=E&~t,r!==0&&(c=Cn(r))))):(E=l&~f,E!==0?c=Cn(E):y!==0?c=Cn(y):r||(r=l&~t,r!==0&&(c=Cn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Vr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ma(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oa(){var t=Nr;return Nr<<=1,(Nr&4194048)===0&&(Nr=256),t}function xa(){var t=Ir;return Ir<<=1,(Ir&62914560)===0&&(Ir=4194304),t}function ai(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function li(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ua(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,B=t.hiddenUpdates;for(r=y&~r;0<r;){var G=31-ke(r),Y=1<<G;E[G]=0,R[G]=-1;var P=B[G];if(P!==null)for(B[G]=null,G=0;G<P.length;G++){var q=P[G];q!==null&&(q.lane&=-536870913)}r&=~Y}l!==0&&Un(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Un(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function La(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-ke(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Li(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ys(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function zi(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:ey(t.type))}function co(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var Wt=Math.random().toString(36).slice(2),Te="__reactFiber$"+Wt,de="__reactProps$"+Wt,mn="__reactContainer$"+Wt,za="__reactEvents$"+Wt,wc="__reactListeners$"+Wt,ji="__reactHandles$"+Wt,ho="__reactResources$"+Wt,Mr="__reactMarker$"+Wt;function Bi(t){delete t[Te],delete t[de],delete t[za],delete t[wc],delete t[ji]}function oi(t){var n=t[Te];if(n)return n;for(var r=t.parentNode;r;){if(n=r[mn]||r[Te]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Pp(t);t!==null;){if(r=t[Te])return r;t=Pp(t)}return n}t=r,r=t.parentNode}return null}function Ln(t){if(t=t[Te]||t[mn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Xe(t){var n=t[ho];return n||(n=t[ho]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function oe(t){t[Mr]=!0}var ja=new Set,_s={};function Dn(t,n){ui(t,n),ui(t+"Capture",n)}function ui(t,n){for(_s[t]=n,t=0;t<n.length;t++)ja.add(n[t])}var fo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mo={},Or={};function go(t){return br.call(Or,t)?!0:br.call(mo,t)?!1:fo.test(t)?Or[t]=!0:(mo[t]=!0,!1)}function Pi(t,n,r){if(go(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function jn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ue(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var xr,po;function ci(t){if(xr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);xr=n&&n[1]||"",po=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xr+t+po}var vs=!1;function Es(t,n){if(!t||vs)return"";vs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var P=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){P=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){P=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),B=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===B.length)for(l=R.length-1,c=B.length-1;1<=l&&0<=c&&R[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==B[c]){var G=`
`+R[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{vs=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ci(r):""}function Ba(t){switch(t.tag){case 26:case 27:case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return Es(t.type,!1);case 11:return Es(t.type.render,!1);case 1:return Es(t.type,!0);case 31:return ci("Activity");default:return""}}function Ts(t){try{var n="";do n+=Ba(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pa(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Cc(t){var n=Pa(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function As(t){t._valueTracker||(t._valueTracker=Cc(t))}function qa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Pa(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ur(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Dc=/[\n"\\]/g;function me(t){return t.replace(Dc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ze(n)):t.value!==""+Ze(n)&&(t.value=""+Ze(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?qi(t,y,Ze(n)):r!=null?qi(t,y,Ze(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ze(E):t.removeAttribute("name")}function Lr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ze(r):"",n=n!=null?""+Ze(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function qi(t,n,r){n==="number"&&Ur(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function hi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ze(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ft(t,n,r){if(n!=null&&(n=""+Ze(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ze(r):""}function zr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(re(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ze(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var jr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yo(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||jr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function ka(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&yo(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&yo(t,f,n[f])}function Ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ic=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ss(t){return Ic.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var fi=null;function pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var di=null,mi=null;function Ga(t){var n=Ln(t);if(n&&(t=n.stateNode)){var r=t[de]||null;t:switch(t=n.stateNode,n.type){case"input":if(sn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+me(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[de]||null;if(!c)throw Error(s(90));sn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&qa(l)}break t;case"textarea":Ft(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&hi(t,!!r.multiple,n,!1)}}}var Bn=!1;function _o(t,n,r){if(Bn)return t(n,r);Bn=!0;try{var l=t(n);return l}finally{if(Bn=!1,(di!==null||mi!==null)&&(hu(),di&&(n=di,t=mi,mi=di=null,Ga(n),t)))for(n=0;n<t.length;n++)Ga(t[n])}}function Br(t,n){var r=t.stateNode;if(r===null)return null;var l=r[de]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yn=!1;if(Nn)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){yn=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{yn=!1}var Pn=null,ki=null,gi=null;function Fa(){if(gi)return gi;var t,n=ki,r=n.length,l,c="value"in Pn?Pn.value:Pn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return gi=c.slice(t,1<l?1-l:void 0)}function qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function kn(){return!0}function Qa(){return!1}function De(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?kn:Qa,this.isPropagationStopped=Qa,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kn)},persist:function(){},isPersistent:kn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bs=De(qt),qr=A({},qt,{view:0,detail:0}),vo=De(qr),Rs,ws,Hn,kr=A({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hn&&(Hn&&t.type==="mousemove"?(Rs=t.screenX-Hn.screenX,ws=t.screenY-Hn.screenY):ws=Rs=0,Hn=t),Rs)},movementY:function(t){return"movementY"in t?t.movementY:ws}}),_n=De(kr),Eo=A({},kr,{dataTransfer:0}),Vc=De(Eo),Hr=A({},qr,{relatedTarget:0}),Cs=De(Hr),Ya=A({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ds=De(Ya),To=A({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ns=De(To),Mc=A({},qt,{data:0}),Ka=De(Mc),Gr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ao={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},So={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xa(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=So[t])?!!n[t]:!1}function Fr(){return Xa}var bo=A({},qr,{key:function(t){if(t.key){var n=Gr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ao[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(t){return t.type==="keypress"?qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Is=De(bo),Ro=A({},kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Za=De(Ro),pi=A({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),wo=De(pi),Co=A({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Do=De(Co),No=A({},kr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vs=De(No),$e=A({},qt,{newState:0,oldState:0}),Io=De($e),Vo=[9,13,27,32],Gn=Nn&&"CompositionEvent"in window,u=null;Nn&&"documentMode"in document&&(u=document.documentMode);var m=Nn&&"TextEvent"in window&&!u,p=Nn&&(!Gn||u&&8<u&&11>=u),T=" ",z=!1;function k(t,n){switch(t){case"keyup":return Vo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function Ae(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(z=!0,T);case"textInput":return t=n.data,t===T&&z?null:t;default:return null}}function Mt(t,n){if(Vt)return t==="compositionend"||!Gn&&k(t,n)?(t=Fa(),gi=ki=Pn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ne[t.type]:n==="textarea"}function yi(t,n,r,l){di?mi?mi.push(l):mi=[l]:di=l,n=yu(n,"onChange"),0<n.length&&(r=new bs("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Le=null,Fn=null;function $a(t){Ip(t,0)}function Mo(t){var n=zn(t);if(qa(n))return t}function $d(t,n){if(t==="change")return n}var Jd=!1;if(Nn){var Oc;if(Nn){var xc="oninput"in document;if(!xc){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),xc=typeof Wd.oninput=="function"}Oc=xc}else Oc=!1;Jd=Oc&&(!document.documentMode||9<document.documentMode)}function tm(){Le&&(Le.detachEvent("onpropertychange",em),Fn=Le=null)}function em(t){if(t.propertyName==="value"&&Mo(Fn)){var n=[];yi(n,Fn,t,pn(t)),_o($a,n)}}function I0(t,n,r){t==="focusin"?(tm(),Le=n,Fn=r,Le.attachEvent("onpropertychange",em)):t==="focusout"&&tm()}function V0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mo(Fn)}function M0(t,n){if(t==="click")return Mo(n)}function O0(t,n){if(t==="input"||t==="change")return Mo(n)}function x0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:x0;function Ja(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!br.call(n,c)||!an(t[c],n[c]))return!1}return!0}function nm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function im(t,n){var r=nm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=nm(r)}}function rm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?rm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function sm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ur(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ur(t.document)}return n}function Uc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var U0=Nn&&"documentMode"in document&&11>=document.documentMode,Ms=null,Lc=null,Wa=null,zc=!1;function am(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zc||Ms==null||Ms!==Ur(l)||(l=Ms,"selectionStart"in l&&Uc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wa&&Ja(Wa,l)||(Wa=l,l=yu(Lc,"onSelect"),0<l.length&&(n=new bs("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ms)))}function Qr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Os={animationend:Qr("Animation","AnimationEnd"),animationiteration:Qr("Animation","AnimationIteration"),animationstart:Qr("Animation","AnimationStart"),transitionrun:Qr("Transition","TransitionRun"),transitionstart:Qr("Transition","TransitionStart"),transitioncancel:Qr("Transition","TransitionCancel"),transitionend:Qr("Transition","TransitionEnd")},jc={},lm={};Nn&&(lm=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function Yr(t){if(jc[t])return jc[t];if(!Os[t])return t;var n=Os[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in lm)return jc[t]=n[r];return t}var om=Yr("animationend"),um=Yr("animationiteration"),cm=Yr("animationstart"),L0=Yr("transitionrun"),z0=Yr("transitionstart"),j0=Yr("transitioncancel"),hm=Yr("transitionend"),fm=new Map,Bc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bc.push("scrollEnd");function In(t,n){fm.set(t,n),Dn(n,[t])}var dm=new WeakMap;function vn(t,n){if(typeof t=="object"&&t!==null){var r=dm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ts(n)},dm.set(t,n),n)}return{value:t,source:n,stack:Ts(n)}}var En=[],xs=0,Pc=0;function Oo(){for(var t=xs,n=Pc=xs=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&mm(r,c,f)}}function xo(t,n,r,l){En[xs++]=t,En[xs++]=n,En[xs++]=r,En[xs++]=l,Pc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function qc(t,n,r,l){return xo(t,n,r,l),Uo(t)}function Us(t,n){return xo(t,null,null,n),Uo(t)}function mm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ke(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Uo(t){if(50<bl)throw bl=0,Yh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ls={};function B0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,n,r,l){return new B0(t,n,r,l)}function kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _i(t,n){var r=t.alternate;return r===null?(r=ln(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function gm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Lo(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")kc(t)&&(y=1);else if(typeof t=="string")y=q1(t,r,dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case b:return t=ln(31,r,n,c),t.elementType=b,t.lanes=f,t;case $:return Kr(r.children,c,f,n);case it:y=8,c|=24;break;case J:return t=ln(12,r,n,c|2),t.elementType=J,t.lanes=f,t;case _t:return t=ln(13,r,n,c),t.elementType=_t,t.lanes=f,t;case Dt:return t=ln(19,r,n,c),t.elementType=Dt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mt:case ft:y=10;break t;case ot:y=9;break t;case It:y=11;break t;case x:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=ln(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Kr(t,n,r,l){return t=ln(7,t,l,n),t.lanes=r,t}function Hc(t,n,r){return t=ln(6,t,null,n),t.lanes=r,t}function Gc(t,n,r){return n=ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var zs=[],js=0,zo=null,jo=0,Tn=[],An=0,Xr=null,vi=1,Ei="";function Zr(t,n){zs[js++]=jo,zs[js++]=zo,zo=t,jo=n}function pm(t,n,r){Tn[An++]=vi,Tn[An++]=Ei,Tn[An++]=Xr,Xr=t;var l=vi;t=Ei;var c=32-ke(l)-1;l&=~(1<<c),r+=1;var f=32-ke(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,vi=1<<32-ke(n)+c|r<<c|l,Ei=f+t}else vi=1<<f|r<<c|l,Ei=t}function Fc(t){t.return!==null&&(Zr(t,1),pm(t,1,0))}function Qc(t){for(;t===zo;)zo=zs[--js],zs[js]=null,jo=zs[--js],zs[js]=null;for(;t===Xr;)Xr=Tn[--An],Tn[An]=null,Ei=Tn[--An],Tn[An]=null,vi=Tn[--An],Tn[An]=null}var Je=null,ae=null,Pt=!1,$r=null,Qn=!1,Yc=Error(s(519));function Jr(t){var n=Error(s(418,""));throw nl(vn(n,t)),Yc}function ym(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Te]=t,n[de]=l,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<wl.length;r++)Ct(wl[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Lr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),As(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),zr(n,l.value,l.defaultValue,l.children),As(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||xp(n.textContent,r)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=_u),n=!0):n=!1,n||Jr(t)}function _m(t){for(Je=t.return;Je;)switch(Je.tag){case 5:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Je=Je.return}}function tl(t){if(t!==Je)return!1;if(!Pt)return _m(t),Pt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||cf(t.type,t.memoizedProps)),r=!r),r&&ae&&Jr(t),_m(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ae=Mn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,rr(t.type)?(t=mf,mf=null,ae=t):ae=n):ae=Je?Mn(t.stateNode.nextSibling):null;return!0}function el(){ae=Je=null,Pt=!1}function vm(){var t=$r;return t!==null&&(en===null?en=t:en.push.apply(en,t),$r=null),t}function nl(t){$r===null?$r=[t]:$r.push(t)}var Kc=X(null),Wr=null,Ti=null;function Hi(t,n,r){W(Kc,n._currentValue),n._currentValue=r}function Ai(t){t._currentValue=Kc.current,nt(Kc)}function Xc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Zc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Xc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Xc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function il(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;an(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ce.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}c=c.return}t!==null&&Zc(n,t,r,l),n.flags|=262144}function Bo(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ts(t){Wr=t,Ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return Em(Wr,t)}function Po(t,n){return Wr===null&&ts(t),Em(t,n)}function Em(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ti===null){if(t===null)throw Error(s(308));Ti=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ti=Ti.next=n;return r}var P0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},q0=a.unstable_scheduleCallback,k0=a.unstable_NormalPriority,be={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $c(){return{controller:new P0,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&q0(k0,function(){t.controller.abort()})}var sl=null,Jc=0,Bs=0,Ps=null;function H0(t,n){if(sl===null){var r=sl=[];Jc=0,Bs=tf(),Ps={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Jc++,n.then(Tm,Tm),n}function Tm(){if(--Jc===0&&sl!==null){Ps!==null&&(Ps.status="fulfilled");var t=sl;sl=null,Bs=0,Ps=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function G0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Am=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&H0(t,n),Am!==null&&Am(t,n)};var es=X(null);function Wc(){var t=es.current;return t!==null?t:$t.pooledCache}function qo(t,n){n===null?W(es,es.current):W(es,n.pool)}function Sm(){var t=Wc();return t===null?null:{parent:be._currentValue,pool:t}}var al=Error(s(460)),bm=Error(s(474)),ko=Error(s(542)),th={then:function(){}};function Rm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ho(){}function wm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Ho,Ho),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Dm(t),t;default:if(typeof n.status=="string")n.then(Ho,Ho);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Dm(t),t}throw ll=n,al}}var ll=null;function Cm(){if(ll===null)throw Error(s(459));var t=ll;return ll=null,t}function Dm(t){if(t===al||t===ko)throw Error(s(483))}var Gi=!1;function eh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Uo(t),mm(t,null,r),n}return xo(t,l,n,r),Uo(t)}function ol(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,La(t,r)}}function ih(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var rh=!1;function ul(){if(rh){var t=Ps;if(t!==null)throw t}}function cl(t,n,r,l){rh=!1;var c=t.updateQueue;Gi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,B=R.next;R.next=null,y===null?f=B:y.next=B,y=R;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=B:E.next=B,G.lastBaseUpdate=R))}if(f!==null){var Y=c.baseState;y=0,G=B=R=null,E=f;do{var P=E.lane&-536870913,q=P!==E.lane;if(q?(Ot&P)===P:(l&P)===P){P!==0&&P===Bs&&(rh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=t,gt=E;P=n;var Kt=r;switch(gt.tag){case 1:if(yt=gt.payload,typeof yt=="function"){Y=yt.call(Kt,Y,P);break t}Y=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=gt.payload,P=typeof yt=="function"?yt.call(Kt,Y,P):yt,P==null)break t;Y=A({},Y,P);break t;case 2:Gi=!0}}P=E.callback,P!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[P]:q.push(P))}else q={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(B=G=q,R=Y):G=G.next=q,y|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);G===null&&(R=Y),c.baseState=R,c.firstBaseUpdate=B,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),tr|=y,t.lanes=y,t.memoizedState=Y}}function Nm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Im(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Nm(r[t],n)}var qs=X(null),Go=X(0);function Vm(t,n){t=Ni,W(Go,t),W(qs,n),Ni=t|n.baseLanes}function sh(){W(Go,Ni),W(qs,qs.current)}function ah(){Ni=Go.current,nt(qs),nt(Go)}var Yi=0,St=null,Qt=null,ge=null,Fo=!1,ks=!1,ns=!1,Qo=0,hl=0,Hs=null,F0=0;function ue(){throw Error(s(321))}function lh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!an(t[r],n[r]))return!1;return!0}function oh(t,n,r,l,c,f){return Yi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?mg:gg,ns=!1,f=r(l,c),ns=!1,ks&&(f=Om(n,r,l,c)),Mm(t),f}function Mm(t){H.H=Jo;var n=Qt!==null&&Qt.next!==null;if(Yi=0,ge=Qt=St=null,Fo=!1,hl=0,Hs=null,n)throw Error(s(300));t===null||Ie||(t=t.dependencies,t!==null&&Bo(t)&&(Ie=!0))}function Om(t,n,r,l){St=t;var c=0;do{if(ks&&(Hs=null),hl=0,ks=!1,25<=c)throw Error(s(301));if(c+=1,ge=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=J0,f=n(r,l)}while(ks);return f}function Q0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?fl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(St.flags|=1024),n}function uh(){var t=Qo!==0;return Qo=0,t}function ch(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function hh(t){if(Fo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Fo=!1}Yi=0,ge=Qt=St=null,ks=!1,hl=Qo=0,Hs=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?St.memoizedState=ge=t:ge=ge.next=t,ge}function pe(){if(Qt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=ge===null?St.memoizedState:ge.next;if(n!==null)ge=n,Qt=t;else{if(t===null)throw St.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},ge===null?St.memoizedState=ge=t:ge=ge.next=t}return ge}function fh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var n=hl;return hl+=1,Hs===null&&(Hs=[]),t=wm(Hs,t,n),n=St,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?mg:gg),t}function Yo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===ft)return He(t)}throw Error(s(438,String(t)))}function dh(t){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=fh(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=M;return n.index++,r}function Si(t,n){return typeof n=="function"?n(t):n}function Ko(t){var n=pe();return mh(n,Qt,t)}function mh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,R=null,B=n,G=!1;do{var Y=B.lane&-536870913;if(Y!==B.lane?(Ot&Y)===Y:(Yi&Y)===Y){var P=B.revertLane;if(P===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Y===Bs&&(G=!0);else if((Yi&P)===P){B=B.next,P===Bs&&(G=!0);continue}else Y={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(E=R=Y,y=f):R=R.next=Y,St.lanes|=P,tr|=P;Y=B.action,ns&&r(f,Y),f=B.hasEagerState?B.eagerState:r(f,Y)}else P={lane:Y,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(E=R=P,y=f):R=R.next=P,St.lanes|=Y,tr|=Y;B=B.next}while(B!==null&&B!==n);if(R===null?y=f:R.next=E,!an(f,t.memoizedState)&&(Ie=!0,G&&(r=Ps,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function gh(t){var n=pe(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);an(f,n.memoizedState)||(Ie=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function xm(t,n,r){var l=St,c=pe(),f=Pt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var y=!an((Qt||c).memoizedState,r);y&&(c.memoizedState=r,Ie=!0),c=c.queue;var E=zm.bind(null,l,c,t);if(dl(2048,8,E,[t]),c.getSnapshot!==n||y||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,Gs(9,Xo(),Lm.bind(null,l,c,r,n),null),$t===null)throw Error(s(349));f||(Yi&124)!==0||Um(l,n,r)}return r}function Um(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=fh(),St.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Lm(t,n,r,l){n.value=r,n.getSnapshot=l,jm(n)&&Bm(t)}function zm(t,n,r){return r(function(){jm(n)&&Bm(t)})}function jm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!an(t,r)}catch{return!0}}function Bm(t){var n=Us(t,2);n!==null&&fn(n,t,2)}function ph(t){var n=We();if(typeof t=="function"){var r=t;if(t=r(),ns){rn(!0);try{r()}finally{rn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},n}function Pm(t,n,r,l){return t.baseState=r,mh(t,Qt,typeof l=="function"?l:Si)}function Y0(t,n,r,l,c){if($o(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,qm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function qm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=r(c,l),R=H.S;R!==null&&R(y,E),km(t,n,E)}catch(B){yh(t,n,B)}finally{H.T=f}}else try{f=r(c,l),km(t,n,f)}catch(B){yh(t,n,B)}}function km(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Hm(t,n,l)},function(l){return yh(t,n,l)}):Hm(t,n,r)}function Hm(t,n,r){n.status="fulfilled",n.value=r,Gm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,qm(t,r)))}function yh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Gm(n),n=n.next;while(n!==l)}t.action=null}function Gm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Fm(t,n){return n}function Qm(t,n){if(Pt){var r=$t.formState;if(r!==null){t:{var l=St;if(Pt){if(ae){e:{for(var c=ae,f=Qn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Mn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=Mn(c.nextSibling),l=c.data==="F!";break t}}Jr(l)}l=!1}l&&(n=r[0])}}return r=We(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fm,lastRenderedState:n},r.queue=l,r=hg.bind(null,St,l),l.dispatch=r,l=ph(!1),f=Ah.bind(null,St,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=Y0.bind(null,St,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Ym(t){var n=pe();return Km(n,Qt,t)}function Km(t,n,r){if(n=mh(t,n,Fm)[0],t=Ko(Si)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=fl(n)}catch(y){throw y===al?ko:y}else l=n;n=pe();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(St.flags|=2048,Gs(9,Xo(),K0.bind(null,c,r),null)),[l,f,t]}function K0(t,n){t.action=n}function Xm(t){var n=pe(),r=Qt;if(r!==null)return Km(n,r,t);pe(),n=n.memoizedState,r=pe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Gs(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=fh(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Xo(){return{destroy:void 0,resource:void 0}}function Zm(){return pe().memoizedState}function Zo(t,n,r,l){var c=We();l=l===void 0?null:l,St.flags|=t,c.memoizedState=Gs(1|n,Xo(),r,l)}function dl(t,n,r,l){var c=pe();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&lh(l,Qt.memoizedState.deps)?c.memoizedState=Gs(n,f,r,l):(St.flags|=t,c.memoizedState=Gs(1|n,f,r,l))}function $m(t,n){Zo(8390656,8,t,n)}function Jm(t,n){dl(2048,8,t,n)}function Wm(t,n){return dl(4,2,t,n)}function tg(t,n){return dl(4,4,t,n)}function eg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ng(t,n,r){r=r!=null?r.concat([t]):null,dl(4,4,eg.bind(null,n,t),r)}function _h(){}function ig(t,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&lh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function rg(t,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&lh(n,l[1]))return l[0];if(l=t(),ns){rn(!0);try{t()}finally{rn(!1)}}return r.memoizedState=[l,n],l}function vh(t,n,r){return r===void 0||(Yi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=lp(),St.lanes|=t,tr|=t,r)}function sg(t,n,r,l){return an(r,n)?r:qs.current!==null?(t=vh(t,r,l),an(t,n)||(Ie=!0),t):(Yi&42)===0?(Ie=!0,t.memoizedState=r):(t=lp(),St.lanes|=t,tr|=t,n)}function ag(t,n,r,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,Ah(t,!1,n,r);try{var R=c(),B=H.S;if(B!==null&&B(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=G0(R,l);ml(t,n,G,hn(t))}else ml(t,n,l,hn(t))}catch(Y){ml(t,n,{then:function(){},status:"rejected",reason:Y},hn())}finally{et.p=f,H.T=y}}function X0(){}function Eh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=lg(t).queue;ag(t,c,n,ct,r===null?X0:function(){return og(t),r(l)})}function lg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:ct},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function og(t){var n=lg(t).next.queue;ml(t,n,{},hn())}function Th(){return He(Ml)}function ug(){return pe().memoizedState}function cg(){return pe().memoizedState}function Z0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();t=Fi(r);var l=Qi(n,t,r);l!==null&&(fn(l,n,r),ol(l,n,r)),n={cache:$c()},t.payload=n;return}n=n.return}}function $0(t,n,r){var l=hn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},$o(t)?fg(n,r):(r=qc(t,n,r,l),r!==null&&(fn(r,t,l),dg(r,n,l)))}function hg(t,n,r){var l=hn();ml(t,n,r,l)}function ml(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if($o(t))fg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,an(E,y))return xo(t,n,c,0),$t===null&&Oo(),!1}catch{}finally{}if(r=qc(t,n,c,l),r!==null)return fn(r,t,l),dg(r,n,l),!0}return!1}function Ah(t,n,r,l){if(l={lane:2,revertLane:tf(),action:l,hasEagerState:!1,eagerState:null,next:null},$o(t)){if(n)throw Error(s(479))}else n=qc(t,r,l,2),n!==null&&fn(n,t,2)}function $o(t){var n=t.alternate;return t===St||n!==null&&n===St}function fg(t,n){ks=Fo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function dg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,La(t,r)}}var Jo={readContext:He,use:Yo,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},mg={readContext:He,use:Yo,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:$m,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Zo(4194308,4,eg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Zo(4194308,4,t,n)},useInsertionEffect:function(t,n){Zo(4,2,t,n)},useMemo:function(t,n){var r=We();n=n===void 0?null:n;var l=t();if(ns){rn(!0);try{t()}finally{rn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=We();if(r!==void 0){var c=r(n);if(ns){rn(!0);try{r(n)}finally{rn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=$0.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=ph(t);var n=t.queue,r=hg.bind(null,St,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:_h,useDeferredValue:function(t,n){var r=We();return vh(r,t,n)},useTransition:function(){var t=ph(!1);return t=ag.bind(null,St,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=St,c=We();if(Pt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),$t===null)throw Error(s(349));(Ot&124)!==0||Um(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,$m(zm.bind(null,l,f,t),[t]),l.flags|=2048,Gs(9,Xo(),Lm.bind(null,l,f,r,n),null),r},useId:function(){var t=We(),n=$t.identifierPrefix;if(Pt){var r=Ei,l=vi;r=(l&~(1<<32-ke(l)-1)).toString(32)+r,n=""+n+"R"+r,r=Qo++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=F0++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Th,useFormState:Qm,useActionState:Qm,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Ah.bind(null,St,!0,r),r.dispatch=n,[t,n]},useMemoCache:dh,useCacheRefresh:function(){return We().memoizedState=Z0.bind(null,St)}},gg={readContext:He,use:Yo,useCallback:ig,useContext:He,useEffect:Jm,useImperativeHandle:ng,useInsertionEffect:Wm,useLayoutEffect:tg,useMemo:rg,useReducer:Ko,useRef:Zm,useState:function(){return Ko(Si)},useDebugValue:_h,useDeferredValue:function(t,n){var r=pe();return sg(r,Qt.memoizedState,t,n)},useTransition:function(){var t=Ko(Si)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:xm,useId:ug,useHostTransitionStatus:Th,useFormState:Ym,useActionState:Ym,useOptimistic:function(t,n){var r=pe();return Pm(r,Qt,t,n)},useMemoCache:dh,useCacheRefresh:cg},J0={readContext:He,use:Yo,useCallback:ig,useContext:He,useEffect:Jm,useImperativeHandle:ng,useInsertionEffect:Wm,useLayoutEffect:tg,useMemo:rg,useReducer:gh,useRef:Zm,useState:function(){return gh(Si)},useDebugValue:_h,useDeferredValue:function(t,n){var r=pe();return Qt===null?vh(r,t,n):sg(r,Qt.memoizedState,t,n)},useTransition:function(){var t=gh(Si)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:xm,useId:ug,useHostTransitionStatus:Th,useFormState:Xm,useActionState:Xm,useOptimistic:function(t,n){var r=pe();return Qt!==null?Pm(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:dh,useCacheRefresh:cg},Fs=null,gl=0;function Wo(t){var n=gl;return gl+=1,Fs===null&&(Fs=[]),wm(Fs,t,n)}function pl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function tu(t,n){throw n.$$typeof===C?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function pg(t){var n=t._init;return n(t._payload)}function yg(t){function n(U,V){if(t){var j=U.deletions;j===null?(U.deletions=[V],U.flags|=16):j.push(V)}}function r(U,V){if(!t)return null;for(;V!==null;)n(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function c(U,V){return U=_i(U,V),U.index=0,U.sibling=null,U}function f(U,V,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<V?(U.flags|=67108866,V):j):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,V,j,Q){return V===null||V.tag!==6?(V=Hc(j,U.mode,Q),V.return=U,V):(V=c(V,j),V.return=U,V)}function R(U,V,j,Q){var lt=j.type;return lt===$?G(U,V,j.props.children,Q,j.key):V!==null&&(V.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&pg(lt)===V.type)?(V=c(V,j.props),pl(V,j),V.return=U,V):(V=Lo(j.type,j.key,j.props,null,U.mode,Q),pl(V,j),V.return=U,V)}function B(U,V,j,Q){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=Gc(j,U.mode,Q),V.return=U,V):(V=c(V,j.children||[]),V.return=U,V)}function G(U,V,j,Q,lt){return V===null||V.tag!==7?(V=Kr(j,U.mode,Q,lt),V.return=U,V):(V=c(V,j),V.return=U,V)}function Y(U,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Hc(""+V,U.mode,j),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case D:return j=Lo(V.type,V.key,V.props,null,U.mode,j),pl(j,V),j.return=U,j;case F:return V=Gc(V,U.mode,j),V.return=U,V;case S:var Q=V._init;return V=Q(V._payload),Y(U,V,j)}if(re(V)||L(V))return V=Kr(V,U.mode,j,null),V.return=U,V;if(typeof V.then=="function")return Y(U,Wo(V),j);if(V.$$typeof===ft)return Y(U,Po(U,V),j);tu(U,V)}return null}function P(U,V,j,Q){var lt=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return lt!==null?null:E(U,V,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case D:return j.key===lt?R(U,V,j,Q):null;case F:return j.key===lt?B(U,V,j,Q):null;case S:return lt=j._init,j=lt(j._payload),P(U,V,j,Q)}if(re(j)||L(j))return lt!==null?null:G(U,V,j,Q,null);if(typeof j.then=="function")return P(U,V,Wo(j),Q);if(j.$$typeof===ft)return P(U,V,Po(U,j),Q);tu(U,j)}return null}function q(U,V,j,Q,lt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(j)||null,E(V,U,""+Q,lt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:return U=U.get(Q.key===null?j:Q.key)||null,R(V,U,Q,lt);case F:return U=U.get(Q.key===null?j:Q.key)||null,B(V,U,Q,lt);case S:var Rt=Q._init;return Q=Rt(Q._payload),q(U,V,j,Q,lt)}if(re(Q)||L(Q))return U=U.get(j)||null,G(V,U,Q,lt,null);if(typeof Q.then=="function")return q(U,V,j,Wo(Q),lt);if(Q.$$typeof===ft)return q(U,V,j,Po(V,Q),lt);tu(V,Q)}return null}function yt(U,V,j,Q){for(var lt=null,Rt=null,ut=V,pt=V=0,Me=null;ut!==null&&pt<j.length;pt++){ut.index>pt?(Me=ut,ut=null):Me=ut.sibling;var jt=P(U,ut,j[pt],Q);if(jt===null){ut===null&&(ut=Me);break}t&&ut&&jt.alternate===null&&n(U,ut),V=f(jt,V,pt),Rt===null?lt=jt:Rt.sibling=jt,Rt=jt,ut=Me}if(pt===j.length)return r(U,ut),Pt&&Zr(U,pt),lt;if(ut===null){for(;pt<j.length;pt++)ut=Y(U,j[pt],Q),ut!==null&&(V=f(ut,V,pt),Rt===null?lt=ut:Rt.sibling=ut,Rt=ut);return Pt&&Zr(U,pt),lt}for(ut=l(ut);pt<j.length;pt++)Me=q(ut,U,pt,j[pt],Q),Me!==null&&(t&&Me.alternate!==null&&ut.delete(Me.key===null?pt:Me.key),V=f(Me,V,pt),Rt===null?lt=Me:Rt.sibling=Me,Rt=Me);return t&&ut.forEach(function(ur){return n(U,ur)}),Pt&&Zr(U,pt),lt}function gt(U,V,j,Q){if(j==null)throw Error(s(151));for(var lt=null,Rt=null,ut=V,pt=V=0,Me=null,jt=j.next();ut!==null&&!jt.done;pt++,jt=j.next()){ut.index>pt?(Me=ut,ut=null):Me=ut.sibling;var ur=P(U,ut,jt.value,Q);if(ur===null){ut===null&&(ut=Me);break}t&&ut&&ur.alternate===null&&n(U,ut),V=f(ur,V,pt),Rt===null?lt=ur:Rt.sibling=ur,Rt=ur,ut=Me}if(jt.done)return r(U,ut),Pt&&Zr(U,pt),lt;if(ut===null){for(;!jt.done;pt++,jt=j.next())jt=Y(U,jt.value,Q),jt!==null&&(V=f(jt,V,pt),Rt===null?lt=jt:Rt.sibling=jt,Rt=jt);return Pt&&Zr(U,pt),lt}for(ut=l(ut);!jt.done;pt++,jt=j.next())jt=q(ut,U,pt,jt.value,Q),jt!==null&&(t&&jt.alternate!==null&&ut.delete(jt.key===null?pt:jt.key),V=f(jt,V,pt),Rt===null?lt=jt:Rt.sibling=jt,Rt=jt);return t&&ut.forEach(function(W1){return n(U,W1)}),Pt&&Zr(U,pt),lt}function Kt(U,V,j,Q){if(typeof j=="object"&&j!==null&&j.type===$&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case D:t:{for(var lt=j.key;V!==null;){if(V.key===lt){if(lt=j.type,lt===$){if(V.tag===7){r(U,V.sibling),Q=c(V,j.props.children),Q.return=U,U=Q;break t}}else if(V.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&pg(lt)===V.type){r(U,V.sibling),Q=c(V,j.props),pl(Q,j),Q.return=U,U=Q;break t}r(U,V);break}else n(U,V);V=V.sibling}j.type===$?(Q=Kr(j.props.children,U.mode,Q,j.key),Q.return=U,U=Q):(Q=Lo(j.type,j.key,j.props,null,U.mode,Q),pl(Q,j),Q.return=U,U=Q)}return y(U);case F:t:{for(lt=j.key;V!==null;){if(V.key===lt)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){r(U,V.sibling),Q=c(V,j.children||[]),Q.return=U,U=Q;break t}else{r(U,V);break}else n(U,V);V=V.sibling}Q=Gc(j,U.mode,Q),Q.return=U,U=Q}return y(U);case S:return lt=j._init,j=lt(j._payload),Kt(U,V,j,Q)}if(re(j))return yt(U,V,j,Q);if(L(j)){if(lt=L(j),typeof lt!="function")throw Error(s(150));return j=lt.call(j),gt(U,V,j,Q)}if(typeof j.then=="function")return Kt(U,V,Wo(j),Q);if(j.$$typeof===ft)return Kt(U,V,Po(U,j),Q);tu(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(r(U,V.sibling),Q=c(V,j),Q.return=U,U=Q):(r(U,V),Q=Hc(j,U.mode,Q),Q.return=U,U=Q),y(U)):r(U,V)}return function(U,V,j,Q){try{gl=0;var lt=Kt(U,V,j,Q);return Fs=null,lt}catch(ut){if(ut===al||ut===ko)throw ut;var Rt=ln(29,ut,null,U.mode);return Rt.lanes=Q,Rt.return=U,Rt}finally{}}}var Qs=yg(!0),_g=yg(!1),Sn=X(null),Yn=null;function Ki(t){var n=t.alternate;W(Re,Re.current&1),W(Sn,t),Yn===null&&(n===null||qs.current!==null||n.memoizedState!==null)&&(Yn=t)}function vg(t){if(t.tag===22){if(W(Re,Re.current),W(Sn,t),Yn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Yn=t)}}else Xi()}function Xi(){W(Re,Re.current),W(Sn,Sn.current)}function bi(t){nt(Sn),Yn===t&&(Yn=null),nt(Re)}var Re=X(0);function eu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||df(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Sh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var bh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=hn(),c=Fi(l);c.payload=n,r!=null&&(c.callback=r),n=Qi(t,c,l),n!==null&&(fn(n,t,l),ol(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=hn(),c=Fi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Qi(t,c,l),n!==null&&(fn(n,t,l),ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=hn(),l=Fi(r);l.tag=2,n!=null&&(l.callback=n),n=Qi(t,l,r),n!==null&&(fn(n,t,r),ol(n,t,r))}};function Eg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ja(r,l)||!Ja(c,f):!0}function Tg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&bh.enqueueReplaceState(n,n.state,null)}function is(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var nu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ag(t){nu(t)}function Sg(t){console.error(t)}function bg(t){nu(t)}function iu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Rg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Rh(t,n,r){return r=Fi(r),r.tag=3,r.payload={element:null},r.callback=function(){iu(t,n)},r}function wg(t){return t=Fi(t),t.tag=3,t}function Cg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Rg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Rg(n,r,l),typeof c!="function"&&(er===null?er=new Set([this]):er.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function W0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&il(n,r,c,!0),r=Sn.current,r!==null){switch(r.tag){case 13:return Yn===null?Xh():r.alternate===null&&le===0&&(le=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===th?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),$h(t,l,c)),!1;case 22:return r.flags|=65536,l===th?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),$h(t,l,c)),!1}throw Error(s(435,r.tag))}return $h(t,l,c),Xh(),!1}if(Pt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Yc&&(t=Error(s(422),{cause:l}),nl(vn(t,r)))):(l!==Yc&&(n=Error(s(423),{cause:l}),nl(vn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=vn(l,r),c=Rh(t.stateNode,l,c),ih(t,c),le!==4&&(le=2)),!1;var f=Error(s(520),{cause:l});if(f=vn(f,r),Sl===null?Sl=[f]:Sl.push(f),le!==4&&(le=2),n===null)return!0;l=vn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Rh(r.stateNode,l,t),ih(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(er===null||!er.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=wg(c),Cg(c,t,r,l),ih(r,c),!1}r=r.return}while(r!==null);return!1}var Dg=Error(s(461)),Ie=!1;function ze(t,n,r,l){n.child=t===null?_g(n,null,r,l):Qs(n,t.child,r,l)}function Ng(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ts(n),l=oh(t,n,r,y,f,c),E=uh(),t!==null&&!Ie?(ch(t,n,c),Ri(t,n,c)):(Pt&&E&&Fc(n),n.flags|=1,ze(t,n,l,c),n.child)}function Ig(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!kc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Vg(t,n,f,l,c)):(t=Lo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Oh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ja,r(y,l)&&t.ref===n.ref)return Ri(t,n,c)}return n.flags|=1,t=_i(f,l),t.ref=n.ref,t.return=n,n.child=t}function Vg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Ja(f,l)&&t.ref===n.ref)if(Ie=!1,n.pendingProps=l=f,Oh(t,c))(t.flags&131072)!==0&&(Ie=!0);else return n.lanes=t.lanes,Ri(t,n,c)}return wh(t,n,r,l,c)}function Mg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Og(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&qo(n,f!==null?f.cachePool:null),f!==null?Vm(n,f):sh(),vg(n);else return n.lanes=n.childLanes=536870912,Og(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(qo(n,f.cachePool),Vm(n,f),Xi(),n.memoizedState=null):(t!==null&&qo(n,null),sh(),Xi());return ze(t,n,c,r),n.child}function Og(t,n,r,l){var c=Wc();return c=c===null?null:{parent:be._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&qo(n,null),sh(),vg(n),t!==null&&il(t,n,l,!0),null}function ru(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function wh(t,n,r,l,c){return ts(n),r=oh(t,n,r,l,void 0,c),l=uh(),t!==null&&!Ie?(ch(t,n,c),Ri(t,n,c)):(Pt&&l&&Fc(n),n.flags|=1,ze(t,n,r,c),n.child)}function xg(t,n,r,l,c,f){return ts(n),n.updateQueue=null,r=Om(n,l,r,c),Mm(t),l=uh(),t!==null&&!Ie?(ch(t,n,f),Ri(t,n,f)):(Pt&&l&&Fc(n),n.flags|=1,ze(t,n,r,f),n.child)}function Ug(t,n,r,l,c){if(ts(n),n.stateNode===null){var f=Ls,y=r.contextType;typeof y=="object"&&y!==null&&(f=He(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=bh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},eh(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?He(y):Ls,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Sh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&bh.enqueueReplaceState(f,f.state,null),cl(n,l,f,c),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=is(r,E);f.props=R;var B=f.context,G=r.contextType;y=Ls,typeof G=="object"&&G!==null&&(y=He(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==y)&&Tg(n,f,l,y),Gi=!1;var P=n.memoizedState;f.state=P,cl(n,l,f,c),ul(),B=n.memoizedState,E||P!==B||Gi?(typeof Y=="function"&&(Sh(n,r,Y,l),B=n.memoizedState),(R=Gi||Eg(n,r,R,l,P,B,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=y,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,nh(t,n),y=n.memoizedProps,G=is(r,y),f.props=G,Y=n.pendingProps,P=f.context,B=r.contextType,R=Ls,typeof B=="object"&&B!==null&&(R=He(B)),E=r.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||P!==R)&&Tg(n,f,l,R),Gi=!1,P=n.memoizedState,f.state=P,cl(n,l,f,c),ul();var q=n.memoizedState;y!==Y||P!==q||Gi||t!==null&&t.dependencies!==null&&Bo(t.dependencies)?(typeof E=="function"&&(Sh(n,r,E,l),q=n.memoizedState),(G=Gi||Eg(n,r,G,l,P,q,R)||t!==null&&t.dependencies!==null&&Bo(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ru(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Qs(n,t.child,null,c),n.child=Qs(n,null,r,c)):ze(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ri(t,n,c),t}function Lg(t,n,r,l){return el(),n.flags|=256,ze(t,n,r,l),n.child}var Ch={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dh(t){return{baseLanes:t,cachePool:Sm()}}function Nh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=bn),t}function zg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Re.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?Ki(n):Xi(),Pt){var E=ae,R;if(R=E){t:{for(R=E,E=Qn;R.nodeType!==8;){if(!E){E=null;break t}if(R=Mn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:Xr!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},R=ln(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,Je=n,ae=null,R=!0):R=!1}R||Jr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return df(E)?n.lanes=32:n.lanes=536870912,null;bi(n)}return E=l.children,l=l.fallback,c?(Xi(),c=n.mode,E=su({mode:"hidden",children:E},c),l=Kr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Dh(r),c.childLanes=Nh(t,y,r),n.memoizedState=Ch,l):(Ki(n),Ih(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Ki(n),n.flags&=-257,n=Vh(t,n,r)):n.memoizedState!==null?(Xi(),n.child=t.child,n.flags|=128,n=null):(Xi(),c=l.fallback,E=n.mode,l=su({mode:"visible",children:l.children},E),c=Kr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Qs(n,t.child,null,r),l=n.child,l.memoizedState=Dh(r),l.childLanes=Nh(t,y,r),n.memoizedState=Ch,n=c);else if(Ki(n),df(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var B=y.dgst;y=B,l=Error(s(419)),l.stack="",l.digest=y,nl({value:l,source:null,stack:null}),n=Vh(t,n,r)}else if(Ie||il(t,n,r,!1),y=(r&t.childLanes)!==0,Ie||y){if(y=$t,y!==null&&(l=r&-r,l=(l&42)!==0?1:Li(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Us(t,l),fn(y,t,l),Dg;E.data==="$?"||Xh(),n=Vh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,ae=Mn(E.nextSibling),Je=n,Pt=!0,$r=null,Qn=!1,t!==null&&(Tn[An++]=vi,Tn[An++]=Ei,Tn[An++]=Xr,vi=t.id,Ei=t.overflow,Xr=n),n=Ih(n,l.children),n.flags|=4096);return n}return c?(Xi(),c=l.fallback,E=n.mode,R=t.child,B=R.sibling,l=_i(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,B!==null?c=_i(B,c):(c=Kr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Dh(r):(R=E.cachePool,R!==null?(B=be._currentValue,R=R.parent!==B?{parent:B,pool:B}:R):R=Sm(),E={baseLanes:E.baseLanes|r,cachePool:R}),c.memoizedState=E,c.childLanes=Nh(t,y,r),n.memoizedState=Ch,l):(Ki(n),r=t.child,t=r.sibling,r=_i(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Ih(t,n){return n=su({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function su(t,n){return t=ln(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Vh(t,n,r){return Qs(n,t.child,null,r),t=Ih(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function jg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Xc(t.return,n,r)}function Mh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Bg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(ze(t,n,l.children,r),l=Re.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jg(t,r,n);else if(t.tag===19)jg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(Re,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&eu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Mh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&eu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Mh(n,!0,r,null,f);break;case"together":Mh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ri(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),tr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(il(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=_i(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=_i(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Oh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Bo(t)))}function t1(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Hi(n,be,t.memoizedState.cache),el();break;case 27:case 5:Ui(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Hi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ki(n),n.flags|=128,null):(r&n.child.childLanes)!==0?zg(t,n,r):(Ki(n),t=Ri(t,n,r),t!==null?t.sibling:null);Ki(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(il(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Bg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(Re,Re.current),l)break;return null;case 22:case 23:return n.lanes=0,Mg(t,n,r);case 24:Hi(n,be,t.memoizedState.cache)}return Ri(t,n,r)}function Pg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ie=!0;else{if(!Oh(t,r)&&(n.flags&128)===0)return Ie=!1,t1(t,n,r);Ie=(t.flags&131072)!==0}else Ie=!1,Pt&&(n.flags&1048576)!==0&&pm(n,jo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")kc(l)?(t=is(l,t),n.tag=1,n=Ug(null,n,l,t,r)):(n.tag=0,n=wh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===It){n.tag=11,n=Ng(null,n,l,t,r);break t}else if(c===x){n.tag=14,n=Ig(null,n,l,t,r);break t}}throw n=xe(l)||l,Error(s(306,n,""))}}return n;case 0:return wh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=is(l,n.pendingProps),Ug(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,nh(t,n),cl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Hi(n,be,l),l!==f.cache&&Zc(n,[be],r,!0),ul(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Lg(t,n,l,r);break t}else if(l!==c){c=vn(Error(s(424)),n),nl(c),n=Lg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=Mn(t.firstChild),Je=n,Pt=!0,$r=null,Qn=!0,r=_g(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(el(),l===c){n=Ri(t,n,r);break t}ze(t,n,l,r)}n=n.child}return n;case 26:return ru(t,n),t===null?(r=Gp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,t=n.pendingProps,l=vu(vt.current).createElement(r),l[Te]=n,l[de]=t,Be(l,r,t),oe(l),n.stateNode=l):n.memoizedState=Gp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ui(n),t===null&&Pt&&(l=n.stateNode=qp(n.type,n.pendingProps,vt.current),Je=n,Qn=!0,c=ae,rr(n.type)?(mf=c,ae=Mn(l.firstChild)):ae=c),ze(t,n,n.pendingProps.children,r),ru(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((c=l=ae)&&(l=D1(l,n.type,n.pendingProps,Qn),l!==null?(n.stateNode=l,Je=n,ae=Mn(l.firstChild),Qn=!1,c=!0):c=!1),c||Jr(n)),Ui(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,cf(c,f)?l=null:y!==null&&cf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=oh(t,n,Q0,null,null,r),Ml._currentValue=c),ru(t,n),ze(t,n,l,r),n.child;case 6:return t===null&&Pt&&((t=r=ae)&&(r=N1(r,n.pendingProps,Qn),r!==null?(n.stateNode=r,Je=n,ae=null,t=!0):t=!1),t||Jr(n)),null;case 13:return zg(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Qs(n,null,l,r):ze(t,n,l,r),n.child;case 11:return Ng(t,n,n.type,n.pendingProps,r);case 7:return ze(t,n,n.pendingProps,r),n.child;case 8:return ze(t,n,n.pendingProps.children,r),n.child;case 12:return ze(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Hi(n,n.type,l.value),ze(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ts(n),c=He(c),l=l(c),n.flags|=1,ze(t,n,l,r),n.child;case 14:return Ig(t,n,n.type,n.pendingProps,r);case 15:return Vg(t,n,n.type,n.pendingProps,r);case 19:return Bg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=su(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=_i(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Mg(t,n,r);case 24:return ts(n),l=He(be),t===null?(c=Wc(),c===null&&(c=$t,f=$c(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},eh(n),Hi(n,be,c)):((t.lanes&r)!==0&&(nh(t,n),cl(n,null,null,r),ul()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Hi(n,be,l)):(l=f.cache,Hi(n,be,l),l!==c.cache&&Zc(n,[be],r,!0))),ze(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function wi(t){t.flags|=4}function qg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xp(n)){if(n=Sn.current,n!==null&&((Ot&4194048)===Ot?Yn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==Yn))throw ll=th,bm;t.flags|=8192}}function au(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?xa():536870912,t.lanes|=n,Zs|=n)}function yl(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function e1(t,n,r){var l=n.pendingProps;switch(Qc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ai(be),xn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tl(n)?wi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,vm())),ne(n),null;case 26:return r=n.memoizedState,t===null?(wi(n),r!==null?(ne(n),qg(n,r)):(ne(n),n.flags&=-16777217)):r?r!==t.memoizedState?(wi(n),ne(n),qg(n,r)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&wi(n),ne(n),n.flags&=-16777217),null;case 27:si(n),r=vt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}t=dt.current,tl(n)?ym(n):(t=qp(c,l,r),n.stateNode=t,wi(n))}return ne(n),null;case 5:if(si(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(t=dt.current,tl(n))ym(n);else{switch(c=vu(vt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Te]=n,t[de]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Be(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&wi(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=vt.current,tl(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Je,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Te]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||xp(t.nodeValue,r)),t||Jr(n)}else t=vu(t).createTextNode(l),t[Te]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=tl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Te]=n}else el(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=vm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(bi(n),n):(bi(n),null)}if(bi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),au(n,n.updateQueue),ne(n),null;case 4:return xn(),t===null&&sf(n.stateNode.containerInfo),ne(n),null;case 10:return Ai(n.type),ne(n),null;case 19:if(nt(Re),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)yl(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=eu(t),f!==null){for(n.flags|=128,yl(c,!1),t=f.updateQueue,n.updateQueue=t,au(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)gm(r,t),r=r.sibling;return W(Re,Re.current&1|2),n.child}t=t.sibling}c.tail!==null&&dn()>uu&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304)}else{if(!l)if(t=eu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,au(n,t),yl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return ne(n),null}else 2*dn()-c.renderingStartTime>uu&&r!==536870912&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=dn(),n.sibling=null,t=Re.current,W(Re,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return bi(n),ah(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&au(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&nt(es),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ai(be),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function n1(t,n){switch(Qc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ai(be),xn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return si(n),null;case 13:if(bi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));el()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Re),null;case 4:return xn(),null;case 10:return Ai(n.type),null;case 22:case 23:return bi(n),ah(),t!==null&&nt(es),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ai(be),null;case 25:return null;default:return null}}function kg(t,n){switch(Qc(n),n.tag){case 3:Ai(be),xn();break;case 26:case 27:case 5:si(n);break;case 4:xn();break;case 13:bi(n);break;case 19:nt(Re);break;case 10:Ai(n.type);break;case 22:case 23:bi(n),ah(),t!==null&&nt(es);break;case 24:Ai(be)}}function _l(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Xt(n,n.return,E)}}function Zi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var R=r,B=E;try{B()}catch(G){Xt(c,R,G)}}}l=l.next}while(l!==f)}}catch(G){Xt(n,n.return,G)}}function Hg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Im(n,r)}catch(l){Xt(t,t.return,l)}}}function Gg(t,n,r){r.props=is(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xt(t,n,l)}}function vl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Xt(t,n,c)}}function Kn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Xt(t,n,c)}else r.current=null}function Fg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Xt(t,t.return,c)}}function xh(t,n,r){try{var l=t.stateNode;S1(l,t.type,r,n),l[de]=n}catch(c){Xt(t,t.return,c)}}function Qg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&rr(t.type)||t.tag===4}function Uh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Qg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&rr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=_u));else if(l!==4&&(l===27&&rr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Lh(t,n,r),t=t.sibling;t!==null;)Lh(t,n,r),t=t.sibling}function lu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&rr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(lu(t,n,r),t=t.sibling;t!==null;)lu(t,n,r),t=t.sibling}function Yg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Be(n,l,r),n[Te]=t,n[de]=r}catch(f){Xt(t,t.return,f)}}var Ci=!1,ce=!1,zh=!1,Kg=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function i1(t,n){if(t=t.containerInfo,of=Ru,t=sm(t),Uc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,R=-1,B=0,G=0,Y=t,P=null;e:for(;;){for(var q;Y!==r||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(R=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(q=Y.firstChild)!==null;)P=Y,Y=q;for(;;){if(Y===t)break e;if(P===r&&++B===c&&(E=y),P===f&&++G===l&&(R=y),(q=Y.nextSibling)!==null)break;Y=P,P=Y.parentNode}Y=q}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(uf={focusedElem:t,selectionRange:r},Ru=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var yt=is(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(yt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Xt(r,r.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)ff(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ff(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}}function Xg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:$i(t,r),l&4&&_l(5,r);break;case 1:if($i(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(r,r.return,y)}else{var c=is(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(r,r.return,y)}}l&64&&Hg(r),l&512&&vl(r,r.return);break;case 3:if($i(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Im(t,n)}catch(y){Xt(r,r.return,y)}}break;case 27:n===null&&l&4&&Yg(r);case 26:case 5:$i(t,r),n===null&&l&4&&Fg(r),l&512&&vl(r,r.return);break;case 12:$i(t,r);break;case 13:$i(t,r),l&4&&Jg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=f1.bind(null,r),I1(t,r))));break;case 22:if(l=r.memoizedState!==null||Ci,!l){n=n!==null&&n.memoizedState!==null||ce,c=Ci;var f=ce;Ci=l,(ce=n)&&!f?Ji(t,r,(r.subtreeFlags&8772)!==0):$i(t,r),Ci=c,ce=f}break;case 30:break;default:$i(t,r)}}function Zg(t){var n=t.alternate;n!==null&&(t.alternate=null,Zg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Bi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,tn=!1;function Di(t,n,r){for(r=r.child;r!==null;)$g(t,n,r),r=r.sibling}function $g(t,n,r){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(se,r)}catch{}switch(r.tag){case 26:ce||Kn(r,n),Di(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ce||Kn(r,n);var l=te,c=tn;rr(r.type)&&(te=r.stateNode,tn=!1),Di(t,n,r),Dl(r.stateNode),te=l,tn=c;break;case 5:ce||Kn(r,n);case 6:if(l=te,c=tn,te=null,Di(t,n,r),te=l,tn=c,te!==null)if(tn)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{te.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:te!==null&&(tn?(t=te,Bp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ll(t)):Bp(te,r.stateNode));break;case 4:l=te,c=tn,te=r.stateNode.containerInfo,tn=!0,Di(t,n,r),te=l,tn=c;break;case 0:case 11:case 14:case 15:ce||Zi(2,r,n),ce||Zi(4,r,n),Di(t,n,r);break;case 1:ce||(Kn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Gg(r,n,l)),Di(t,n,r);break;case 21:Di(t,n,r);break;case 22:ce=(l=ce)||r.memoizedState!==null,Di(t,n,r),ce=l;break;default:Di(t,n,r)}}function Jg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ll(t)}catch(r){Xt(n,n.return,r)}}function r1(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Kg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Kg),n;default:throw Error(s(435,t.tag))}}function jh(t,n){var r=r1(t);n.forEach(function(l){var c=d1.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function on(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(rr(E.type)){te=E.stateNode,tn=!1;break t}break;case 5:te=E.stateNode,tn=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(te===null)throw Error(s(160));$g(f,y,c),te=null,tn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Wg(n,t),n=n.sibling}var Vn=null;function Wg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),un(t),l&4&&(Zi(3,t,t.return),_l(3,t),Zi(5,t,t.return));break;case 1:on(n,t),un(t),l&512&&(ce||r===null||Kn(r,r.return)),l&64&&Ci&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Vn;if(on(n,t),un(t),l&512&&(ce||r===null||Kn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Mr]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Be(f,l,r),f[Te]=t,oe(f),l=f;break t;case"link":var y=Yp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Be(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Yp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Be(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[Te]=t,oe(f),l=f}t.stateNode=l}else Kp(c,t.type,t.stateNode);else t.stateNode=Qp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Kp(c,t.type,t.stateNode):Qp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&xh(t,t.memoizedProps,r.memoizedProps)}break;case 27:on(n,t),un(t),l&512&&(ce||r===null||Kn(r,r.return)),r!==null&&l&4&&xh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(on(n,t),un(t),l&512&&(ce||r===null||Kn(r,r.return)),t.flags&32){c=t.stateNode;try{gn(c,"")}catch(q){Xt(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,xh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(zh=!0);break;case 6:if(on(n,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(q){Xt(t,t.return,q)}}break;case 3:if(Au=null,c=Vn,Vn=Eu(n.containerInfo),on(n,t),Vn=c,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ll(n.containerInfo)}catch(q){Xt(t,t.return,q)}zh&&(zh=!1,tp(t));break;case 4:l=Vn,Vn=Eu(t.stateNode.containerInfo),on(n,t),un(t),Vn=l;break;case 12:on(n,t),un(t);break;case 13:on(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Gh=dn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jh(t,l)));break;case 22:c=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,B=Ci,G=ce;if(Ci=B||c,ce=G||R,on(n,t),ce=G,Ci=B,un(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||R||Ci||ce||rs(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,P=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(q){Xt(R,R.return,q)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(q){Xt(R,R.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,jh(t,r))));break;case 19:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jh(t,l)));break;case 30:break;case 21:break;default:on(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Qg(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=Uh(t);lu(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(gn(y,""),r.flags&=-33);var E=Uh(t);lu(t,E,y);break;case 3:case 4:var R=r.stateNode.containerInfo,B=Uh(t);Lh(t,B,R);break;default:throw Error(s(161))}}catch(G){Xt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function tp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;tp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function $i(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Xg(t,n.alternate,n),n=n.sibling}function rs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Zi(4,n,n.return),rs(n);break;case 1:Kn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Gg(n,n.return,r),rs(n);break;case 27:Dl(n.stateNode);case 26:case 5:Kn(n,n.return),rs(n);break;case 22:n.memoizedState===null&&rs(n);break;case 30:rs(n);break;default:rs(n)}t=t.sibling}}function Ji(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ji(c,f,r),_l(4,f);break;case 1:if(Ji(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Xt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Nm(R[c],E)}catch(B){Xt(l,l.return,B)}}r&&y&64&&Hg(f),vl(f,f.return);break;case 27:Yg(f);case 26:case 5:Ji(c,f,r),r&&l===null&&y&4&&Fg(f),vl(f,f.return);break;case 12:Ji(c,f,r);break;case 13:Ji(c,f,r),r&&y&4&&Jg(c,f);break;case 22:f.memoizedState===null&&Ji(c,f,r),vl(f,f.return);break;case 30:break;default:Ji(c,f,r)}n=n.sibling}}function Bh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&rl(r))}function Ph(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t))}function Xn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ep(t,n,r,l),n=n.sibling}function ep(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,r,l),c&2048&&_l(9,n);break;case 1:Xn(t,n,r,l);break;case 3:Xn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t)));break;case 12:if(c&2048){Xn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Xt(n,n.return,R)}}else Xn(t,n,r,l);break;case 13:Xn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(t,n,r,l):El(t,n):f._visibility&2?Xn(t,n,r,l):(f._visibility|=2,Ys(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Bh(y,n);break;case 24:Xn(t,n,r,l),c&2048&&Ph(n.alternate,n);break;default:Xn(t,n,r,l)}}function Ys(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,R=l,B=y.flags;switch(y.tag){case 0:case 11:case 15:Ys(f,y,E,R,c),_l(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Ys(f,y,E,R,c):El(f,y):(G._visibility|=2,Ys(f,y,E,R,c)),c&&B&2048&&Bh(y.alternate,y);break;case 24:Ys(f,y,E,R,c),c&&B&2048&&Ph(y.alternate,y);break;default:Ys(f,y,E,R,c)}n=n.sibling}}function El(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:El(r,l),c&2048&&Bh(l.alternate,l);break;case 24:El(r,l),c&2048&&Ph(l.alternate,l);break;default:El(r,l)}n=n.sibling}}var Tl=8192;function Ks(t){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)np(t),t=t.sibling}function np(t){switch(t.tag){case 26:Ks(t),t.flags&Tl&&t.memoizedState!==null&&H1(Vn,t.memoizedState,t.memoizedProps);break;case 5:Ks(t);break;case 3:case 4:var n=Vn;Vn=Eu(t.stateNode.containerInfo),Ks(t),Vn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Tl,Tl=16777216,Ks(t),Tl=n):Ks(t));break;default:Ks(t)}}function ip(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Al(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,sp(l,t)}ip(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rp(t),t=t.sibling}function rp(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&Zi(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ou(t)):Al(t);break;default:Al(t)}}function ou(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,sp(l,t)}ip(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Zi(8,n,n.return),ou(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ou(n));break;default:ou(n)}t=t.sibling}}function sp(t,n){for(;Ve!==null;){var r=Ve;switch(r.tag){case 0:case 11:case 15:Zi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ve=l;else t:for(r=t;Ve!==null;){l=Ve;var c=l.sibling,f=l.return;if(Zg(l),l===r){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}var s1={getCacheForType:function(t){var n=He(be),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},a1=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,wt=null,Ot=0,Gt=0,cn=null,Wi=!1,Xs=!1,qh=!1,Ni=0,le=0,tr=0,ss=0,kh=0,bn=0,Zs=0,Sl=null,en=null,Hh=!1,Gh=0,uu=1/0,cu=null,er=null,je=0,nr=null,$s=null,Js=0,Fh=0,Qh=null,ap=null,bl=0,Yh=null;function hn(){if((Ht&2)!==0&&Ot!==0)return Ot&-Ot;if(H.T!==null){var t=Bs;return t!==0?t:tf()}return zi()}function lp(){bn===0&&(bn=(Ot&536870912)===0||Pt?Oa():536870912);var t=Sn.current;return t!==null&&(t.flags|=32),bn}function fn(t,n,r){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(Ws(t,0),ir(t,Ot,bn,!1)),li(t,r),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&(ss|=r),le===4&&ir(t,Ot,bn,!1)),Zn(t))}function op(t,n,r){if((Ht&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Vr(t,n),c=l?u1(t,n):Zh(t,n,!0),f=l;do{if(c===0){Xs&&!l&&ir(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!l1(r)){c=Zh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Sl;var R=E.current.memoizedState.isDehydrated;if(R&&(Ws(E,y).flags|=256),y=Zh(E,y,!1),y!==2){if(qh&&!R){E.errorRecoveryDisabledLanes|=f,ss|=f,c=4;break t}f=en,en=c,f!==null&&(en===null?en=f:en.push.apply(en,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Ws(t,0),ir(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ir(l,n,bn,!Wi);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Gh+300-dn(),10<c)){if(ir(l,n,bn,!Wi),ps(l,0,!0)!==0)break t;l.timeoutHandle=zp(up.bind(null,l,r,en,cu,Hh,n,bn,ss,Zs,Wi,f,2,-0,0),c);break t}up(l,r,en,cu,Hh,n,bn,ss,Zs,Wi,f,0,-0,0)}}break}while(!0);Zn(t)}function up(t,n,r,l,c,f,y,E,R,B,G,Y,P,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:k1},np(n),Y=G1(),Y!==null)){t.cancelPendingCommit=Y(pp.bind(null,t,n,f,r,l,c,y,E,R,G,1,P,q)),ir(t,f,y,!B);return}pp(t,n,f,r,l,c,y,E,R)}function l1(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!an(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ir(t,n,r,l){n&=~kh,n&=~ss,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ke(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Un(t,r,n)}function hu(){return(Ht&6)===0?(Rl(0),!1):!0}function Kh(){if(wt!==null){if(Gt===0)var t=wt.return;else t=wt,Ti=Wr=null,hh(t),Fs=null,gl=0,t=wt;for(;t!==null;)kg(t.alternate,t),t=t.return;wt=null}}function Ws(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,R1(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Kh(),$t=t,wt=r=_i(t.current,null),Ot=n,Gt=0,cn=null,Wi=!1,Xs=Vr(t,n),qh=!1,Zs=bn=kh=ss=tr=le=0,en=Sl=null,Hh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ke(l),f=1<<c;n|=t[c],l&=~f}return Ni=n,Oo(),r}function cp(t,n){St=null,H.H=Jo,n===al||n===ko?(n=Cm(),Gt=3):n===bm?(n=Cm(),Gt=4):Gt=n===Dg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,wt===null&&(le=1,iu(t,vn(n,t.current)))}function hp(){var t=H.H;return H.H=Jo,t===null?Jo:t}function fp(){var t=H.A;return H.A=s1,t}function Xh(){le=4,Wi||(Ot&4194048)!==Ot&&Sn.current!==null||(Xs=!0),(tr&134217727)===0&&(ss&134217727)===0||$t===null||ir($t,Ot,bn,!1)}function Zh(t,n,r){var l=Ht;Ht|=2;var c=hp(),f=fp();($t!==t||Ot!==n)&&(cu=null,Ws(t,n)),n=!1;var y=le;t:do try{if(Gt!==0&&wt!==null){var E=wt,R=cn;switch(Gt){case 8:Kh(),y=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var B=Gt;if(Gt=0,cn=null,ta(t,E,R,B),r&&Xs){y=0;break t}break;default:B=Gt,Gt=0,cn=null,ta(t,E,R,B)}}o1(),y=le;break}catch(G){cp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Ti=Wr=null,Ht=l,H.H=c,H.A=f,wt===null&&($t=null,Ot=0,Oo()),y}function o1(){for(;wt!==null;)dp(wt)}function u1(t,n){var r=Ht;Ht|=2;var l=hp(),c=fp();$t!==t||Ot!==n?(cu=null,uu=dn()+500,Ws(t,n)):Xs=Vr(t,n);t:do try{if(Gt!==0&&wt!==null){n=wt;var f=cn;e:switch(Gt){case 1:Gt=0,cn=null,ta(t,n,f,1);break;case 2:case 9:if(Rm(f)){Gt=0,cn=null,mp(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),Zn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Rm(f)?(Gt=0,cn=null,mp(n)):(Gt=0,cn=null,ta(t,n,f,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var E=wt;if(!y||Xp(y)){Gt=0,cn=null;var R=E.sibling;if(R!==null)wt=R;else{var B=E.return;B!==null?(wt=B,fu(B)):wt=null}break e}}Gt=0,cn=null,ta(t,n,f,5);break;case 6:Gt=0,cn=null,ta(t,n,f,6);break;case 8:Kh(),le=6;break t;default:throw Error(s(462))}}c1();break}catch(G){cp(t,G)}while(!0);return Ti=Wr=null,H.H=l,H.A=c,Ht=r,wt!==null?0:($t=null,Ot=0,Oo(),le)}function c1(){for(;wt!==null&&!Na();)dp(wt)}function dp(t){var n=Pg(t.alternate,t,Ni);t.memoizedProps=t.pendingProps,n===null?fu(t):wt=n}function mp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=xg(r,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=xg(r,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:hh(n);default:kg(r,n),n=wt=gm(n,Ni),n=Pg(r,n,Ni)}t.memoizedProps=t.pendingProps,n===null?fu(t):wt=n}function ta(t,n,r,l){Ti=Wr=null,hh(n),Fs=null,gl=0;var c=n.return;try{if(W0(t,c,n,r,Ot)){le=1,iu(t,vn(r,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;le=1,iu(t,vn(r,t.current)),wt=null;return}n.flags&32768?(Pt||l===1?t=!0:Xs||(Ot&536870912)!==0?t=!1:(Wi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),gp(n,t)):fu(n)}function fu(t){var n=t;do{if((n.flags&32768)!==0){gp(n,Wi);return}t=n.return;var r=e1(n.alternate,n,Ni);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);le===0&&(le=5)}function gp(t,n){do{var r=n1(t.alternate,t);if(r!==null){r.flags&=32767,wt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=r}while(t!==null);le=6,wt=null}function pp(t,n,r,l,c,f,y,E,R){t.cancelPendingCommit=null;do du();while(je!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Pc,Ua(t,r,f,y,E,R),t===$t&&(wt=$t=null,Ot=0),$s=n,nr=t,Js=r,Fh=f,Qh=c,ap=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,m1(Cr,function(){return Tp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=et.p,et.p=2,y=Ht,Ht|=4;try{i1(t,n,r)}finally{Ht=y,et.p=c,H.T=l}}je=1,yp(),_p(),vp()}}function yp(){if(je===1){je=0;var t=nr,n=$s,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{Wg(n,t);var f=uf,y=sm(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&rm(E.ownerDocument.documentElement,E)){if(R!==null&&Uc(E)){var B=R.start,G=R.end;if(G===void 0&&(G=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,P=Y&&Y.defaultView||window;if(P.getSelection){var q=P.getSelection(),yt=E.textContent.length,gt=Math.min(R.start,yt),Kt=R.end===void 0?gt:Math.min(R.end,yt);!q.extend&&gt>Kt&&(y=Kt,Kt=gt,gt=y);var U=im(E,gt),V=im(E,Kt);if(U&&V&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==V.node||q.focusOffset!==V.offset)){var j=Y.createRange();j.setStart(U.node,U.offset),q.removeAllRanges(),gt>Kt?(q.addRange(j),q.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),q.addRange(j))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ru=!!of,uf=of=null}finally{Ht=c,et.p=l,H.T=r}}t.current=n,je=2}}function _p(){if(je===2){je=0;var t=nr,n=$s,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{Xg(t,n.alternate,n)}finally{Ht=c,et.p=l,H.T=r}}je=3}}function vp(){if(je===4||je===3){je=0,lo();var t=nr,n=$s,r=Js,l=ap;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?je=5:(je=0,$s=nr=null,Ep(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(er=null),ys(r),n=n.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(Js&3)!==0&&du(),Zn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Yh?bl++:(bl=0,Yh=t):bl=0,Rl(0)}}function Ep(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,rl(n)))}function du(t){return yp(),_p(),vp(),Tp()}function Tp(){if(je!==5)return!1;var t=nr,n=Fh;Fh=0;var r=ys(Js),l=H.T,c=et.p;try{et.p=32>r?32:r,H.T=null,r=Qh,Qh=null;var f=nr,y=Js;if(je=0,$s=nr=null,Js=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,rp(f.current),ep(f,f.current,y,r),Ht=E,Rl(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{et.p=c,H.T=l,Ep(t,n)}}function Ap(t,n,r){n=vn(r,n),n=Rh(t.stateNode,n,2),t=Qi(t,n,2),t!==null&&(li(t,2),Zn(t))}function Xt(t,n,r){if(t.tag===3)Ap(t,t,r);else for(;n!==null;){if(n.tag===3){Ap(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(er===null||!er.has(l))){t=vn(r,t),r=wg(2),l=Qi(n,r,2),l!==null&&(Cg(r,l,n,t),li(l,2),Zn(l));break}}n=n.return}}function $h(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new a1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(qh=!0,c.add(r),t=h1.bind(null,t,n,r),n.then(t,t))}function h1(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(Ot&r)===r&&(le===4||le===3&&(Ot&62914560)===Ot&&300>dn()-Gh?(Ht&2)===0&&Ws(t,0):kh|=r,Zs===Ot&&(Zs=0)),Zn(t)}function Sp(t,n){n===0&&(n=xa()),t=Us(t,n),t!==null&&(li(t,n),Zn(t))}function f1(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Sp(t,r)}function d1(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Sp(t,r)}function m1(t,n){return Rr(t,n)}var mu=null,ea=null,Jh=!1,gu=!1,Wh=!1,as=0;function Zn(t){t!==ea&&t.next===null&&(ea===null?mu=ea=t:ea=ea.next=t),gu=!0,Jh||(Jh=!0,p1())}function Rl(t,n){if(!Wh&&gu){Wh=!0;do for(var r=!1,l=mu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ke(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Cp(l,f))}else f=Ot,f=ps(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Vr(l,f)||(r=!0,Cp(l,f));l=l.next}while(r);Wh=!1}}function g1(){bp()}function bp(){gu=Jh=!1;var t=0;as!==0&&(b1()&&(t=as),as=0);for(var n=dn(),r=null,l=mu;l!==null;){var c=l.next,f=Rp(l,n);f===0?(l.next=null,r===null?mu=c:r.next=c,c===null&&(ea=r)):(r=l,(t!==0||(f&3)!==0)&&(gu=!0)),l=c}Rl(t)}function Rp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ke(f),E=1<<y,R=c[y];R===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Ma(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,r=Ot,r=ps(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&wr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Vr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&wr(l),ys(r)){case 2:case 8:r=ms;break;case 32:r=Cr;break;case 268435456:r=gs;break;default:r=Cr}return l=wp.bind(null,t),r=Rr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&wr(l),t.callbackPriority=2,t.callbackNode=null,2}function wp(t,n){if(je!==0&&je!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(du()&&t.callbackNode!==r)return null;var l=Ot;return l=ps(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(op(t,l,n),Rp(t,dn()),t.callbackNode!=null&&t.callbackNode===r?wp.bind(null,t):null)}function Cp(t,n){if(du())return null;op(t,n,!0)}function p1(){w1(function(){(Ht&6)!==0?Rr(Ia,g1):bp()})}function tf(){return as===0&&(as=Oa()),as}function Dp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ss(""+t)}function Np(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function y1(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Dp((c[de]||null).action),y=l.submitter;y&&(n=(n=y[de]||null)?Dp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new bs("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(as!==0){var R=y?Np(c,y):new FormData(c);Eh(r,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?Np(c,y):new FormData(c),Eh(r,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var ef=0;ef<Bc.length;ef++){var nf=Bc[ef],_1=nf.toLowerCase(),v1=nf[0].toUpperCase()+nf.slice(1);In(_1,"on"+v1)}In(om,"onAnimationEnd"),In(um,"onAnimationIteration"),In(cm,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(L0,"onTransitionRun"),In(z0,"onTransitionStart"),In(j0,"onTransitionCancel"),In(hm,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function Ip(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],R=E.instance,B=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(G){nu(G)}c.currentTarget=null,f=R}else for(y=0;y<l.length;y++){if(E=l[y],R=E.instance,B=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(G){nu(G)}c.currentTarget=null,f=R}}}}function Ct(t,n){var r=n[za];r===void 0&&(r=n[za]=new Set);var l=t+"__bubble";r.has(l)||(Vp(n,t,2,!1),r.add(l))}function rf(t,n,r){var l=0;n&&(l|=4),Vp(r,t,l,n)}var pu="_reactListening"+Math.random().toString(36).slice(2);function sf(t){if(!t[pu]){t[pu]=!0,ja.forEach(function(r){r!=="selectionchange"&&(E1.has(r)||rf(r,!1,t),rf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[pu]||(n[pu]=!0,rf("selectionchange",!1,n))}}function Vp(t,n,r,l){switch(ey(n)){case 2:var c=Y1;break;case 8:c=K1;break;default:c=vf}r=c.bind(null,n,r,t),c=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function af(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=oi(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=f=y;continue t}E=E.parentNode}}l=l.return}_o(function(){var B=f,G=pn(r),Y=[];t:{var P=fm.get(t);if(P!==void 0){var q=bs,yt=t;switch(t){case"keypress":if(qn(r)===0)break t;case"keydown":case"keyup":q=Is;break;case"focusin":yt="focus",q=Cs;break;case"focusout":yt="blur",q=Cs;break;case"beforeblur":case"afterblur":q=Cs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=wo;break;case om:case um:case cm:q=Ds;break;case hm:q=Do;break;case"scroll":case"scrollend":q=vo;break;case"wheel":q=Vs;break;case"copy":case"cut":case"paste":q=Ns;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Za;break;case"toggle":case"beforetoggle":q=Io}var gt=(n&4)!==0,Kt=!gt&&(t==="scroll"||t==="scrollend"),U=gt?P!==null?P+"Capture":null:P;gt=[];for(var V=B,j;V!==null;){var Q=V;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||U===null||(Q=Br(V,U),Q!=null&&gt.push(Cl(V,Q,j))),Kt)break;V=V.return}0<gt.length&&(P=new q(P,yt,null,r,G),Y.push({event:P,listeners:gt}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",P&&r!==fi&&(yt=r.relatedTarget||r.fromElement)&&(oi(yt)||yt[mn]))break t;if((q||P)&&(P=G.window===G?G:(P=G.ownerDocument)?P.defaultView||P.parentWindow:window,q?(yt=r.relatedTarget||r.toElement,q=B,yt=yt?oi(yt):null,yt!==null&&(Kt=h(yt),gt=yt.tag,yt!==Kt||gt!==5&&gt!==27&&gt!==6)&&(yt=null)):(q=null,yt=B),q!==yt)){if(gt=_n,Q="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(gt=Za,Q="onPointerLeave",U="onPointerEnter",V="pointer"),Kt=q==null?P:zn(q),j=yt==null?P:zn(yt),P=new gt(Q,V+"leave",q,r,G),P.target=Kt,P.relatedTarget=j,Q=null,oi(G)===B&&(gt=new gt(U,V+"enter",yt,r,G),gt.target=j,gt.relatedTarget=Kt,Q=gt),Kt=Q,q&&yt)e:{for(gt=q,U=yt,V=0,j=gt;j;j=na(j))V++;for(j=0,Q=U;Q;Q=na(Q))j++;for(;0<V-j;)gt=na(gt),V--;for(;0<j-V;)U=na(U),j--;for(;V--;){if(gt===U||U!==null&&gt===U.alternate)break e;gt=na(gt),U=na(U)}gt=null}else gt=null;q!==null&&Mp(Y,P,q,gt,!1),yt!==null&&Kt!==null&&Mp(Y,Kt,yt,gt,!0)}}t:{if(P=B?zn(B):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var lt=$d;else if(Se(P))if(Jd)lt=O0;else{lt=V0;var Rt=I0}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?B&&Ha(B.elementType)&&(lt=$d):lt=M0;if(lt&&(lt=lt(t,B))){yi(Y,lt,r,G);break t}Rt&&Rt(t,P,B),t==="focusout"&&B&&P.type==="number"&&B.memoizedProps.value!=null&&qi(P,"number",P.value)}switch(Rt=B?zn(B):window,t){case"focusin":(Se(Rt)||Rt.contentEditable==="true")&&(Ms=Rt,Lc=B,Wa=null);break;case"focusout":Wa=Lc=Ms=null;break;case"mousedown":zc=!0;break;case"contextmenu":case"mouseup":case"dragend":zc=!1,am(Y,r,G);break;case"selectionchange":if(U0)break;case"keydown":case"keyup":am(Y,r,G)}var ut;if(Gn)t:{switch(t){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Vt?k(t,r)&&(pt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(pt="onCompositionStart");pt&&(p&&r.locale!=="ko"&&(Vt||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Vt&&(ut=Fa()):(Pn=G,ki="value"in Pn?Pn.value:Pn.textContent,Vt=!0)),Rt=yu(B,pt),0<Rt.length&&(pt=new Ka(pt,t,null,r,G),Y.push({event:pt,listeners:Rt}),ut?pt.data=ut:(ut=tt(r),ut!==null&&(pt.data=ut)))),(ut=m?Ae(t,r):Mt(t,r))&&(pt=yu(B,"onBeforeInput"),0<pt.length&&(Rt=new Ka("onBeforeInput","beforeinput",null,r,G),Y.push({event:Rt,listeners:pt}),Rt.data=ut)),y1(Y,t,B,r,G)}Ip(Y,n)})}function Cl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function yu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Br(t,r),c!=null&&l.unshift(Cl(t,c,f)),c=Br(t,n),c!=null&&l.push(Cl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function na(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Mp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,R=E.alternate,B=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||B===null||(R=B,c?(B=Br(r,f),B!=null&&y.unshift(Cl(r,B,R))):c||(B=Br(r,f),B!=null&&y.push(Cl(r,B,R)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var T1=/\r\n?/g,A1=/\u0000|\uFFFD/g;function Op(t){return(typeof t=="string"?t:""+t).replace(T1,`
`).replace(A1,"")}function xp(t,n){return n=Op(n),Op(t)===n}function _u(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":jn(t,"class",l);break;case"tabIndex":jn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(t,r,l);break;case"style":ka(t,l,f);break;case"data":if(n!=="object"){jn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ss(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ss(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=_u);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ss(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Pi(t,"popover",l);break;case"xlinkActuate":Ue(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Pi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Nc.get(r)||r,Pi(t,r,l))}}function lf(t,n,r,l,c,f){switch(r){case"style":ka(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=_u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_s.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[de]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Pi(t,r,l)}}}function Be(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,f,y,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":Ct("invalid",t);var E=f=y=c=null,R=null,B=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":R=G;break;case"defaultChecked":B=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Yt(t,n,l,G,r,null)}}Lr(t,f,E,R,B,y,c,!1),As(t);return;case"select":Ct("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?hi(t,!!l,n,!1):r!=null&&hi(t,!!l,r,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(t,n,y,E,r,null)}zr(t,l,c,f),As(t);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,R,l,r,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)Ct(wl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(l=r[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,B,l,r,null)}return;default:if(Ha(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&lf(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function S1(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,R=null,B=null,G=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Y;default:l.hasOwnProperty(q)||Yt(t,n,q,null,l,Y)}}for(var P in l){var q=l[P];if(Y=r[P],l.hasOwnProperty(P)&&(q!=null||Y!=null))switch(P){case"type":f=q;break;case"name":c=q;break;case"checked":B=q;break;case"defaultChecked":G=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Y&&Yt(t,n,P,q,l,Y)}}sn(t,y,E,R,B,G,f,c);return;case"select":q=y=E=P=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=r[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&Yt(t,n,c,f,l,R)}n=E,r=y,l=q,P!=null?hi(t,!!r,P,!1):!!l!=!!r&&(n!=null?hi(t,!!r,n,!0):hi(t,!!r,r?[]:"",!1));return;case"textarea":q=P=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":P=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Yt(t,n,y,c,l,f)}Ft(t,P,q);return;case"option":for(var yt in r)if(P=r[yt],r.hasOwnProperty(yt)&&P!=null&&!l.hasOwnProperty(yt))switch(yt){case"selected":t.selected=!1;break;default:Yt(t,n,yt,null,l,P)}for(R in l)if(P=l[R],q=r[R],l.hasOwnProperty(R)&&P!==q&&(P!=null||q!=null))switch(R){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Yt(t,n,R,P,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)P=r[gt],r.hasOwnProperty(gt)&&P!=null&&!l.hasOwnProperty(gt)&&Yt(t,n,gt,null,l,P);for(B in l)if(P=l[B],q=r[B],l.hasOwnProperty(B)&&P!==q&&(P!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:Yt(t,n,B,P,l,q)}return;default:if(Ha(n)){for(var Kt in r)P=r[Kt],r.hasOwnProperty(Kt)&&P!==void 0&&!l.hasOwnProperty(Kt)&&lf(t,n,Kt,void 0,l,P);for(G in l)P=l[G],q=r[G],!l.hasOwnProperty(G)||P===q||P===void 0&&q===void 0||lf(t,n,G,P,l,q);return}}for(var U in r)P=r[U],r.hasOwnProperty(U)&&P!=null&&!l.hasOwnProperty(U)&&Yt(t,n,U,null,l,P);for(Y in l)P=l[Y],q=r[Y],!l.hasOwnProperty(Y)||P===q||P==null&&q==null||Yt(t,n,Y,P,l,q)}var of=null,uf=null;function vu(t){return t.nodeType===9?t:t.ownerDocument}function Up(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function cf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hf=null;function b1(){var t=window.event;return t&&t.type==="popstate"?t===hf?!1:(hf=t,!0):(hf=null,!1)}var zp=typeof setTimeout=="function"?setTimeout:void 0,R1=typeof clearTimeout=="function"?clearTimeout:void 0,jp=typeof Promise=="function"?Promise:void 0,w1=typeof queueMicrotask=="function"?queueMicrotask:typeof jp<"u"?function(t){return jp.resolve(null).then(t).catch(C1)}:zp;function C1(t){setTimeout(function(){throw t})}function rr(t){return t==="head"}function Bp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Dl(y.documentElement),r&2&&Dl(y.body),r&4)for(r=y.head,Dl(r),y=r.firstChild;y;){var E=y.nextSibling,R=y.nodeName;y[Mr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Ll(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Ll(n)}function ff(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ff(r),Bi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function D1(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Mr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function N1(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Mn(t.nextSibling),t===null))return null;return t}function df(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function I1(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var mf=null;function Pp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function qp(t,n,r){switch(n=vu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Dl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Bi(t)}var Rn=new Map,kp=new Set;function Eu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ii=et.d;et.d={f:V1,r:M1,D:O1,C:x1,L:U1,m:L1,X:j1,S:z1,M:B1};function V1(){var t=Ii.f(),n=hu();return t||n}function M1(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?og(n):Ii.r(t)}var ia=typeof document>"u"?null:document;function Hp(t,n,r){var l=ia;if(l&&typeof n=="string"&&n){var c=me(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),kp.has(c)||(kp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Be(n,"link",t),oe(n),l.head.appendChild(n)))}}function O1(t){Ii.D(t),Hp("dns-prefetch",t,null)}function x1(t,n){Ii.C(t,n),Hp("preconnect",t,n)}function U1(t,n,r){Ii.L(t,n,r);var l=ia;if(l&&t&&n){var c='link[rel="preload"][as="'+me(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+me(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+me(r.imageSizes)+'"]')):c+='[href="'+me(t)+'"]';var f=c;switch(n){case"style":f=ra(t);break;case"script":f=sa(t)}Rn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Rn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Nl(f))||n==="script"&&l.querySelector(Il(f))||(n=l.createElement("link"),Be(n,"link",t),oe(n),l.head.appendChild(n)))}}function L1(t,n){Ii.m(t,n);var r=ia;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+me(l)+'"][href="'+me(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=sa(t)}if(!Rn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Rn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Il(f)))return}l=r.createElement("link"),Be(l,"link",t),oe(l),r.head.appendChild(l)}}}function z1(t,n,r){Ii.S(t,n,r);var l=ia;if(l&&t){var c=Xe(l).hoistableStyles,f=ra(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Nl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Rn.get(f))&&gf(t,r);var R=y=l.createElement("link");oe(R),Be(R,"link",t),R._p=new Promise(function(B,G){R.onload=B,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Tu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function j1(t,n){Ii.X(t,n);var r=ia;if(r&&t){var l=Xe(r).hoistableScripts,c=sa(t),f=l.get(c);f||(f=r.querySelector(Il(c)),f||(t=A({src:t,async:!0},n),(n=Rn.get(c))&&pf(t,n),f=r.createElement("script"),oe(f),Be(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function B1(t,n){Ii.M(t,n);var r=ia;if(r&&t){var l=Xe(r).hoistableScripts,c=sa(t),f=l.get(c);f||(f=r.querySelector(Il(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Rn.get(c))&&pf(t,n),f=r.createElement("script"),oe(f),Be(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Gp(t,n,r,l){var c=(c=vt.current)?Eu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ra(r.href),r=Xe(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ra(r.href);var f=Xe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Nl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Rn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Rn.set(t,r),f||P1(c,t,r,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=sa(r),r=Xe(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ra(t){return'href="'+me(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function Fp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function P1(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Be(n,"link",r),oe(n),t.head.appendChild(n))}function sa(t){return'[src="'+me(t)+'"]'}function Il(t){return"script[async]"+t}function Qp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+me(r.href)+'"]');if(l)return n.instance=l,oe(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),oe(l),Be(l,"style",c),Tu(l,r.precedence,t),n.instance=l;case"stylesheet":c=ra(r.href);var f=t.querySelector(Nl(c));if(f)return n.state.loading|=4,n.instance=f,oe(f),f;l=Fp(r),(c=Rn.get(c))&&gf(l,c),f=(t.ownerDocument||t).createElement("link"),oe(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Be(f,"link",l),n.state.loading|=4,Tu(f,r.precedence,t),n.instance=f;case"script":return f=sa(r.src),(c=t.querySelector(Il(f)))?(n.instance=c,oe(c),c):(l=r,(c=Rn.get(f))&&(l=A({},r),pf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),oe(c),Be(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Tu(l,r.precedence,t));return n.instance}function Tu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function gf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function pf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Au=null;function Yp(t,n,r){if(Au===null){var l=new Map,c=Au=new Map;c.set(r,l)}else c=Au,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Mr]||f[Te]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Kp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function q1(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Xp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Vl=null;function k1(){}function H1(t,n,r){if(Vl===null)throw Error(s(475));var l=Vl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ra(r.href),f=t.querySelector(Nl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Su.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,oe(f);return}f=t.ownerDocument||t,r=Fp(r),(c=Rn.get(c))&&gf(r,c),f=f.createElement("link"),oe(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Be(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Su.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function G1(){if(Vl===null)throw Error(s(475));var t=Vl;return t.stylesheets&&t.count===0&&yf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&yf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Su(){if(this.count--,this.count===0){if(this.stylesheets)yf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bu=null;function yf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bu=new Map,n.forEach(F1,t),bu=null,Su.call(t))}function F1(t,n){if(!(n.state.loading&4)){var r=bu.get(t);if(r)var l=r.get(null);else{r=new Map,bu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=Su.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ml={$$typeof:ft,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function Q1(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Zp(t,n,r,l,c,f,y,E,R,B,G,Y){return t=new Q1(t,n,r,y,E,R,B,Y),n=1,f===!0&&(n|=24),f=ln(3,null,null,n),t.current=f,f.stateNode=t,n=$c(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},eh(f),t}function $p(t){return t?(t=Ls,t):Ls}function Jp(t,n,r,l,c,f){c=$p(c),l.context===null?l.context=c:l.pendingContext=c,l=Fi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Qi(t,l,n),r!==null&&(fn(r,t,n),ol(r,t,n))}function Wp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function _f(t,n){Wp(t,n),(t=t.alternate)&&Wp(t,n)}function ty(t){if(t.tag===13){var n=Us(t,67108864);n!==null&&fn(n,t,67108864),_f(t,67108864)}}var Ru=!0;function Y1(t,n,r,l){var c=H.T;H.T=null;var f=et.p;try{et.p=2,vf(t,n,r,l)}finally{et.p=f,H.T=c}}function K1(t,n,r,l){var c=H.T;H.T=null;var f=et.p;try{et.p=8,vf(t,n,r,l)}finally{et.p=f,H.T=c}}function vf(t,n,r,l){if(Ru){var c=Ef(l);if(c===null)af(t,n,l,wu,r),ny(t,l);else if(Z1(c,t,n,r,l))l.stopPropagation();else if(ny(t,l),n&4&&-1<X1.indexOf(t)){for(;c!==null;){var f=Ln(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Cn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-ke(y);E.entanglements[1]|=R,y&=~R}Zn(f),(Ht&6)===0&&(uu=dn()+500,Rl(0))}}break;case 13:E=Us(f,2),E!==null&&fn(E,f,2),hu(),_f(f,2)}if(f=Ef(l),f===null&&af(t,n,l,wu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else af(t,n,l,null,r)}}function Ef(t){return t=pn(t),Tf(t)}var wu=null;function Tf(t){if(wu=null,t=oi(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return wu=t,null}function ey(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sc()){case Ia:return 2;case ms:return 8;case Cr:case bc:return 32;case gs:return 268435456;default:return 32}default:return 32}}var Af=!1,sr=null,ar=null,lr=null,Ol=new Map,xl=new Map,or=[],X1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ny(t,n){switch(t){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(n.pointerId)}}function Ul(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Ln(n),n!==null&&ty(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function Z1(t,n,r,l,c){switch(n){case"focusin":return sr=Ul(sr,t,n,r,l,c),!0;case"dragenter":return ar=Ul(ar,t,n,r,l,c),!0;case"mouseover":return lr=Ul(lr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Ol.set(f,Ul(Ol.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,xl.set(f,Ul(xl.get(f)||null,t,n,r,l,c)),!0}return!1}function iy(t){var n=oi(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,co(t.priority,function(){if(r.tag===13){var l=hn();l=Li(l);var c=Us(r,l);c!==null&&fn(c,r,l),_f(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Ef(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);fi=l,r.target.dispatchEvent(l),fi=null}else return n=Ln(r),n!==null&&ty(n),t.blockedOn=r,!1;n.shift()}return!0}function ry(t,n,r){Cu(t)&&r.delete(n)}function $1(){Af=!1,sr!==null&&Cu(sr)&&(sr=null),ar!==null&&Cu(ar)&&(ar=null),lr!==null&&Cu(lr)&&(lr=null),Ol.forEach(ry),xl.forEach(ry)}function Du(t,n){t.blockedOn===n&&(t.blockedOn=null,Af||(Af=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,$1)))}var Nu=null;function sy(t){Nu!==t&&(Nu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Nu===t&&(Nu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Tf(l||r)===null)continue;break}var f=Ln(r);f!==null&&(t.splice(n,3),n-=3,Eh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Ll(t){function n(R){return Du(R,t)}sr!==null&&Du(sr,t),ar!==null&&Du(ar,t),lr!==null&&Du(lr,t),Ol.forEach(n),xl.forEach(n);for(var r=0;r<or.length;r++){var l=or[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<or.length&&(r=or[0],r.blockedOn===null);)iy(r),r.blockedOn===null&&or.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[de]||null;if(typeof f=="function")y||sy(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[de]||null)E=y.formAction;else if(Tf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),sy(r)}}}function Sf(t){this._internalRoot=t}Iu.prototype.render=Sf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=hn();Jp(r,l,t,n,null,null)},Iu.prototype.unmount=Sf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Jp(t.current,2,null,t,null,null),hu(),n[mn]=null}};function Iu(t){this._internalRoot=t}Iu.prototype.unstable_scheduleHydration=function(t){if(t){var n=zi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<or.length&&n!==0&&n<or[r].priority;r++);or.splice(r,0,t),r===0&&iy(t)}};var ay=e.version;if(ay!=="19.1.1")throw Error(s(527,ay,"19.1.1"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var J1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{se=Vu.inject(J1),kt=Vu}catch{}}return jl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=Ag,f=Sg,y=bg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Zp(t,1,!1,null,null,r,l,c,f,y,E,null),t[mn]=n.current,sf(t),new Sf(n)},jl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",f=Ag,y=Sg,E=bg,R=null,B=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(B=r.formState)),n=Zp(t,1,!0,n,r??null,l,c,f,y,E,R,B),n.context=$p(null),r=n.current,l=hn(),l=Li(l),c=Fi(l),c.callback=null,Qi(r,c,l),r=l,n.current.lanes=r,li(n,r),Zn(n),t[mn]=n.current,sf(t),new Iu(n)},jl.version="19.1.1",jl}var py;function uE(){if(py)return wf.exports;py=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),wf.exports=oE(),wf.exports}var cE=uE();const P_="/groove_web/assets/Groove_logo-CRq7a4Oe.svg",hE="/groove_web/assets/header_img_1-CLYYSeJv.png",fE="/groove_web/assets/header_img_2-CAiaBnkB.png",dE="/groove_web/assets/header_img_3-BG0sHVFg.png",mE="/groove_web/assets/header_img_4-Bw95xS42.png",gE=()=>{const a=[hE,fE,dE,mE],[e,i]=at.useState(0);return at.useEffect(()=>{const s=setInterval(()=>{i(o=>(o+1)%a.length)},5e3);return()=>clearInterval(s)},[a.length]),I.jsxs("div",{className:"header-bg","aria-hidden":"true",children:[a.map((s,o)=>I.jsx("img",{src:s,alt:"",className:`bg-layer ${o===e?"active":""}`},o)),I.jsx("div",{className:"bg-overlay"})]})};var q_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yy=Vi.createContext&&Vi.createContext(q_),pE=["attr","size","title"];function yE(a,e){if(a==null)return{};var i=_E(a,e),s,o;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(a);for(o=0;o<h.length;o++)s=h[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(a,s)&&(i[s]=a[s])}return i}function _E(a,e){if(a==null)return{};var i={};for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s)){if(e.indexOf(s)>=0)continue;i[s]=a[s]}return i}function Fu(){return Fu=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])}return a},Fu.apply(this,arguments)}function _y(a,e){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,s)}return i}function Qu(a){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?_y(Object(i),!0).forEach(function(s){vE(a,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):_y(Object(i)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(i,s))})}return a}function vE(a,e,i){return e=EE(e),e in a?Object.defineProperty(a,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[e]=i,a}function EE(a){var e=TE(a,"string");return typeof e=="symbol"?e:e+""}function TE(a,e){if(typeof a!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var s=i.call(a,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function k_(a){return a&&a.map((e,i)=>Vi.createElement(e.tag,Qu({key:i},e.attr),k_(e.child)))}function ri(a){return e=>Vi.createElement(AE,Fu({attr:Qu({},a.attr)},e),k_(a.child))}function AE(a){var e=i=>{var{attr:s,size:o,title:h}=a,d=yE(a,pE),g=o||i.size||"1em",_;return i.className&&(_=i.className),a.className&&(_=(_?_+" ":"")+a.className),Vi.createElement("svg",Fu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,s,d,{className:_,style:Qu(Qu({color:a.color||i.color},i.style),a.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),h&&Vi.createElement("title",null,h),a.children)};return yy!==void 0?Vi.createElement(yy.Consumer,null,i=>e(i)):e(q_)}function H_(a){return ri({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(a)}function G_(a){return ri({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(a)}function SE(a){return ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(a)}function F_(a){return ri({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M296 464h-56V338.78l168.74-168.73c15.52-15.52 4.53-42.05-17.42-42.05H24.68c-21.95 0-32.94 26.53-17.42 42.05L176 338.78V464h-56c-22.09 0-40 17.91-40 40 0 4.42 3.58 8 8 8h240c4.42 0 8-3.58 8-8 0-22.09-17.91-40-40-40zM432 0c-62.61 0-115.35 40.2-135.18 96h52.54c16.65-28.55 47.27-48 82.64-48 52.93 0 96 43.06 96 96s-43.07 96-96 96c-14.04 0-27.29-3.2-39.32-8.64l-35.26 35.26C379.23 279.92 404.59 288 432 288c79.53 0 144-64.47 144-144S511.53 0 432 0z"},child:[]}]})(a)}function Q_(a){return ri({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 384h192c53 0 96-43 96-96h32c70.6 0 128-57.4 128-128S582.6 32 512 32H120c-13.3 0-24 10.7-24 24v232c0 53 43 96 96 96zM512 96c35.3 0 64 28.7 64 64s-28.7 64-64 64h-32V96h32zm47.7 384H48.3c-47.6 0-61-64-36-64h583.3c25 0 11.8 64-35.9 64z"},child:[]}]})(a)}function bE(a){return ri({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(a)}function RE(a){return ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M158.87.15c-16.16-1.52-31.2 8.42-35.33 24.12l-14.81 56.27c187.62 5.49 314.54 130.61 322.48 317l56.94-15.78c15.72-4.36 25.49-19.68 23.62-35.9C490.89 165.08 340.78 17.32 158.87.15zm-58.47 112L.55 491.64a16.21 16.21 0 0 0 20 19.75l379-105.1c-4.27-174.89-123.08-292.14-299.15-294.1zM128 416a32 32 0 1 1 32-32 32 32 0 0 1-32 32zm48-152a32 32 0 1 1 32-32 32 32 0 0 1-32 32zm104 104a32 32 0 1 1 32-32 32 32 0 0 1-32 32z"},child:[]}]})(a)}function qf(a){return ri({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18.06 22.99h1.66c.84 0 1.53-.64 1.63-1.46L23 5.05h-5V1h-1.97v4.05h-4.97l.3 2.34c1.71.47 3.31 1.32 4.27 2.26 1.44 1.42 2.43 2.89 2.43 5.29v8.05zM1 21.99V21h15.03v.99c0 .55-.45 1-1.01 1H2.01c-.56 0-1.01-.45-1.01-1zm15.03-7c0-8-15.03-8-15.03 0h15.03zM1.02 17h15v2h-15z"},child:[]}]})(a)}const vy={desayuno:{title:"Nuestro Caf",desc:"Caf de especialidad, y variedad de opciones para tu desayuno y merienda.",icon:I.jsx(Q_,{className:"menu-icon"})},almuerzo:{title:"Almuerzo/Cena",desc:"Disfruta de nuestras pizzas, ensaladas, picadas, burgers, pastas y comida de nuestro chef",icon:I.jsx(qf,{className:"menu-icon"})},bebidas:{title:"Ccteles",desc:"Desde los clasicos como el Fernet Branca, hasta aperitivos, vermucitos y gin",icon:I.jsx(F_,{className:"menu-icon"})}},Ey=a=>{if(!a)return I.jsx(qf,{className:"menu-icon"});const e=a.toLowerCase();return e.includes("caf")||e.includes("desayuno")||e.includes("breakfast")?I.jsx(Q_,{className:"menu-icon"}):e.includes("bebida")||e.includes("Coctelera")||e.includes("cocktail")||e.includes("bar")?I.jsx(F_,{className:"menu-icon"}):e.includes("pizza")?I.jsx(RE,{className:"menu-icon"}):I.jsx(qf,{className:"menu-icon"})},wE=({type:a,menuData:e,onMore:i})=>{let s;return e?s={title:e.title||"Men",desc:e.description||"Descubre nuestros deliciosos platos",icon:Ey(e.title)}:vy[a]?s=vy[a]:s={title:a.charAt(0).toUpperCase()+a.slice(1),desc:"Descubre nuestros deliciosos platos",icon:Ey(a)},s?I.jsxs("div",{className:"menu-card",children:[s.icon,I.jsx("h2",{children:s.title}),I.jsx("p",{children:s.desc}),I.jsx("button",{onClick:i,children:"Ver Men"})]}):null},CE=()=>{};var Ty={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},DE=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},K_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,_=o+2<a.length,v=_?a[o+2]:0,A=h>>2,C=(h&3)<<4|g>>4;let D=(g&15)<<2|v>>6,F=v&63;_||(F=64,d||(D=64)),s.push(i[A],i[C],i[D],i[F])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Y_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):DE(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const v=o<a.length?i[a.charAt(o)]:64;++o;const C=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||v==null||C==null)throw new NE;const D=h<<2|g>>4;if(s.push(D),v!==64){const F=g<<4&240|v>>2;if(s.push(F),C!==64){const $=v<<6&192|C;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class NE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IE=function(a){const e=Y_(a);return K_.encodeByteArray(e,!0)},Yu=function(a){return IE(a).replace(/\./g,"")},VE=function(a){try{return K_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=()=>ME().__FIREBASE_DEFAULTS__,xE=()=>{if(typeof process>"u"||typeof Ty>"u")return;const a=Ty.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},UE=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&VE(a[1]);return e&&JSON.parse(e)},fd=()=>{try{return CE()||OE()||xE()||UE()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},LE=a=>fd()?.emulatorHosts?.[a],zE=a=>{const e=LE(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},X_=()=>fd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function BE(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Yu(JSON.stringify(i)),Yu(JSON.stringify(d)),""].join(".")}const Gl={};function qE(){const a={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?a.emulator.push(e):a.prod.push(e);return a}function kE(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Ay=!1;function HE(a,e){if(typeof window>"u"||typeof document>"u"||!dd(window.location.host)||Gl[a]===e||Gl[a]||Ay)return;Gl[a]=e;function i(D){return`__firebase__banner__${D}`}const s="__firebase__banner",h=qE().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function _(D,F){D.setAttribute("width","24"),D.setAttribute("id",F),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function v(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{Ay=!0,d()},D}function A(D,F){D.setAttribute("id",F),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function C(){const D=kE(s),F=i("text"),$=document.getElementById(F)||document.createElement("span"),it=i("learnmore"),J=document.getElementById(it)||document.createElement("a"),mt=i("preprendIcon"),ot=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ft=D.element;g(ft),A(J,it);const It=v();_(ot,mt),ft.append(ot,$,J,It),document.body.appendChild(ft)}h?($.innerText="Preview backend disconnected.",ot.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ot.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FE(){const a=fd()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QE(){return!FE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YE(){try{return typeof indexedDB=="object"}catch{return!1}}function KE(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="FirebaseError";class Sa extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=XE,Object.setPrototypeOf(this,Sa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Z_.prototype.create)}}class Z_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?ZE(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Sa(o,g,s)}}function ZE(a,e){return a.replace($E,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const $E=/\{\$([^}]+)}/g;function Ku(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=e[o];if(Sy(h)&&Sy(d)){if(!Ku(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Sy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(a){return a&&a._delegate?a._delegate:a}class Xl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new jE;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tT(e))try{this.getOrInitializeService({instanceIdentifier:ls})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ls){return this.instances.has(e)}getOptions(e=ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const h=this.instances.get(s);return h&&e(h,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:WE(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ls){return this.component?this.component.multipleInstances?e:ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WE(a){return a===ls?void 0:a}function tT(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new JE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ut||(Ut={}));const nT={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},iT=Ut.INFO,rT={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},sT=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=rT[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $_{constructor(e){this.name=e,this._logLevel=iT,this._logHandler=sT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const aT=(a,e)=>e.some(i=>a instanceof i);let by,Ry;function lT(){return by||(by=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oT(){return Ry||(Ry=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J_=new WeakMap,kf=new WeakMap,W_=new WeakMap,If=new WeakMap,md=new WeakMap;function uT(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(fr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&J_.set(i,a)}).catch(()=>{}),md.set(e,a),e}function cT(a){if(kf.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});kf.set(a,e)}let Hf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return kf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||W_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return fr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function hT(a){Hf=a(Hf)}function fT(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Vf(this),e,...i);return W_.set(s,e.sort?e.sort():[e]),fr(s)}:oT().includes(a)?function(...e){return a.apply(Vf(this),e),fr(J_.get(this))}:function(...e){return fr(a.apply(Vf(this),e))}}function dT(a){return typeof a=="function"?fT(a):(a instanceof IDBTransaction&&cT(a),aT(a,lT())?new Proxy(a,Hf):a)}function fr(a){if(a instanceof IDBRequest)return uT(a);if(If.has(a))return If.get(a);const e=dT(a);return e!==a&&(If.set(a,e),md.set(e,a)),e}const Vf=a=>md.get(a);function mT(a,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=fr(d);return s&&d.addEventListener("upgradeneeded",_=>{s(fr(d.result),_.oldVersion,_.newVersion,fr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const gT=["get","getKey","getAll","getAllKeys","count"],pT=["put","add","delete","clear"],Mf=new Map;function wy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Mf.get(e))return Mf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=pT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||gT.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return Mf.set(e,h),h}hT(a=>({...a,get:(e,i,s)=>wy(e,i)||a.get(e,i,s),has:(e,i)=>!!wy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(_T(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function _T(a){return a.getComponent()?.type==="VERSION"}const Gf="@firebase/app",Cy="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new $_("@firebase/app"),vT="@firebase/app-compat",ET="@firebase/analytics-compat",TT="@firebase/analytics",AT="@firebase/app-check-compat",ST="@firebase/app-check",bT="@firebase/auth",RT="@firebase/auth-compat",wT="@firebase/database",CT="@firebase/data-connect",DT="@firebase/database-compat",NT="@firebase/functions",IT="@firebase/functions-compat",VT="@firebase/installations",MT="@firebase/installations-compat",OT="@firebase/messaging",xT="@firebase/messaging-compat",UT="@firebase/performance",LT="@firebase/performance-compat",zT="@firebase/remote-config",jT="@firebase/remote-config-compat",BT="@firebase/storage",PT="@firebase/storage-compat",qT="@firebase/firestore",kT="@firebase/ai",HT="@firebase/firestore-compat",GT="firebase",FT="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="[DEFAULT]",QT={[Gf]:"fire-core",[vT]:"fire-core-compat",[TT]:"fire-analytics",[ET]:"fire-analytics-compat",[ST]:"fire-app-check",[AT]:"fire-app-check-compat",[bT]:"fire-auth",[RT]:"fire-auth-compat",[wT]:"fire-rtdb",[CT]:"fire-data-connect",[DT]:"fire-rtdb-compat",[NT]:"fire-fn",[IT]:"fire-fn-compat",[VT]:"fire-iid",[MT]:"fire-iid-compat",[OT]:"fire-fcm",[xT]:"fire-fcm-compat",[UT]:"fire-perf",[LT]:"fire-perf-compat",[zT]:"fire-rc",[jT]:"fire-rc-compat",[BT]:"fire-gcs",[PT]:"fire-gcs-compat",[qT]:"fire-fst",[HT]:"fire-fst-compat",[kT]:"fire-vertex","fire-js":"fire-js",[GT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new Map,YT=new Map,Qf=new Map;function Dy(a,e){try{a.container.addComponent(e)}catch(i){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Zu(a){const e=a.name;if(Qf.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;Qf.set(e,a);for(const i of Xu.values())Dy(i,a);for(const i of YT.values())Dy(i,a);return!0}function KT(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function XT(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new Z_("app","Firebase",ZT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=FT;function tv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s={name:Ff,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw dr.create("bad-app-name",{appName:String(o)});if(i||(i=X_()),!i)throw dr.create("no-options");const h=Xu.get(o);if(h){if(Ku(i,h.options)&&Ku(s,h.config))return h;throw dr.create("duplicate-app",{appName:o})}const d=new eT(o);for(const _ of Qf.values())d.addComponent(_);const g=new $T(i,s,d);return Xu.set(o,g),g}function WT(a=Ff){const e=Xu.get(a);if(!e&&a===Ff&&X_())return tv();if(!e)throw dr.create("no-app",{appName:a});return e}function ha(a,e,i){let s=QT[a]??a;i&&(s+=`-${i}`);const o=s.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(d.join(" "));return}Zu(new Xl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="firebase-heartbeat-database",e2=1,Zl="firebase-heartbeat-store";let Of=null;function ev(){return Of||(Of=mT(t2,e2,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Zl)}catch(i){console.warn(i)}}}}).catch(a=>{throw dr.create("idb-open",{originalErrorMessage:a.message})})),Of}async function n2(a){try{const i=(await ev()).transaction(Zl),s=await i.objectStore(Zl).get(nv(a));return await i.done,s}catch(e){if(e instanceof Sa)Mi.warn(e.message);else{const i=dr.create("idb-get",{originalErrorMessage:e?.message});Mi.warn(i.message)}}}async function Ny(a,e){try{const s=(await ev()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,nv(a)),await s.done}catch(i){if(i instanceof Sa)Mi.warn(i.message);else{const s=dr.create("idb-set",{originalErrorMessage:i?.message});Mi.warn(s.message)}}}function nv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=1024,r2=30;class s2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new l2(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Iy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>r2){const o=o2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Mi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Iy(),{heartbeatsToSend:i,unsentEntries:s}=a2(this._heartbeatsCache.heartbeats),o=Yu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Mi.warn(e),""}}}function Iy(){return new Date().toISOString().substring(0,10)}function a2(a,e=i2){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Vy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Vy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class l2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YE()?KE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await n2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ny(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ny(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Vy(a){return Yu(JSON.stringify({version:2,heartbeats:a})).length}function o2(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(a){Zu(new Xl("platform-logger",e=>new yT(e),"PRIVATE")),Zu(new Xl("heartbeat",e=>new s2(e),"PRIVATE")),ha(Gf,Cy,a),ha(Gf,Cy,"esm2020"),ha("fire-js","")}u2("");var c2="firebase",h2="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ha(c2,h2,"app");var My=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mr,iv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function b(){}b.prototype=S.prototype,x.D=S.prototype,x.prototype=new b,x.prototype.constructor=x,x.C=function(M,O,L){for(var w=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)w[xe-2]=arguments[xe];return S.prototype[O].apply(M,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,b){b||(b=0);var M=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)M[O]=S.charCodeAt(b++)|S.charCodeAt(b++)<<8|S.charCodeAt(b++)<<16|S.charCodeAt(b++)<<24;else for(O=0;16>O;++O)M[O]=S[b++]|S[b++]<<8|S[b++]<<16|S[b++]<<24;S=x.g[0],b=x.g[1],O=x.g[2];var L=x.g[3],w=S+(L^b&(O^L))+M[0]+3614090360&4294967295;S=b+(w<<7&4294967295|w>>>25),w=L+(O^S&(b^O))+M[1]+3905402710&4294967295,L=S+(w<<12&4294967295|w>>>20),w=O+(b^L&(S^b))+M[2]+606105819&4294967295,O=L+(w<<17&4294967295|w>>>15),w=b+(S^O&(L^S))+M[3]+3250441966&4294967295,b=O+(w<<22&4294967295|w>>>10),w=S+(L^b&(O^L))+M[4]+4118548399&4294967295,S=b+(w<<7&4294967295|w>>>25),w=L+(O^S&(b^O))+M[5]+1200080426&4294967295,L=S+(w<<12&4294967295|w>>>20),w=O+(b^L&(S^b))+M[6]+2821735955&4294967295,O=L+(w<<17&4294967295|w>>>15),w=b+(S^O&(L^S))+M[7]+4249261313&4294967295,b=O+(w<<22&4294967295|w>>>10),w=S+(L^b&(O^L))+M[8]+1770035416&4294967295,S=b+(w<<7&4294967295|w>>>25),w=L+(O^S&(b^O))+M[9]+2336552879&4294967295,L=S+(w<<12&4294967295|w>>>20),w=O+(b^L&(S^b))+M[10]+4294925233&4294967295,O=L+(w<<17&4294967295|w>>>15),w=b+(S^O&(L^S))+M[11]+2304563134&4294967295,b=O+(w<<22&4294967295|w>>>10),w=S+(L^b&(O^L))+M[12]+1804603682&4294967295,S=b+(w<<7&4294967295|w>>>25),w=L+(O^S&(b^O))+M[13]+4254626195&4294967295,L=S+(w<<12&4294967295|w>>>20),w=O+(b^L&(S^b))+M[14]+2792965006&4294967295,O=L+(w<<17&4294967295|w>>>15),w=b+(S^O&(L^S))+M[15]+1236535329&4294967295,b=O+(w<<22&4294967295|w>>>10),w=S+(O^L&(b^O))+M[1]+4129170786&4294967295,S=b+(w<<5&4294967295|w>>>27),w=L+(b^O&(S^b))+M[6]+3225465664&4294967295,L=S+(w<<9&4294967295|w>>>23),w=O+(S^b&(L^S))+M[11]+643717713&4294967295,O=L+(w<<14&4294967295|w>>>18),w=b+(L^S&(O^L))+M[0]+3921069994&4294967295,b=O+(w<<20&4294967295|w>>>12),w=S+(O^L&(b^O))+M[5]+3593408605&4294967295,S=b+(w<<5&4294967295|w>>>27),w=L+(b^O&(S^b))+M[10]+38016083&4294967295,L=S+(w<<9&4294967295|w>>>23),w=O+(S^b&(L^S))+M[15]+3634488961&4294967295,O=L+(w<<14&4294967295|w>>>18),w=b+(L^S&(O^L))+M[4]+3889429448&4294967295,b=O+(w<<20&4294967295|w>>>12),w=S+(O^L&(b^O))+M[9]+568446438&4294967295,S=b+(w<<5&4294967295|w>>>27),w=L+(b^O&(S^b))+M[14]+3275163606&4294967295,L=S+(w<<9&4294967295|w>>>23),w=O+(S^b&(L^S))+M[3]+4107603335&4294967295,O=L+(w<<14&4294967295|w>>>18),w=b+(L^S&(O^L))+M[8]+1163531501&4294967295,b=O+(w<<20&4294967295|w>>>12),w=S+(O^L&(b^O))+M[13]+2850285829&4294967295,S=b+(w<<5&4294967295|w>>>27),w=L+(b^O&(S^b))+M[2]+4243563512&4294967295,L=S+(w<<9&4294967295|w>>>23),w=O+(S^b&(L^S))+M[7]+1735328473&4294967295,O=L+(w<<14&4294967295|w>>>18),w=b+(L^S&(O^L))+M[12]+2368359562&4294967295,b=O+(w<<20&4294967295|w>>>12),w=S+(b^O^L)+M[5]+4294588738&4294967295,S=b+(w<<4&4294967295|w>>>28),w=L+(S^b^O)+M[8]+2272392833&4294967295,L=S+(w<<11&4294967295|w>>>21),w=O+(L^S^b)+M[11]+1839030562&4294967295,O=L+(w<<16&4294967295|w>>>16),w=b+(O^L^S)+M[14]+4259657740&4294967295,b=O+(w<<23&4294967295|w>>>9),w=S+(b^O^L)+M[1]+2763975236&4294967295,S=b+(w<<4&4294967295|w>>>28),w=L+(S^b^O)+M[4]+1272893353&4294967295,L=S+(w<<11&4294967295|w>>>21),w=O+(L^S^b)+M[7]+4139469664&4294967295,O=L+(w<<16&4294967295|w>>>16),w=b+(O^L^S)+M[10]+3200236656&4294967295,b=O+(w<<23&4294967295|w>>>9),w=S+(b^O^L)+M[13]+681279174&4294967295,S=b+(w<<4&4294967295|w>>>28),w=L+(S^b^O)+M[0]+3936430074&4294967295,L=S+(w<<11&4294967295|w>>>21),w=O+(L^S^b)+M[3]+3572445317&4294967295,O=L+(w<<16&4294967295|w>>>16),w=b+(O^L^S)+M[6]+76029189&4294967295,b=O+(w<<23&4294967295|w>>>9),w=S+(b^O^L)+M[9]+3654602809&4294967295,S=b+(w<<4&4294967295|w>>>28),w=L+(S^b^O)+M[12]+3873151461&4294967295,L=S+(w<<11&4294967295|w>>>21),w=O+(L^S^b)+M[15]+530742520&4294967295,O=L+(w<<16&4294967295|w>>>16),w=b+(O^L^S)+M[2]+3299628645&4294967295,b=O+(w<<23&4294967295|w>>>9),w=S+(O^(b|~L))+M[0]+4096336452&4294967295,S=b+(w<<6&4294967295|w>>>26),w=L+(b^(S|~O))+M[7]+1126891415&4294967295,L=S+(w<<10&4294967295|w>>>22),w=O+(S^(L|~b))+M[14]+2878612391&4294967295,O=L+(w<<15&4294967295|w>>>17),w=b+(L^(O|~S))+M[5]+4237533241&4294967295,b=O+(w<<21&4294967295|w>>>11),w=S+(O^(b|~L))+M[12]+1700485571&4294967295,S=b+(w<<6&4294967295|w>>>26),w=L+(b^(S|~O))+M[3]+2399980690&4294967295,L=S+(w<<10&4294967295|w>>>22),w=O+(S^(L|~b))+M[10]+4293915773&4294967295,O=L+(w<<15&4294967295|w>>>17),w=b+(L^(O|~S))+M[1]+2240044497&4294967295,b=O+(w<<21&4294967295|w>>>11),w=S+(O^(b|~L))+M[8]+1873313359&4294967295,S=b+(w<<6&4294967295|w>>>26),w=L+(b^(S|~O))+M[15]+4264355552&4294967295,L=S+(w<<10&4294967295|w>>>22),w=O+(S^(L|~b))+M[6]+2734768916&4294967295,O=L+(w<<15&4294967295|w>>>17),w=b+(L^(O|~S))+M[13]+1309151649&4294967295,b=O+(w<<21&4294967295|w>>>11),w=S+(O^(b|~L))+M[4]+4149444226&4294967295,S=b+(w<<6&4294967295|w>>>26),w=L+(b^(S|~O))+M[11]+3174756917&4294967295,L=S+(w<<10&4294967295|w>>>22),w=O+(S^(L|~b))+M[2]+718787259&4294967295,O=L+(w<<15&4294967295|w>>>17),w=b+(L^(O|~S))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+L&4294967295}s.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var b=S-this.blockSize,M=this.B,O=this.h,L=0;L<S;){if(O==0)for(;L<=b;)o(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<S;)if(M[O++]=x.charCodeAt(L++),O==this.blockSize){o(this,M),O=0;break}}else for(;L<S;)if(M[O++]=x[L++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=S},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var b=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=b&255,b/=256;for(this.u(x),x=Array(16),S=b=0;4>S;++S)for(var M=0;32>M;M+=8)x[b++]=this.g[S]>>>M&255;return x};function h(x,S){var b=g;return Object.prototype.hasOwnProperty.call(b,x)?b[x]:b[x]=S(x)}function d(x,S){this.h=S;for(var b=[],M=!0,O=x.length-1;0<=O;O--){var L=x[O]|0;M&&L==S||(b[O]=L,M=!1)}this.g=b}var g={};function _(x){return-128<=x&&128>x?h(x,function(S){return new d([S|0],0>S?-1:0)}):new d([x|0],0>x?-1:0)}function v(x){if(isNaN(x)||!isFinite(x))return C;if(0>x)return J(v(-x));for(var S=[],b=1,M=0;x>=b;M++)S[M]=x/b|0,b*=4294967296;return new d(S,0)}function A(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return J(A(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=v(Math.pow(S,8)),M=C,O=0;O<x.length;O+=8){var L=Math.min(8,x.length-O),w=parseInt(x.substring(O,O+L),S);8>L?(L=v(Math.pow(S,L)),M=M.j(L).add(v(w))):(M=M.j(b),M=M.add(v(w)))}return M}var C=_(0),D=_(1),F=_(16777216);a=d.prototype,a.m=function(){if(it(this))return-J(this).m();for(var x=0,S=1,b=0;b<this.g.length;b++){var M=this.i(b);x+=(0<=M?M:4294967296+M)*S,S*=4294967296}return x},a.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if($(this))return"0";if(it(this))return"-"+J(this).toString(x);for(var S=v(Math.pow(x,6)),b=this,M="";;){var O=It(b,S).g;b=mt(b,O.j(S));var L=((0<b.g.length?b.g[0]:b.h)>>>0).toString(x);if(b=O,$(b))return L+M;for(;6>L.length;)L="0"+L;M=L+M}},a.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function $(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function it(x){return x.h==-1}a.l=function(x){return x=mt(this,x),it(x)?-1:$(x)?0:1};function J(x){for(var S=x.g.length,b=[],M=0;M<S;M++)b[M]=~x.g[M];return new d(b,~x.h).add(D)}a.abs=function(){return it(this)?J(this):this},a.add=function(x){for(var S=Math.max(this.g.length,x.g.length),b=[],M=0,O=0;O<=S;O++){var L=M+(this.i(O)&65535)+(x.i(O)&65535),w=(L>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);M=w>>>16,L&=65535,w&=65535,b[O]=w<<16|L}return new d(b,b[b.length-1]&-2147483648?-1:0)};function mt(x,S){return x.add(J(S))}a.j=function(x){if($(this)||$(x))return C;if(it(this))return it(x)?J(this).j(J(x)):J(J(this).j(x));if(it(x))return J(this.j(J(x)));if(0>this.l(F)&&0>x.l(F))return v(this.m()*x.m());for(var S=this.g.length+x.g.length,b=[],M=0;M<2*S;M++)b[M]=0;for(M=0;M<this.g.length;M++)for(var O=0;O<x.g.length;O++){var L=this.i(M)>>>16,w=this.i(M)&65535,xe=x.i(O)>>>16,re=x.i(O)&65535;b[2*M+2*O]+=w*re,ot(b,2*M+2*O),b[2*M+2*O+1]+=L*re,ot(b,2*M+2*O+1),b[2*M+2*O+1]+=w*xe,ot(b,2*M+2*O+1),b[2*M+2*O+2]+=L*xe,ot(b,2*M+2*O+2)}for(M=0;M<S;M++)b[M]=b[2*M+1]<<16|b[2*M];for(M=S;M<2*S;M++)b[M]=0;return new d(b,0)};function ot(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function ft(x,S){this.g=x,this.h=S}function It(x,S){if($(S))throw Error("division by zero");if($(x))return new ft(C,C);if(it(x))return S=It(J(x),S),new ft(J(S.g),J(S.h));if(it(S))return S=It(x,J(S)),new ft(J(S.g),S.h);if(30<x.g.length){if(it(x)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var b=D,M=S;0>=M.l(x);)b=_t(b),M=_t(M);var O=Dt(b,1),L=Dt(M,1);for(M=Dt(M,2),b=Dt(b,2);!$(M);){var w=L.add(M);0>=w.l(x)&&(O=O.add(b),L=w),M=Dt(M,1),b=Dt(b,1)}return S=mt(x,O.j(S)),new ft(O,S)}for(O=C;0<=x.l(S);){for(b=Math.max(1,Math.floor(x.m()/S.m())),M=Math.ceil(Math.log(b)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),L=v(b),w=L.j(S);it(w)||0<w.l(x);)b-=M,L=v(b),w=L.j(S);$(L)&&(L=D),O=O.add(L),x=mt(x,w)}return new ft(O,x)}a.A=function(x){return It(this,x).h},a.and=function(x){for(var S=Math.max(this.g.length,x.g.length),b=[],M=0;M<S;M++)b[M]=this.i(M)&x.i(M);return new d(b,this.h&x.h)},a.or=function(x){for(var S=Math.max(this.g.length,x.g.length),b=[],M=0;M<S;M++)b[M]=this.i(M)|x.i(M);return new d(b,this.h|x.h)},a.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),b=[],M=0;M<S;M++)b[M]=this.i(M)^x.i(M);return new d(b,this.h^x.h)};function _t(x){for(var S=x.g.length+1,b=[],M=0;M<S;M++)b[M]=x.i(M)<<1|x.i(M-1)>>>31;return new d(b,x.h)}function Dt(x,S){var b=S>>5;S%=32;for(var M=x.g.length-b,O=[],L=0;L<M;L++)O[L]=0<S?x.i(L+b)>>>S|x.i(L+b+1)<<32-S:x.i(L+b);return new d(O,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,iv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,mr=d}).apply(typeof My<"u"?My:typeof self<"u"?self:typeof window<"u"?window:{});var Mu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rv,Pl,sv,Pu,Yf,av,lv,ov;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mu=="object"&&Mu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var z=u[T];if(!(z in p))break t;p=p[z]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,z={next:function(){if(!T&&p<u.length){var k=p++;return{value:m(k,u[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function C(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,T),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function D(u,m,p){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:C,D.apply(null,arguments)}function F(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function $(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,z,k){for(var tt=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)tt[Vt-2]=arguments[Vt];return m.prototype[z].apply(T,tt)}}function it(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function J(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const z=u.length||0,k=T.length||0;u.length=z+k;for(let tt=0;tt<k;tt++)u[z+tt]=T[tt]}else u.push(T)}}class mt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ot(u){return/^[\s\xa0]*$/.test(u)}function ft(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function It(u){return It[" "](u),u}It[" "]=function(){};var _t=ft().indexOf("Gecko")!=-1&&!(ft().toLowerCase().indexOf("webkit")!=-1&&ft().indexOf("Edge")==-1)&&!(ft().indexOf("Trident")!=-1||ft().indexOf("MSIE")!=-1)&&ft().indexOf("Edge")==-1;function Dt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function x(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,m){let p,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(p in T)u[p]=T[p];for(let k=0;k<b.length;k++)p=b[k],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function O(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function L(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Bt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class xe{constructor(){this.h=this.g=null}add(m,p){const T=re.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new mt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ct=!1,Bt=new xe,N=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(X)}};var X=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){L(p)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ct=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function bt(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(_t){t:{try{It(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&bt.aa.h.call(this)}}$(bt,W);var vt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function xn(u,m,p,T,z){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=z,this.key=++Zt,this.da=this.fa=!1}function Ui(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function si(u){this.src=u,this.g={},this.h=0}si.prototype.add=function(u,m,p,T,z){var k=u.toString();u=this.g[k],u||(u=this.g[k]=[],this.h++);var tt=Rr(u,m,T,z);return-1<tt?(m=u[tt],p||(m.fa=!1)):(m=new xn(m,this.src,k,!!T,z),m.fa=p,u.push(m)),m};function br(u,m){var p=m.type;if(p in u.g){var T=u.g[p],z=Array.prototype.indexOf.call(T,m,void 0),k;(k=0<=z)&&Array.prototype.splice.call(T,z,1),k&&(Ui(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Rr(u,m,p,T){for(var z=0;z<u.length;++z){var k=u[z];if(!k.da&&k.listener==m&&k.capture==!!p&&k.ha==T)return z}return-1}var wr="closure_lm_"+(1e6*Math.random()|0),Na={};function lo(u,m,p,T,z){if(Array.isArray(m)){for(var k=0;k<m.length;k++)lo(u,m[k],p,T,z);return null}return p=oo(p),u&&u[Ce]?u.K(m,p,v(T)?!!T.capture:!1,z):dn(u,m,p,!1,T,z)}function dn(u,m,p,T,z,k){if(!m)throw Error("Invalid event type");var tt=v(z)?!!z.capture:!!z,Vt=gs(u);if(Vt||(u[wr]=Vt=new si(u)),p=Vt.add(m,p,T,tt,k),p.proxy)return p;if(T=Sc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)dt||(z=tt),z===void 0&&(z=!1),u.addEventListener(m.toString(),T,z);else if(u.attachEvent)u.attachEvent(Cr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Sc(){function u(p){return m.call(u.src,u.listener,p)}const m=bc;return u}function Ia(u,m,p,T,z){if(Array.isArray(m))for(var k=0;k<m.length;k++)Ia(u,m[k],p,T,z);else T=v(T)?!!T.capture:!!T,p=oo(p),u&&u[Ce]?(u=u.i,m=String(m).toString(),m in u.g&&(k=u.g[m],p=Rr(k,p,T,z),-1<p&&(Ui(k[p]),Array.prototype.splice.call(k,p,1),k.length==0&&(delete u.g[m],u.h--)))):u&&(u=gs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Rr(m,p,T,z)),(p=-1<u?m[u]:null)&&ms(p))}function ms(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])br(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Cr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=gs(m))?(br(p,u),p.h==0&&(p.src=null,m[wr]=null)):Ui(u)}}}function Cr(u){return u in Na?Na[u]:Na[u]="on"+u}function bc(u,m){if(u.da)u=!0;else{m=new bt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&ms(u),u=p.call(T,m)}return u}function gs(u){return u=u[wr],u instanceof si?u:null}var Va="__closure_events_fn_"+(1e9*Math.random()>>>0);function oo(u){return typeof u=="function"?u:(u[Va]||(u[Va]=function(m){return u.handleEvent(m)}),u[Va])}function se(){nt.call(this),this.i=new si(this),this.M=this,this.F=null}$(se,nt),se.prototype[Ce]=!0,se.prototype.removeEventListener=function(u,m,p,T){Ia(this,u,m,p,T)};function kt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var z=m;m=new W(T,u),M(m,z)}if(z=!0,p)for(var k=p.length-1;0<=k;k--){var tt=m.g=p[k];z=rn(tt,T,!0,m)&&z}if(tt=m.g=u,z=rn(tt,T,!0,m)&&z,z=rn(tt,T,!1,m)&&z,p)for(k=0;k<p.length;k++)tt=m.g=p[k],z=rn(tt,T,!1,m)&&z}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Ui(p[T]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},se.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function rn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,k=0;k<m.length;++k){var tt=m[k];if(tt&&!tt.da&&tt.capture==p){var Vt=tt.listener,Ae=tt.ha||tt.src;tt.fa&&br(u.i,tt),z=Vt.call(Ae,T)!==!1&&z}}return z&&!T.defaultPrevented}function ke(u,m,p){if(typeof u=="function")p&&(u=D(u,p));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function uo(u){u.g=ke(()=>{u.g=null,u.i&&(u.i=!1,uo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Rc extends nt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:uo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(u){nt.call(this),this.h=u,this.g={}}$(Dr,nt);var Nr=[];function Ir(u){Dt(u.g,function(m,p){this.g.hasOwnProperty(p)&&ms(m)},u),u.g={}}Dr.prototype.N=function(){Dr.aa.N.call(this),Ir(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=g.JSON.stringify,ps=g.JSON.parse,Vr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ma(){}Ma.prototype.h=null;function Oa(u){return u.h||(u.h=u.i())}function xa(){}var ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function li(){W.call(this,"d")}$(li,W);function Ua(){W.call(this,"c")}$(Ua,W);var Un={},La=null;function Li(){return La=La||new se}Un.La="serverreachability";function ys(u){W.call(this,Un.La,u)}$(ys,W);function zi(u){const m=Li();kt(m,new ys(m))}Un.STAT_EVENT="statevent";function co(u,m){W.call(this,Un.STAT_EVENT,u),this.stat=m}$(co,W);function Wt(u){const m=Li();kt(m,new co(m,u))}Un.Ma="timingevent";function Te(u,m){W.call(this,Un.Ma,u),this.size=m}$(Te,W);function de(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function mn(){this.g=!0}mn.prototype.xa=function(){this.g=!1};function za(u,m,p,T,z,k){u.info(function(){if(u.g)if(k)for(var tt="",Vt=k.split("&"),Ae=0;Ae<Vt.length;Ae++){var Mt=Vt[Ae].split("=");if(1<Mt.length){var Ne=Mt[0];Mt=Mt[1];var Se=Ne.split("_");tt=2<=Se.length&&Se[1]=="type"?tt+(Ne+"="+Mt+"&"):tt+(Ne+"=redacted&")}}else tt=null;else tt=k;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+p+`
`+tt})}function wc(u,m,p,T,z,k,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+p+`
`+k+" "+tt})}function ji(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mr(u,p)+(T?" "+T:"")})}function ho(u,m){u.info(function(){return"TIMEOUT: "+m})}mn.prototype.info=function(){};function Mr(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var z=T[1];if(Array.isArray(z)&&!(1>z.length)){var k=z[0];if(k!="noop"&&k!="stop"&&k!="close")for(var tt=1;tt<z.length;tt++)z[tt]=""}}}}return Cn(p)}catch{return m}}var Bi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function zn(){}$(zn,Ma),zn.prototype.g=function(){return new XMLHttpRequest},zn.prototype.i=function(){return{}},Ln=new zn;function Xe(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Dr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oe}function oe(){this.i=null,this.g="",this.h=!1}var ja={},_s={};function Dn(u,m,p){u.L=1,u.v=zr(sn(m)),u.m=p,u.P=!0,ui(u,null)}function ui(u,m){u.F=Date.now(),Or(u),u.A=sn(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ga(p.i,"t",T),u.C=0,p=u.j.J,u.h=new oe,u.g=Do(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Rc(D(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(Nr[0]=z.toString()),z=Nr);for(var k=0;k<z.length;k++){var tt=lo(p,z[k],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),zi(),za(u.i,u.u,u.A,u.l,u.R,u.m)}Xe.prototype.ca=function(u){u=u.target;const m=this.M;m&&_n(u)==3?m.j():this.Y(u)},Xe.prototype.Y=function(u){try{if(u==this.g)t:{const Se=_n(this.g);var m=this.g.Ba();const yi=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||Eo(this.g)))){this.J||Se!=4||m==7||(m==8||0>=yi?zi(3):zi(2)),Pi(this);var p=this.g.Z();this.X=p;e:if(fo(this)){var T=Eo(this.g);u="";var z=T.length,k=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),jn(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(k&&m==z-1)});T.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=p==200,wc(this.i,this.u,this.A,this.l,this.R,Se,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,Ae=this.g;if((Vt=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(Vt)){var Mt=Vt;break e}}Mt=null}if(p=Mt)ji(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xr(this,p);else{this.o=!1,this.s=3,Wt(12),Ue(this),jn(this);break t}}if(this.P){p=!0;let Le;for(;!this.J&&this.C<tt.length;)if(Le=mo(this,tt),Le==_s){Se==4&&(this.s=4,Wt(14),p=!1),ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==ja){this.s=4,Wt(15),ji(this.i,this.l,tt,"[Invalid Chunk]"),p=!1;break}else ji(this.i,this.l,Le,null),xr(this,Le);if(fo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||tt.length!=0||this.h.h||(this.s=1,Wt(16),p=!1),this.o=this.o&&p,!p)ji(this.i,this.l,tt,"[Invalid Chunked Response]"),Ue(this),jn(this);else if(0<tt.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),Fr(Ne),Ne.M=!0,Wt(11))}}else ji(this.i,this.l,tt,null),xr(this,tt);Se==4&&Ue(this),this.o&&!this.J&&(Se==4?Ro(this.j,this):(this.o=!1,Or(this)))}else Vc(this.g),p==400&&0<tt.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Ue(this),jn(this)}}}catch{}finally{}};function fo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function mo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?_s:(p=Number(m.substring(p,T)),isNaN(p)?ja:(T+=1,T+p>m.length?_s:(m=m.slice(T,T+p),u.C=T+p,m)))}Xe.prototype.cancel=function(){this.J=!0,Ue(this)};function Or(u){u.S=Date.now()+u.I,go(u,u.I)}function go(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(D(u.ba,u),m)}function Pi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Xe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ho(this.i,this.A),this.L!=2&&(zi(),Wt(17)),Ue(this),this.s=2,jn(this)):go(this,this.S-u)};function jn(u){u.j.G==0||u.J||Ro(u.j,u)}function Ue(u){Pi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ir(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function xr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Ba(p.h,u))){if(!u.K&&Ba(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Is(p),Ds(p);else break t;Xa(p),Wt(18)}}else p.za=z[1],0<p.za-p.T&&37500>z[2]&&p.F&&p.v==0&&!p.C&&(p.C=de(D(p.Za,p),6e3));if(1>=Es(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else pi(p,11)}else if((u.K||p.g==u)&&Is(p),!ot(m))for(z=p.Da.g.parse(m),m=0;m<z.length;m++){let Mt=z[m];if(p.T=Mt[0],Mt=Mt[1],p.G==2)if(Mt[0]=="c"){p.K=Mt[1],p.ia=Mt[2];const Ne=Mt[3];Ne!=null&&(p.la=Ne,p.j.info("VER="+p.la));const Se=Mt[4];Se!=null&&(p.Aa=Se,p.j.info("SVER="+p.Aa));const yi=Mt[5];yi!=null&&typeof yi=="number"&&0<yi&&(T=1.5*yi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Le=u.g;if(Le){const Fn=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fn){var k=T.h;k.g||Fn.indexOf("spdy")==-1&&Fn.indexOf("quic")==-1&&Fn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Ts(k,k.h),k.h=null))}if(T.D){const $a=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;$a&&(T.ya=$a,Ft(T.I,T.D,$a))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var tt=u;if(T.qa=Co(T,T.J?T.ia:null,T.W),tt.K){Ze(T.h,tt);var Vt=tt,Ae=T.L;Ae&&(Vt.I=Ae),Vt.B&&(Pi(Vt),Or(Vt)),T.g=tt}else So(T);0<p.i.length&&Ns(p)}else Mt[0]!="stop"&&Mt[0]!="close"||pi(p,7);else p.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?pi(p,7):Ya(p):Mt[0]!="noop"&&p.l&&p.l.ta(Mt),p.v=0)}}zi(4)}catch{}}var po=class{constructor(u,m){this.g=u,this.map=m}};function ci(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Es(u){return u.h?1:u.g?u.g.size:0}function Ba(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ts(u,m){u.g?u.g.add(m):u.h=m}function Ze(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ci.prototype.cancel=function(){if(this.i=Pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Pa(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return it(u.i)}function Cc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function As(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function qa(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=As(u),T=Cc(u),z=T.length,k=0;k<z;k++)m.call(void 0,T[k],p&&p[k],u)}var Ur=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),z=null;if(0<=T){var k=u[p].substring(0,T);z=u[p].substring(T+1)}else k=u[p];m(k,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,Lr(this,u.j),this.o=u.o,this.g=u.g,qi(this,u.s),this.l=u.l;var m=u.i,p=new fi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),hi(this,p),this.m=u.m}else u&&(m=String(u).match(Ur))?(this.h=!1,Lr(this,m[1]||"",!0),this.o=gn(m[2]||""),this.g=gn(m[3]||"",!0),qi(this,m[4]),this.l=gn(m[5]||"",!0),hi(this,m[6]||"",!0),this.m=gn(m[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}me.prototype.toString=function(){var u=[],m=this.j;m&&u.push(jr(m,ka,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(jr(m,ka,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(jr(p,p.charAt(0)=="/"?Nc:Ha,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",jr(p,Ss)),u.join("")};function sn(u){return new me(u)}function Lr(u,m,p){u.j=p?gn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function qi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function hi(u,m,p){m instanceof fi?(u.i=m,_o(u.i,u.h)):(p||(m=jr(m,Ic)),u.i=new fi(m,u.h))}function Ft(u,m,p){u.i.set(m,p)}function zr(u){return Ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function gn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function jr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,yo),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ka=/[#\/\?@]/g,Ha=/[#\?:]/g,Nc=/[#\?]/g,Ic=/[#\?@]/g,Ss=/#/g;function fi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&Dc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=fi.prototype,a.add=function(u,m){pn(this),this.i=null,u=Bn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function di(u,m){pn(u),m=Bn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function mi(u,m){return pn(u),m=Bn(u,m),u.g.has(m)}a.forEach=function(u,m){pn(this),this.g.forEach(function(p,T){p.forEach(function(z){u.call(m,z,T,this)},this)},this)},a.na=function(){pn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const z=u[T];for(let k=0;k<z.length;k++)p.push(m[T])}return p},a.V=function(u){pn(this);let m=[];if(typeof u=="string")mi(this,u)&&(m=m.concat(this.g.get(Bn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},a.set=function(u,m){return pn(this),this.i=null,u=Bn(this,u),mi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ga(u,m,p){di(u,m),0<p.length&&(u.i=null,u.g.set(Bn(u,m),it(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const k=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var z=k;tt[T]!==""&&(z+="="+encodeURIComponent(String(tt[T]))),u.push(z)}}return this.i=u.join("&")};function Bn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function _o(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(p,T){var z=T.toLowerCase();T!=z&&(di(this,T),Ga(this,z,p))},u)),u.j=m}function Br(u,m){const p=new mn;if(g.Image){const T=new Image;T.onload=F(yn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=F(yn,p,"TestLoadImage: error",!1,m,T),T.onabort=F(yn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=F(yn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Nn(u,m){const p=new mn,T=new AbortController,z=setTimeout(()=>{T.abort(),yn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(k=>{clearTimeout(z),k.ok?yn(p,"TestPingServer: ok",!0,m):yn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),yn(p,"TestPingServer: error",!1,m)})}function yn(u,m,p,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(p)}catch{}}function Pr(){this.g=new Vr}function Pn(u,m,p){const T=p||"";try{qa(u,function(z,k){let tt=z;v(z)&&(tt=Cn(z)),m.push(T+k+"="+encodeURIComponent(tt))})}catch(z){throw m.push(T+"type="+encodeURIComponent("_badmap")),z}}function ki(u){this.l=u.Ub||null,this.j=u.eb||!1}$(ki,Ma),ki.prototype.g=function(){return new gi(this.l,this.j)},ki.prototype.i=function(u){return function(){return u}}({});function gi(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(gi,se),a=gi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,kn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fa(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fa(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?qn(this):kn(this),this.readyState==3&&Fa(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,qn(this))},a.Qa=function(u){this.g&&(this.response=u,qn(this))},a.ga=function(){this.g&&qn(this)};function qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,kn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qa(u){let m="";return Dt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function De(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Qa(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Ft(u,m,p))}function qt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(qt,se);var bs=/^https?$/i,qr=["POST","PUT"];a=qt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?Oa(this.o):Oa(Ln),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(k){vo(this,k);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)p.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())p.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(k=>k.toLowerCase()=="content-type"),z=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(qr,m,void 0))||T||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,tt]of p)this.g.setRequestHeader(k,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kr(this),this.u=!0,this.g.send(u),this.u=!1}catch(k){vo(this,k)}};function vo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Rs(u),Hn(u)}function Rs(u){u.A||(u.A=!0,kt(u,"complete"),kt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,kt(this,"complete"),kt(this,"abort"),Hn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hn(this,!0)),qt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?ws(this):this.bb())},a.bb=function(){ws(this)};function ws(u){if(u.h&&typeof d<"u"&&(!u.v[1]||_n(u)!=4||u.Z()!=2)){if(u.u&&_n(u)==4)ke(u.Ea,0,u);else if(kt(u,"readystatechange"),_n(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=tt===0){var z=String(u.D).match(Ur)[1]||null;!z&&g.self&&g.self.location&&(z=g.self.location.protocol.slice(0,-1)),T=!bs.test(z?z.toLowerCase():"")}p=T}if(p)kt(u,"complete"),kt(u,"success");else{u.m=6;try{var k=2<_n(u)?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.Z()+"]",Rs(u)}}finally{Hn(u)}}}}function Hn(u,m){if(u.g){kr(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||kt(u,"ready");try{p.onreadystatechange=T}catch{}}}function kr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function _n(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ps(m)}};function Eo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vc(u){const m={};u=(u.g&&2<=_n(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ot(u[T]))continue;var p=O(u[T]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const k=m[z]||[];m[z]=k,k.push(p)}x(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Cs(u){this.Aa=0,this.i=[],this.j=new mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hr("baseRetryDelayMs",5e3,u),this.cb=Hr("retryDelaySeedMs",1e4,u),this.Wa=Hr("forwardChannelMaxRetries",2,u),this.wa=Hr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ci(u&&u.concurrentRequestLimit),this.Da=new Pr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Cs.prototype,a.la=8,a.G=1,a.connect=function(u,m,p,T){Wt(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Co(this,null,this.W),Ns(this)};function Ya(u){if(To(u),u.G==3){var m=u.U++,p=sn(u.I);if(Ft(p,"SID",u.K),Ft(p,"RID",m),Ft(p,"TYPE","terminate"),Gr(u,p),m=new Xe(u,u.j,m),m.L=2,m.v=zr(sn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Do(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Or(m)}wo(u)}function Ds(u){u.g&&(Fr(u),u.g.cancel(),u.g=null)}function To(u){Ds(u),u.u&&(g.clearTimeout(u.u),u.u=null),Is(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ns(u){if(!vs(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||N(),ct||(et(),ct=!0),Bt.add(m,u),u.B=0}}function Mc(u,m){return Es(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(D(u.Ga,u,m),Za(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new Xe(this,this.j,u);let k=this.o;if(this.S&&(k?(k=S(k),M(k,this.S)):k=this.S),this.m!==null||this.O||(z.H=k,k=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Ao(this,z,m),p=sn(this.I),Ft(p,"RID",u),Ft(p,"CVER",22),this.D&&Ft(p,"X-HTTP-Session-Id",this.D),Gr(this,p),k&&(this.O?m="headers="+encodeURIComponent(String(Qa(k)))+"&"+m:this.m&&De(p,this.m,k)),Ts(this.h,z),this.Ua&&Ft(p,"TYPE","init"),this.P?(Ft(p,"$req",m),Ft(p,"SID","null"),z.T=!0,Dn(z,p,null)):Dn(z,p,m),this.G=2}}else this.G==3&&(u?Ka(this,u):this.i.length==0||vs(this.h)||Ka(this))};function Ka(u,m){var p;m?p=m.l:p=u.U++;const T=sn(u.I);Ft(T,"SID",u.K),Ft(T,"RID",p),Ft(T,"AID",u.T),Gr(u,T),u.m&&u.o&&De(T,u.m,u.o),p=new Xe(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ao(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ts(u.h,p),Dn(p,T,m)}function Gr(u,m){u.H&&Dt(u.H,function(p,T){Ft(m,T,p)}),u.l&&qa({},function(p,T){Ft(m,T,p)})}function Ao(u,m,p){p=Math.min(u.i.length,p);var T=u.l?D(u.l.Na,u.l,u):null;t:{var z=u.i;let k=-1;for(;;){const tt=["count="+p];k==-1?0<p?(k=z[0].g,tt.push("ofs="+k)):k=0:tt.push("ofs="+k);let Vt=!0;for(let Ae=0;Ae<p;Ae++){let Mt=z[Ae].g;const Ne=z[Ae].map;if(Mt-=k,0>Mt)k=Math.max(0,z[Ae].g-100),Vt=!1;else try{Pn(Ne,tt,"req"+Mt+"_")}catch{T&&T(Ne)}}if(Vt){T=tt.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function So(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||N(),ct||(et(),ct=!0),Bt.add(m,u),u.v=0}}function Xa(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(D(u.Fa,u),Za(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,bo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(D(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Ds(this),bo(this))};function Fr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function bo(u){u.g=new Xe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=sn(u.qa);Ft(m,"RID","rpc"),Ft(m,"SID",u.K),Ft(m,"AID",u.T),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ft(m,"TO",u.ja),Ft(m,"TYPE","xmlhttp"),Gr(u,m),u.m&&u.o&&De(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=zr(sn(m)),p.m=null,p.P=!0,ui(p,u)}a.Za=function(){this.C!=null&&(this.C=null,Ds(this),Xa(this),Wt(19))};function Is(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Ro(u,m){var p=null;if(u.g==m){Is(u),Fr(u),u.g=null;var T=2}else if(Ba(u.h,m))p=m.D,Ze(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;T=Li(),kt(T,new Te(T,p)),Ns(u)}else So(u);else if(z=m.s,z==3||z==0&&0<m.X||!(T==1&&Mc(u,m)||T==2&&Xa(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),z){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function Za(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var p=D(u.fb,u),T=u.Xa;const z=!T;T=new me(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Lr(T,"https"),zr(T),z?Br(T.toString(),p):Nn(T.toString(),p)}else Wt(2);u.G=0,u.l&&u.l.sa(m),wo(u),To(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function wo(u){if(u.G=0,u.ka=[],u.l){const m=Pa(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ka,m),J(u.ka,u.i),u.h.i.length=0,it(u.i),u.i.length=0),u.l.ra()}}function Co(u,m,p){var T=p instanceof me?sn(p):new me(p);if(T.g!="")m&&(T.g=m+"."+T.g),qi(T,T.s);else{var z=g.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var k=new me(null);T&&Lr(k,T),m&&(k.g=m),z&&qi(k,z),p&&(k.l=p),T=k}return p=u.D,m=u.ya,p&&m&&Ft(T,p,m),Ft(T,"VER",u.la),Gr(u,T),T}function Do(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new ki({eb:p})):new qt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function No(){}a=No.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Vs(){}Vs.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){se.call(this),this.g=new Cs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ot(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ot(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Gn(this)}$($e,se),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Ya(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Cn(u),u=p);m.i.push(new po(m.Ya++,u)),m.G==3&&Ns(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Ya(this.g),delete this.g,$e.aa.N.call(this)};function Io(u){li.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}$(Io,li);function Vo(){Ua.call(this),this.status=1}$(Vo,Ua);function Gn(u){this.g=u}$(Gn,No),Gn.prototype.ua=function(){kt(this.g,"a")},Gn.prototype.ta=function(u){kt(this.g,new Io(u))},Gn.prototype.sa=function(u){kt(this.g,new Vo)},Gn.prototype.ra=function(){kt(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,ov=function(){return new Vs},lv=function(){return Li()},av=Un,Yf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,Pu=Bi,oi.COMPLETE="complete",sv=oi,xa.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",se.prototype.listen=se.prototype.K,Pl=xa,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,rv=qt}).apply(typeof Mu<"u"?Mu:typeof self<"u"?self:typeof window<"u"?window:{});const Oy="@firebase/firestore",xy="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new $_("@firebase/firestore");function la(){return fs.logLevel}function st(a,...e){if(fs.logLevel<=Ut.DEBUG){const i=e.map(gd);fs.debug(`Firestore (${ba}): ${a}`,...i)}}function Oi(a,...e){if(fs.logLevel<=Ut.ERROR){const i=e.map(gd);fs.error(`Firestore (${ba}): ${a}`,...i)}}function pa(a,...e){if(fs.logLevel<=Ut.WARN){const i=e.map(gd);fs.warn(`Firestore (${ba}): ${a}`,...i)}}function gd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,uv(a,s,i)}function uv(a,e,i){let s=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Oi(s),new Error(s)}function ie(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||uv(e,o,s)}function Lt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Sa{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class f2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class d2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class m2{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ie(this.o===void 0,42304);let s=this.i;const o=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let h=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new gr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},g=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new gr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ie(typeof s.accessToken=="string",31837,{l:s}),new cv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ie(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}}class g2{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class p2{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new g2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Uy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,XT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ie(this.o===void 0,3512);const s=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Uy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(ie(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Uy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=_2(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Nt(a,e){return a<e?-1:a>e?1:0}function Kf(a,e){const i=Math.min(a.length,e.length);for(let s=0;s<i;s++){const o=a.charAt(s),h=e.charAt(s);if(o!==h)return xf(o)===xf(h)?Nt(o,h):xf(o)?1:-1}return Nt(a.length,e.length)}const v2=55296,E2=57343;function xf(a){const e=a.charCodeAt(0);return e>=v2&&e<=E2}function ya(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="__name__";class $n{constructor(e,i,s){i===void 0?i=0:i>e.length&&Tt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Tt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return $n.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof $n?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=$n.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Nt(e.length,i.length)}static compareSegments(e,i){const s=$n.isNumericId(e),o=$n.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?$n.extractNumericId(e).compare($n.extractNumericId(i)):Kf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mr.fromString(e.substring(4,e.length-2))}}class Jt extends $n{construct(e,i,s){return new Jt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new rt(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Jt(i)}static emptyPath(){return new Jt([])}}const T2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends $n{construct(e,i,s){return new Ke(e,i,s)}static isValidIdentifier(e){return T2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ly}static keyField(){return new Ke([Ly])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new rt(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new rt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new rt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new rt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ke(i)}static emptyPath(){return new Ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(Jt.fromString(e))}static fromName(e){return new ht(Jt.fromString(e).popFirst(5))}static empty(){return new ht(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(a,e,i){if(!i)throw new rt(Z.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function A2(a,e,i,s){if(e===!0&&s===!0)throw new rt(Z.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function zy(a){if(!ht.isDocumentKey(a))throw new rt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function jy(a){if(ht.isDocumentKey(a))throw new rt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function fv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function lc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Tt(12329,{type:typeof a})}function pr(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new rt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=lc(a);throw new rt(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(a,e){const i={typeString:a};return e&&(i.value=e),i}function io(a,e){if(!fv(a))throw new rt(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new rt(Z.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=-62135596800,Py=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(e){return ee.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Py);return new ee(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new rt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<By)throw new rt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Py}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(io(e,ee._jsonSchema))return new ee(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-By;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:ve("string",ee._jsonSchemaVersion),seconds:ve("number"),nanoseconds:ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new ee(0,0))}static max(){return new Et(new ee(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function S2(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new ee(i+1,0):new ee(i,s));return new _r(o,ht.empty(),e)}function b2(a){return new _r(a.readTime,a.key,$l)}class _r{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new _r(Et.min(),ht.empty(),$l)}static max(){return new _r(Et.max(),ht.empty(),$l)}}function R2(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=ht.comparator(a.documentKey,e.documentKey),i!==0?i:Nt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(a){if(a.code!==Z.FAILED_PRECONDITION||a.message!==w2)throw a;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):K.reject(i)}static resolve(e){return new K((i,s)=>{i(e)})}static reject(e){return new K((i,s)=>{s(e)})}static waitFor(e){return new K((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},_=>s(_))}),d=!0,h===o&&i()})}static or(e){let i=K.resolve(!1);for(const s of e)i=i.next(o=>o?K.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new K((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++g,g===h&&s(d)},A=>o(A))}})}static doWhile(e,i){return new K((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function D2(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ra(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}uc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=-1;function cc(a){return a==null}function $u(a){return a===0&&1/a==-1/0}function I2(a){return typeof a=="number"&&Number.isInteger(a)&&!$u(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="";function V2(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=qy(e)),e=M2(a.get(i),e);return qy(e)}function M2(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case dv:i+="";break;default:i+=h}}return i}function qy(a){return a+dv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function wa(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function mv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e,i){this.comparator=e,this.root=i||Pe.EMPTY}insert(e,i){return new fe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Pe.BLACK,null,null))}remove(e){return new fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ou(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ou(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ou(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ou(this.root,e,this.comparator,!0)}}class Ou{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pe{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??Pe.RED,this.left=o??Pe.EMPTY,this.right=h??Pe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new Pe(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Pe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Pe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Tt(27949);return e+(this.isRed()?0:1)}}Pe.EMPTY=null,Pe.RED=!0,Pe.BLACK=!1;Pe.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new Pe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Hy(this.data.getIterator())}getIteratorFrom(e){return new Hy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class Hy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.fields=e,e.sort(Ke.comparator)}static empty(){return new cr([])}unionWith(e){let i=new we(Ke.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new cr(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ya(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new gv("Invalid base64 string: "+h):h}}(e);return new qe(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const O2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(a){if(ie(!!a,39018),typeof a=="string"){let e=0;const i=O2.exec(a);if(ie(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:he(a.seconds),nanos:he(a.nanos)}}function he(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Er(a){return typeof a=="string"?qe.fromBase64String(a):qe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="server_timestamp",yv="__type__",_v="__previous_value__",vv="__local_write_time__";function yd(a){return(a?.mapValue?.fields||{})[yv]?.stringValue===pv}function hc(a){const e=a.mapValue.fields[_v];return yd(e)?hc(e):e}function Jl(a){const e=vr(a.mapValue.fields[vv].timestampValue);return new ee(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,i,s,o,h,d,g,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const Ju="(default)";class Wl{constructor(e,i){this.projectId=e,this.database=i||Ju}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===Ju}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="__type__",U2="__max__",xu={mapValue:{}},Tv="__vector__",Wu="value";function Tr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?yd(a)?4:z2(a)?9007199254740991:L2(a)?10:11:Tt(28295,{value:a})}function ii(a,e){if(a===e)return!0;const i=Tr(a);if(i!==Tr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Jl(a).isEqual(Jl(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=vr(o.timestampValue),g=vr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,h){return Er(o.bytesValue).isEqual(Er(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,h){return he(o.geoPointValue.latitude)===he(h.geoPointValue.latitude)&&he(o.geoPointValue.longitude)===he(h.geoPointValue.longitude)}(a,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return he(o.integerValue)===he(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=he(o.doubleValue),g=he(h.doubleValue);return d===g?$u(d)===$u(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return ya(a.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(ky(d)!==ky(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ii(d[_],g[_])))return!1;return!0}(a,e);default:return Tt(52216,{left:a})}}function to(a,e){return(a.values||[]).find(i=>ii(i,e))!==void 0}function _a(a,e){if(a===e)return 0;const i=Tr(a),s=Tr(e);if(i!==s)return Nt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=he(h.integerValue||h.doubleValue),_=he(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(a,e);case 3:return Gy(a.timestampValue,e.timestampValue);case 4:return Gy(Jl(a),Jl(e));case 5:return Kf(a.stringValue,e.stringValue);case 6:return function(h,d){const g=Er(h),_=Er(d);return g.compareTo(_)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=Nt(g[v],_[v]);if(A!==0)return A}return Nt(g.length,_.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Nt(he(h.latitude),he(d.latitude));return g!==0?g:Nt(he(h.longitude),he(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return Fy(a.arrayValue,e.arrayValue);case 10:return function(h,d){const g=h.fields||{},_=d.fields||{},v=g[Wu]?.arrayValue,A=_[Wu]?.arrayValue,C=Nt(v?.values?.length||0,A?.values?.length||0);return C!==0?C:Fy(v,A)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===xu.mapValue&&d===xu.mapValue)return 0;if(h===xu.mapValue)return 1;if(d===xu.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let C=0;C<_.length&&C<A.length;++C){const D=Kf(_[C],A[C]);if(D!==0)return D;const F=_a(g[_[C]],v[A[C]]);if(F!==0)return F}return Nt(_.length,A.length)}(a.mapValue,e.mapValue);default:throw Tt(23264,{he:i})}}function Gy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Nt(a,e);const i=vr(a),s=vr(e),o=Nt(i.seconds,s.seconds);return o!==0?o:Nt(i.nanos,s.nanos)}function Fy(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=_a(i[o],s[o]);if(h)return h}return Nt(i.length,s.length)}function va(a){return Xf(a)}function Xf(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=vr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Er(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return ht.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=Xf(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${Xf(i.fields[d])}`;return o+"}"}(a.mapValue):Tt(61005,{value:a})}function qu(a){switch(Tr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hc(a);return e?16+qu(e):16;case 5:return 2*a.stringValue.length;case 6:return Er(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+qu(h),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return wa(s.fields,(h,d)=>{o+=h.length+qu(d)}),o}(a.mapValue);default:throw Tt(13486,{value:a})}}function Qy(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Zf(a){return!!a&&"integerValue"in a}function _d(a){return!!a&&"arrayValue"in a}function Yy(a){return!!a&&"nullValue"in a}function Ky(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Uf(a){return!!a&&"mapValue"in a}function L2(a){return(a?.mapValue?.fields||{})[Ev]?.stringValue===Tv}function Fl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return wa(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Fl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Fl(a.arrayValue.values[i]);return e}return{...a}}function z2(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===U2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Uf(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(i)}setAll(e){let i=Ke.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Fl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Uf(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Uf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){wa(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new Jn(Fl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ye(e,0,Et.min(),Et.min(),Et.min(),Jn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ye(e,1,i,Et.min(),s,o,0)}static newNoDocument(e,i){return new Ye(e,2,i,Et.min(),Et.min(),Jn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,Et.min(),Et.min(),Jn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i){this.position=e,this.inclusive=i}}function Xy(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?s=ht.comparator(ht.fromName(d.referenceValue),i.key):s=_a(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Zy(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ii(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,i="asc"){this.field=e,this.dir=i}}function j2(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{}class _e extends Av{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new P2(e,i,s):i==="array-contains"?new H2(e,s):i==="in"?new G2(e,s):i==="not-in"?new F2(e,s):i==="array-contains-any"?new Q2(e,s):new _e(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new q2(e,s):new k2(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(_a(i,this.value)):i!==null&&Tr(this.value)===Tr(i)&&this.matchesComparison(_a(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class On extends Av{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new On(e,i)}matches(e){return Sv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Sv(a){return a.op==="and"}function bv(a){return B2(a)&&Sv(a)}function B2(a){for(const e of a.filters)if(e instanceof On)return!1;return!0}function $f(a){if(a instanceof _e)return a.field.canonicalString()+a.op.toString()+va(a.value);if(bv(a))return a.filters.map(e=>$f(e)).join(",");{const e=a.filters.map(i=>$f(i)).join(",");return`${a.op}(${e})`}}function Rv(a,e){return a instanceof _e?function(s,o){return o instanceof _e&&s.op===o.op&&s.field.isEqual(o.field)&&ii(s.value,o.value)}(a,e):a instanceof On?function(s,o){return o instanceof On&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&Rv(d,o.filters[g]),!0):!1}(a,e):void Tt(19439)}function wv(a){return a instanceof _e?function(i){return`${i.field.canonicalString()} ${i.op} ${va(i.value)}`}(a):a instanceof On?function(i){return i.op.toString()+" {"+i.getFilters().map(wv).join(" ,")+"}"}(a):"Filter"}class P2 extends _e{constructor(e,i,s){super(e,i,s),this.key=ht.fromName(s.referenceValue)}matches(e){const i=ht.comparator(e.key,this.key);return this.matchesComparison(i)}}class q2 extends _e{constructor(e,i){super(e,"in",i),this.keys=Cv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class k2 extends _e{constructor(e,i){super(e,"not-in",i),this.keys=Cv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Cv(a,e){return(e.arrayValue?.values||[]).map(i=>ht.fromName(i.referenceValue))}class H2 extends _e{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return _d(i)&&to(i.arrayValue,this.value)}}class G2 extends _e{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&to(this.value.arrayValue,i)}}class F2 extends _e{constructor(e,i){super(e,"not-in",i)}matches(e){if(to(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!to(this.value.arrayValue,i)}}class Q2 extends _e{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!_d(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>to(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function $y(a,e=null,i=[],s=[],o=null,h=null,d=null){return new Y2(a,e,i,s,o,h,d)}function vd(a){const e=Lt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>$f(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),cc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>va(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>va(s)).join(",")),e.Te=i}return e.Te}function Ed(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!j2(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Rv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Zy(a.startAt,e.startAt)&&Zy(a.endAt,e.endAt)}function Jf(a){return ht.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function K2(a,e,i,s,o,h,d,g){return new Ca(a,e,i,s,o,h,d,g)}function fc(a){return new Ca(a)}function Jy(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Dv(a){return a.collectionGroup!==null}function Ql(a){const e=Lt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(Ke.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new eo(h,s))}),i.has(Ke.keyField().canonicalString())||e.Ie.push(new eo(Ke.keyField(),s))}return e.Ie}function ti(a){const e=Lt(a);return e.Ee||(e.Ee=X2(e,Ql(a))),e.Ee}function X2(a,e){if(a.limitType==="F")return $y(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new eo(o.field,h)});const i=a.endAt?new tc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new tc(a.startAt.position,a.startAt.inclusive):null;return $y(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function Wf(a,e){const i=a.filters.concat([e]);return new Ca(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function ec(a,e,i){return new Ca(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function dc(a,e){return Ed(ti(a),ti(e))&&a.limitType===e.limitType}function Nv(a){return`${vd(ti(a))}|lt:${a.limitType}`}function oa(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>wv(o)).join(", ")}]`),cc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>va(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>va(o)).join(",")),`Target(${s})`}(ti(a))}; limitType=${a.limitType})`}function mc(a,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ht.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,o){for(const h of Ql(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,_){const v=Xy(d,g,_);return d.inclusive?v<=0:v<0}(s.startAt,Ql(s),o)||s.endAt&&!function(d,g,_){const v=Xy(d,g,_);return d.inclusive?v>=0:v>0}(s.endAt,Ql(s),o))}(a,e)}function Z2(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Iv(a){return(e,i)=>{let s=!1;for(const o of Ql(a)){const h=$2(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function $2(a,e,i){const s=a.field.isKeyField()?ht.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?_a(_,v):Tt(42886)}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){wa(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return mv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new fe(ht.comparator);function Ar(){return J2}const Vv=new fe(ht.comparator);function ql(...a){let e=Vv;for(const i of a)e=e.insert(i.key,i);return e}function W2(a){let e=Vv;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function os(){return Yl()}function Mv(){return Yl()}function Yl(){return new ds(a=>a.toString(),(a,e)=>a.isEqual(e))}const tA=new we(ht.comparator);function zt(...a){let e=tA;for(const i of a)e=e.add(i);return e}const eA=new we(Nt);function nA(){return eA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$u(e)?"-0":e}}function Ov(a){return{integerValue:""+a}}function iA(a,e){return I2(e)?Ov(e):Td(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(){this._=void 0}}function rA(a,e,i){return a instanceof td?function(o,h){const d={fields:{[yv]:{stringValue:pv},[vv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&yd(h)&&(h=hc(h)),h&&(d.fields[_v]=h),{mapValue:d}}(i,e):a instanceof nc?xv(a,e):a instanceof ic?Uv(a,e):function(o,h){const d=aA(o,h),g=Wy(d)+Wy(o.Ae);return Zf(d)&&Zf(o.Ae)?Ov(g):Td(o.serializer,g)}(a,e)}function sA(a,e,i){return a instanceof nc?xv(a,e):a instanceof ic?Uv(a,e):i}function aA(a,e){return a instanceof ed?function(s){return Zf(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class td extends gc{}class nc extends gc{constructor(e){super(),this.elements=e}}function xv(a,e){const i=Lv(e);for(const s of a.elements)i.some(o=>ii(o,s))||i.push(s);return{arrayValue:{values:i}}}class ic extends gc{constructor(e){super(),this.elements=e}}function Uv(a,e){let i=Lv(e);for(const s of a.elements)i=i.filter(o=>!ii(o,s));return{arrayValue:{values:i}}}class ed extends gc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Wy(a){return he(a.integerValue||a.doubleValue)}function Lv(a){return _d(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function lA(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof nc&&o instanceof nc||s instanceof ic&&o instanceof ic?ya(s.elements,o.elements,ii):s instanceof ed&&o instanceof ed?ii(s.Ae,o.Ae):s instanceof td&&o instanceof td}(a.transform,e.transform)}class us{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new us}static exists(e){return new us(void 0,e)}static updateTime(e){return new us(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ku(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Ad{}function zv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new uA(a.key,us.none()):new Sd(a.key,a.data,us.none());{const i=a.data,s=Jn.empty();let o=new we(Ke.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new pc(a.key,s,new cr(o.toArray()),us.none())}}function oA(a,e,i){a instanceof Sd?function(o,h,d){const g=o.value.clone(),_=e_(o.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof pc?function(o,h,d){if(!ku(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=e_(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(jv(o)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(a,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Kl(a,e,i,s){return a instanceof Sd?function(h,d,g,_){if(!ku(h.precondition,d))return g;const v=h.value.clone(),A=n_(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(a,e,i,s):a instanceof pc?function(h,d,g,_){if(!ku(h.precondition,d))return g;const v=n_(h.fieldTransforms,_,d),A=d.data;return A.setAll(jv(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(C=>C.field))}(a,e,i,s):function(h,d,g){return ku(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function t_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ya(s,o,(h,d)=>lA(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Sd extends Ad{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class pc extends Ad{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function jv(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function e_(a,e,i){const s=new Map;ie(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,sA(d,g,i[o]))}return s}function n_(a,e,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,rA(h,d,e))}return s}class uA extends Ad{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&oA(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Kl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Kl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Mv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const _=zv(d,g);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),zt())}isEqual(e){return this.batchId===e.batchId&&ya(this.mutations,e.mutations,(i,s)=>t_(i,s))&&ya(this.baseMutations,e.baseMutations,(i,s)=>t_(i,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,xt;function Bv(a){if(a===void 0)return Oi("GRPC error has no .code"),Z.UNKNOWN;switch(a){case ye.OK:return Z.OK;case ye.CANCELLED:return Z.CANCELLED;case ye.UNKNOWN:return Z.UNKNOWN;case ye.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ye.INTERNAL:return Z.INTERNAL;case ye.UNAVAILABLE:return Z.UNAVAILABLE;case ye.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ye.NOT_FOUND:return Z.NOT_FOUND;case ye.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ye.ABORTED:return Z.ABORTED;case ye.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ye.DATA_LOSS:return Z.DATA_LOSS;default:return Tt(39323,{code:a})}}(xt=ye||(ye={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=new mr([4294967295,4294967295],0);function i_(a){const e=dA().encode(a),i=new iv;return i.update(e),new Uint8Array(i.digest())}function r_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new mr([i,s],0),new mr([o,h],0)]}class bd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new kl(`Invalid padding: ${i}`);if(s<0)throw new kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new kl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=mr.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(mr.fromNumber(s)));return o.compare(mA)===1&&(o=new mr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=i_(e),[s,o]=r_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new bd(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.ge===0)return;const i=i_(e),[s,o]=r_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,ro.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new yc(Et.min(),o,new fe(Nt),Ar(),zt())}}class ro{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new ro(s,i,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class Pv{constructor(e,i){this.targetId=e,this.Ce=i}}class qv{constructor(e,i,s=qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class s_{constructor(){this.ve=0,this.Fe=a_(),this.Me=qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=zt(),i=zt(),s=zt();return this.Fe.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Tt(38017,{changeType:h})}}),new ro(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=a_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class gA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ar(),this.Je=Uu(),this.He=Uu(),this.Ye=new fe(Nt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:Tt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach((s,o)=>{this.rt(o)&&i(o)})}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(Jf(h))if(s===0){const d=new ht(h.path);this.et(i,d,Ye.newNoDocument(d,Et.min()))}else ie(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Er(s).toUint8Array()}catch(_){if(_ instanceof gv)return pa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new bd(d,o,h)}catch(_){return pa(_ instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),o++)}),o}Tt(e){const i=new Map;this.ze.forEach((h,d)=>{const g=this.ot(d);if(g){if(h.current&&Jf(g.target)){const _=new ht(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ye.newNoDocument(_,e))}h.Be&&(i.set(d,h.ke()),h.qe())}});let s=zt();this.He.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.je.forEach((h,d)=>d.setReadTime(e));const o=new yc(e,i,this.Ye,this.je,s);return this.je=Ar(),this.Je=Uu(),this.He=Uu(),this.Ye=new fe(Nt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new s_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new we(Nt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new we(Nt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new s_),this.Ge.getRemoteKeysForTarget(e).forEach(i=>{this.et(e,i,null)})}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Uu(){return new fe(ht.comparator)}function a_(){return new fe(ht.comparator)}const pA={asc:"ASCENDING",desc:"DESCENDING"},yA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_A={and:"AND",or:"OR"};class vA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function nd(a,e){return a.useProto3Json||cc(e)?e:{value:e}}function id(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function fa(a){return ie(!!a,49232),Et.fromTimestamp(function(i){const s=vr(i);return new ee(s.seconds,s.nanos)}(a))}function Hv(a,e){return rd(a,e).canonicalString()}function rd(a,e){const i=function(o){return new Jt(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function Gv(a){const e=Jt.fromString(a);return ie(Xv(e),10190,{key:e.toString()}),e}function Lf(a,e){const i=Gv(e);if(i.get(1)!==a.databaseId.projectId)throw new rt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new rt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ht(Qv(i))}function Fv(a,e){return Hv(a.databaseId,e)}function EA(a){const e=Gv(a);return e.length===4?Jt.emptyPath():Qv(e)}function l_(a){return new Jt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Qv(a){return ie(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function TA(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Tt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(ie(A===void 0||typeof A=="string",58123),qe.fromBase64String(A||"")):(ie(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),qe.fromUint8Array(A||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?Z.UNKNOWN:Bv(v.code);return new rt(A,v.message||"")}(d);i=new qv(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Lf(a,s.document.name),h=fa(s.document.updateTime),d=s.document.createTime?fa(s.document.createTime):Et.min(),g=new Jn({mapValue:{fields:s.document.fields}}),_=Ye.newFoundDocument(o,h,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new Hu(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Lf(a,s.document),h=s.readTime?fa(s.readTime):Et.min(),d=Ye.newNoDocument(o,h),g=s.removedTargetIds||[];i=new Hu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Lf(a,s.document),h=s.removedTargetIds||[];i=new Hu([],h,o,null)}else{if(!("filter"in e))return Tt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new fA(o,h),g=s.targetId;i=new Pv(g,d)}}return i}function AA(a,e){return{documents:[Fv(a,e.path)]}}function SA(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Fv(a,o);const h=function(v){if(v.length!==0)return Kv(On.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(D){return{field:ua(D.field),direction:wA(D.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=nd(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ft:i,parent:o}}function bA(a){let e=EA(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){ie(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(C){const D=Yv(C);return D instanceof On&&bv(D)?D.getFilters():[D]}(i.where));let d=[];i.orderBy&&(d=function(C){return C.map(D=>function($){return new eo(ca($.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(D))}(i.orderBy));let g=null;i.limit&&(g=function(C){let D;return D=typeof C=="object"?C.value:C,cc(D)?null:D}(i.limit));let _=null;i.startAt&&(_=function(C){const D=!!C.before,F=C.values||[];return new tc(F,D)}(i.startAt));let v=null;return i.endAt&&(v=function(C){const D=!C.before,F=C.values||[];return new tc(F,D)}(i.endAt)),K2(e,o,d,h,g,"F",_,v)}function RA(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Yv(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ca(i.unaryFilter.field);return _e.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ca(i.unaryFilter.field);return _e.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ca(i.unaryFilter.field);return _e.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ca(i.unaryFilter.field);return _e.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}}(a):a.fieldFilter!==void 0?function(i){return _e.create(ca(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return On.create(i.compositeFilter.filters.map(s=>Yv(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}}(i.compositeFilter.op))}(a):Tt(30097,{filter:a})}function wA(a){return pA[a]}function CA(a){return yA[a]}function DA(a){return _A[a]}function ua(a){return{fieldPath:a.canonicalString()}}function ca(a){return Ke.fromServerFormat(a.fieldPath)}function Kv(a){return a instanceof _e?function(i){if(i.op==="=="){if(Ky(i.value))return{unaryFilter:{field:ua(i.field),op:"IS_NAN"}};if(Yy(i.value))return{unaryFilter:{field:ua(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ky(i.value))return{unaryFilter:{field:ua(i.field),op:"IS_NOT_NAN"}};if(Yy(i.value))return{unaryFilter:{field:ua(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ua(i.field),op:CA(i.op),value:i.value}}}(a):a instanceof On?function(i){const s=i.getFilters().map(o=>Kv(o));return s.length===1?s[0]:{compositeFilter:{op:DA(i.op),filters:s}}}(a):Tt(54877,{filter:a})}function Xv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,i,s,o,h=Et.min(),d=Et.min(),g=qe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.yt=e}}function IA(a){const e=bA({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?ec(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this.Cn=new MA}addToCollectionParentIndex(e,i){return this.Cn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(_r.min())}updateCollectionGroup(e,i,s){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class MA{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new we(Jt.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new we(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zv=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(Zv,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ea(0)}static cr(){return new Ea(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="LruGarbageCollector",OA=1048576;function c_([a,e],[i,s]){const o=Nt(a,i);return o===0?Nt(e,s):o}class xA{constructor(e){this.Ir=e,this.buffer=new we(c_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();c_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class UA{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){st(u_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ra(i)?st(u_,"Ignoring IndexedDB error during garbage collection: ",i):await oc(i)}await this.Vr(3e5)})}}class LA{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return K.resolve(uc.ce);const s=new xA(i);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(o_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o_):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,d=Date.now(),this.nthSequenceNumber(e,o))).next(C=>(s=C,g=Date.now(),this.removeTargets(e,s,i))).next(C=>(h=C,_=Date.now(),this.removeOrphanedDocuments(e,s))).next(C=>(v=Date.now(),la()<=Ut.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${C} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:C})))}}function zA(a,e){return new LA(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.changes=new ds(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?K.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Kl(s.mutation,o,cr.empty(),ee.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,zt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=zt()){const o=os();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=ql();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=os();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,zt()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=Ar();const d=Yl(),g=function(){return Yl()}();return i.forEach((_,v)=>{const A=s.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof pc)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Kl(A.mutation,v,A.mutation.getFieldMask(),ee.now())):d.set(v.key,cr.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>g.set(v,new BA(A,d.get(v)??null))),g))}recalculateAndSaveOverlays(e,i){const s=Yl();let o=new fe((d,g)=>d-g),h=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=s.get(_)||cr.empty();A=g.applyToLocalView(v,A),s.set(_,A);const C=(o.get(g.batchId)||zt()).add(_);o=o.insert(g.batchId,C)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,C=Mv();A.forEach(D=>{if(!h.has(D)){const F=zv(i.get(D),s.get(D));F!==null&&C.set(D,F),h=h.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,C))}return K.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Dv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):K.resolve(os());let g=$l,_=h;return d.next(v=>K.forEach(v,(A,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),h.get(A)?K.resolve():this.remoteDocumentCache.getEntry(e,A).next(D=>{_=_.insert(A,D)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,zt())).next(A=>({batchId:g,changes:W2(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ht(i)).next(s=>{let o=ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=ql();return this.indexManager.getCollectionParents(e,h).next(g=>K.forEach(g,_=>{const v=function(C,D){return new Ca(D,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(A=>{A.forEach((C,D)=>{d=d.insert(C,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))});let g=ql();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&Kl(A.mutation,v,cr.empty(),ee.now()),mc(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return K.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:fa(o.createTime)}}(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(o){return{name:o.name,query:IA(o.bundledQuery),readTime:fa(o.readTime)}}(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.overlays=new fe(ht.comparator),this.qr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const s=os();return K.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.St(e,i,h)}),K.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(s)),K.resolve()}getOverlaysForCollection(e,i,s){const o=os(),h=i.length+1,d=new ht(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>s&&o.set(_.getKey(),_)}return K.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new fe((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=h.get(v.largestBatchId);A===null&&(A=os(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=os(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=o)););return K.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new hA(i,s));let h=this.qr.get(i);h===void 0&&(h=zt(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(){this.Qr=new we(Oe.$r),this.Ur=new we(Oe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Oe(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Gr(new Oe(e,i))}zr(e,i){e.forEach(s=>this.removeReference(s,i))}jr(e){const i=new ht(new Jt([])),s=new Oe(i,e),o=new Oe(i,e+1),h=[];return this.Ur.forEachInRange([s,o],d=>{this.Gr(d),h.push(d.key)}),h}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ht(new Jt([])),s=new Oe(i,e),o=new Oe(i,e+1);let h=zt();return this.Ur.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Oe(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Oe{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ht.comparator(e.key,i.key)||Nt(e.Yr,i.Yr)}static Kr(e,i){return Nt(e.Yr,i.Yr)||ht.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new we(Oe.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new cA(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),h=o<0?0:o;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?N2:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,o],d=>{const g=this.Xr(d.Yr);h.push(g)}),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(Nt);return i.forEach(o=>{const h=new Oe(o,0),d=new Oe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],g=>{s=s.add(g.Yr)})}),K.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;ht.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new ht(h),0);let g=new we(Nt);return this.Zr.forEachWhile(_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.Yr)),!0)},d),K.resolve(this.ti(g))}ti(e){const i=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){ie(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return K.forEach(i.mutations,o=>{const h=new Oe(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,i){const s=new Oe(i,0),o=this.Zr.firstAfterOrEqual(s);return K.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.ri=e,this.docs=function(){return new fe(ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return K.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let s=Ar();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Ye.newInvalidDocument(o))}),K.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Ar();const d=i.path,g=new ht(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||R2(b2(A),s)<=0||(o.has(A.key)||mc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(e,i,s,o){Tt(9500)}ii(e,i){return K.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new QA(this)}getSize(e){return K.resolve(this.size)}}class QA extends jA{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),K.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.persistence=e,this.si=new ds(i=>vd(i),Ed),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Rd,this.targetCount=0,this.ai=Ea.ur()}forEachTarget(e,i){return this.si.forEach((s,o)=>i(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),K.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ea(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.Pr(i),K.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.si.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),K.waitFor(h).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return K.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),K.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),K.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),K.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return K.resolve(s)}containsKey(e,i){return K.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,i){this.ui={},this.overlays={},this.ci=new uc(0),this.li=!1,this.li=!0,this.hi=new HA,this.referenceDelegate=e(this),this.Pi=new YA(this),this.indexManager=new VA,this.remoteDocumentCache=function(o){return new FA(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new NA(i),this.Ii=new qA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new kA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new GA(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){st("MemoryPersistence","Starting transaction:",e);const o=new KA(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(h=>this.referenceDelegate.di(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ai(e,i){return K.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,i)))}}class KA extends C2{constructor(e){super(),this.currentSequenceNumber=e}}class wd{constructor(e){this.persistence=e,this.Ri=new Rd,this.Vi=null}static mi(e){return new wd(e)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),K.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),K.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.fi.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,s=>{const o=ht.fromPath(s);return this.gi(e,o).next(h=>{h||i.removeEntry(o,Et.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class rc{constructor(e,i){this.persistence=e,this.pi=new ds(s=>V2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=zA(this,i)}static mi(e,i){return new rc(e,i)}Ei(){}di(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}wr(e){let i=0;return this.pr(e,s=>{i++}).next(()=>i)}pr(e,i){return K.forEach(this.pi,(s,o)=>this.br(e,s,o).next(h=>h?K.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,d=>this.br(e,d,i).next(g=>{g||(s++,h.removeEntry(d,Et.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=qu(e.data.value)),i}br(e,i,s){return K.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=zt(),o=zt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Cd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return QE()?8:D2(GE())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ys(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ws(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new XA;return this.Ss(e,i,d).next(g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)})}).next(()=>h.result)}bs(e,i,s,o){return s.documentReadCount<this.fs?(la()<=Ut.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",oa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(la()<=Ut.DEBUG&&st("QueryEngine","Query:",oa(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(la()<=Ut.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",oa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):K.resolve())}ys(e,i){if(Jy(i))return K.resolve(null);let s=ti(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=ec(i,null,"F"),s=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=zt(...h);return this.ps.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(_=>{const v=this.Ds(i,g);return this.Cs(i,v,d,_.readTime)?this.ys(e,ec(i,null,"F")):this.vs(e,v,i,_)}))})))}ws(e,i,s,o){return Jy(i)||o.isEqual(Et.min())?K.resolve(null):this.ps.getDocuments(e,s).next(h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,o)?K.resolve(null):(la()<=Ut.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),oa(i)),this.vs(e,d,i,S2(o,$l)).next(g=>g))})}Ds(e,i){let s=new we(Iv(e));return i.forEach((o,h)=>{mc(e,h)&&(s=s.add(h))}),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,s){return la()<=Ut.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",oa(i)),this.ps.getDocumentsMatchingQuery(e,i,_r.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="LocalStore",$A=3e8;class JA{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new fe(Nt),this.xs=new ds(h=>vd(h),Ed),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function WA(a,e,i,s){return new JA(a,e,i,s)}async function Jv(a,e){const i=Lt(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let _=zt();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(s,_).next(v=>({Ls:v,removedBatchIds:d,addedBatchIds:g}))})})}function Wv(a){const e=Lt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function tS(a,e){const i=Lt(a),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach((A,C)=>{const D=o.get(C);if(!D)return;g.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,C).next(()=>i.Pi.addMatchingKeys(h,A.addedDocuments,C)));let F=D.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(C)!==null?F=F.withResumeToken(qe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,s)),o=o.insert(C,F),function(it,J,mt){return it.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=$A?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0}(D,F,A)&&g.push(i.Pi.updateTargetData(h,F))});let _=Ar(),v=zt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(eS(h,d,e.documentUpdates).next(A=>{_=A.ks,v=A.qs})),!s.isEqual(Et.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next(C=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return K.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ms=o,h))}function eS(a,e,i){let s=zt(),o=zt();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=Ar();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(Et.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):st(Dd,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{ks:d,qs:o}})}function nS(a,e){const i=Lt(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Pi.getTargetData(s,e).next(h=>h?(o=h,K.resolve(o)):i.Pi.allocateTargetId(s).next(d=>(o=new hr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s})}async function sd(a,e,i){const s=Lt(a),o=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Ra(d))throw d;st(Dd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function h_(a,e,i){const s=Lt(a);let o=Et.min(),h=zt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const C=Lt(_),D=C.xs.get(A);return D!==void 0?K.resolve(C.Ms.get(D)):C.Pi.getTargetData(v,A)}(s,d,ti(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?h:zt())).next(g=>(iS(s,Z2(e),g),{documents:g,Qs:h})))}function iS(a,e,i){let s=a.Os.get(e)||Et.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.Os.set(e,s)}class f_{constructor(){this.activeTargetIds=nA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rS{constructor(){this.Mo=new f_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new f_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="ConnectivityMonitor";class m_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(d_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){st(d_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu=null;function ad(){return Lu===null?Lu=function(){return 268435456+Math.round(2147483648*Math.random())}():Lu++,"0x"+Lu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="RestConnection",aS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ju?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,h){const d=ad(),g=this.zo(e,i.toUriEncodedString());st(zf,`Sending RPC '${e}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,h);const{host:v}=new URL(g),A=dd(v);return this.Jo(e,g,_,s,A).then(C=>(st(zf,`Received RPC '${e}' ${d}: `,C),C),C=>{throw pa(zf,`RPC '${e}' ${d} failed with error: `,C,"url: ",g,"request:",s),C})}Ho(e,i,s,o,h,d){return this.Go(e,i,s,o,h)}jo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ba}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}zo(e,i){const s=aS[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class uS extends lS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,h){const d=ad();return new Promise((g,_)=>{const v=new rv;v.setWithCredentials(!0),v.listenOnce(sv.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Pu.NO_ERROR:const C=v.getResponseJson();st(Fe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(C)),g(C);break;case Pu.TIMEOUT:st(Fe,`RPC '${e}' ${d} timed out`),_(new rt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Pu.HTTP_ERROR:const D=v.getStatus();if(st(Fe,`RPC '${e}' ${d} failed with status:`,D,"response text:",v.getResponseText()),D>0){let F=v.getResponseJson();Array.isArray(F)&&(F=F[0]);const $=F?.error;if($&&$.status&&$.message){const it=function(mt){const ot=mt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ot)>=0?ot:Z.UNKNOWN}($.status);_(new rt(it,$.message))}else _(new rt(Z.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new rt(Z.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{st(Fe,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(o);st(Fe,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",A,s,15)})}T_(e,i,s){const o=ad(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=ov(),g=lv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const A=h.join("");st(Fe,`Creating RPC '${e}' stream ${o}: ${A}`,_);const C=d.createWebChannel(A,_);this.I_(C);let D=!1,F=!1;const $=new oS({Yo:J=>{F?st(Fe,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(D||(st(Fe,`Opening RPC '${e}' stream ${o} transport.`),C.open(),D=!0),st(Fe,`RPC '${e}' stream ${o} sending:`,J),C.send(J))},Zo:()=>C.close()}),it=(J,mt,ot)=>{J.listen(mt,ft=>{try{ot(ft)}catch(It){setTimeout(()=>{throw It},0)}})};return it(C,Pl.EventType.OPEN,()=>{F||(st(Fe,`RPC '${e}' stream ${o} transport opened.`),$.o_())}),it(C,Pl.EventType.CLOSE,()=>{F||(F=!0,st(Fe,`RPC '${e}' stream ${o} transport closed`),$.a_(),this.E_(C))}),it(C,Pl.EventType.ERROR,J=>{F||(F=!0,pa(Fe,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),$.a_(new rt(Z.UNAVAILABLE,"The operation could not be completed")))}),it(C,Pl.EventType.MESSAGE,J=>{if(!F){const mt=J.data[0];ie(!!mt,16349);const ot=mt,ft=ot?.error||ot[0]?.error;if(ft){st(Fe,`RPC '${e}' stream ${o} received error:`,ft);const It=ft.status;let _t=function(S){const b=ye[S];if(b!==void 0)return Bv(b)}(It),Dt=ft.message;_t===void 0&&(_t=Z.INTERNAL,Dt="Unknown error status: "+It+" with message "+ft.message),F=!0,$.a_(new rt(_t,Dt)),C.close()}else st(Fe,`RPC '${e}' stream ${o} received:`,mt),$.u_(mt)}}),it(g,av.STAT_EVENT,J=>{J.stat===Yf.PROXY?st(Fe,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===Yf.NOPROXY&&st(Fe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{$.__()},0),$}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function jf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(a){return new vA(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="PersistentStream";class cS{constructor(e,i,s,o,h,d,g,_){this.Mi=e,this.S_=s,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new t0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Oi(i.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===i&&this.G_(s,o)},s=>{e(()=>{const o=new rt(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return st(g_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(st(g_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hS extends cS{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=TA(this.serializer,e),s=function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?fa(d.readTime):Et.min()}(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=l_(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Jf(_)?{documents:AA(h,_)}:{query:SA(h,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=kv(h,d.resumeToken);const v=nd(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=id(h,d.snapshotVersion.toTimestamp());const v=nd(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const s=RA(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=l_(this.serializer),i.removeTarget=e,this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{}class dS extends fS{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new rt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Go(e,rd(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new rt(Z.UNKNOWN,h.toString())})}Ho(e,i,s,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Ho(e,rd(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(Z.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class mS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Oi(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="RemoteStore";class gS{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(d=>{s.enqueueAndForget(async()=>{ao(this)&&(st(Ta,"Restarting streams for network reachability change."),await async function(_){const v=Lt(_);v.Ea.add(4),await so(v),v.Ra.set("Unknown"),v.Ea.delete(4),await vc(v)}(this))})}),this.Ra=new mS(s,o)}}async function vc(a){if(ao(a))for(const e of a.da)await e(!0)}async function so(a){for(const e of a.da)await e(!1)}function e0(a,e){const i=Lt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Md(i)?Vd(i):Da(i).O_()&&Id(i,e))}function Nd(a,e){const i=Lt(a),s=Da(i);i.Ia.delete(e),s.O_()&&n0(i,e),i.Ia.size===0&&(s.O_()?s.L_():ao(i)&&i.Ra.set("Unknown"))}function Id(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Da(a).Y_(e)}function n0(a,e){a.Va.Ue(e),Da(a).Z_(e)}function Vd(a){a.Va=new gA({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Da(a).start(),a.Ra.ua()}function Md(a){return ao(a)&&!Da(a).x_()&&a.Ia.size>0}function ao(a){return Lt(a).Ea.size===0}function i0(a){a.Va=void 0}async function pS(a){a.Ra.set("Online")}async function yS(a){a.Ia.forEach((e,i)=>{Id(a,e)})}async function _S(a,e){i0(a),Md(a)?(a.Ra.ha(e),Vd(a)):a.Ra.set("Unknown")}async function vS(a,e,i){if(a.Ra.set("Online"),e instanceof qv&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))}(a,e)}catch(s){st(Ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await p_(a,s)}else if(e instanceof Hu?a.Va.Ze(e):e instanceof Pv?a.Va.st(e):a.Va.tt(e),!i.isEqual(Et.min()))try{const s=await Wv(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Ia.get(v);A&&h.Ia.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h.Ia.get(_);if(!A)return;h.Ia.set(_,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),n0(h,_);const C=new hr(A.target,_,v,A.sequenceNumber);Id(h,C)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){st(Ta,"Failed to raise snapshot:",s),await p_(a,s)}}async function p_(a,e,i){if(!Ra(e))throw e;a.Ea.add(1),await so(a),a.Ra.set("Offline"),i||(i=()=>Wv(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{st(Ta,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await vc(a)})}async function y_(a,e){const i=Lt(a);i.asyncQueue.verifyOperationInProgress(),st(Ta,"RemoteStore received new credentials");const s=ao(i);i.Ea.add(3),await so(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await vc(i)}async function ES(a,e){const i=Lt(a);e?(i.Ea.delete(2),await vc(i)):e||(i.Ea.add(2),await so(i),i.Ra.set("Unknown"))}function Da(a){return a.ma||(a.ma=function(i,s,o){const h=Lt(i);return h.sa(),new hS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{Xo:pS.bind(null,a),t_:yS.bind(null,a),r_:_S.bind(null,a),H_:vS.bind(null,a)}),a.da.push(async e=>{e?(a.ma.B_(),Md(a)?Vd(a):a.Ra.set("Unknown")):(await a.ma.stop(),i0(a))})),a.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new Od(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function r0(a,e){if(Oi("AsyncQueue",`${e}: ${a}`),Ra(a))return new rt(Z.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{static emptySet(e){return new da(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ht.comparator(i.key,s.key):(i,s)=>ht.comparator(i.key,s.key),this.keyedMap=ql(),this.sortedSet=new fe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof da)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new da;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(){this.ga=new fe(ht.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Tt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal((i,s)=>{e.push(s)}),e}}class Aa{constructor(e,i,s,o,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Aa(e,i,da.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class AS{constructor(){this.queries=v_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Lt(i),h=o.queries;o.queries=v_(),h.forEach((d,g)=>{for(const _ of g.Sa)_.onError(s)})})(this,new rt(Z.ABORTED,"Firestore shutting down"))}}function v_(){return new ds(a=>Nv(a),dc)}async function xd(a,e){const i=Lt(a);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(s=2):(h=new TS,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=r0(d,`Initialization of query '${oa(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Ld(i)}async function Ud(a,e){const i=Lt(a),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function SS(a,e){const i=Lt(a);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(o)&&(s=!0);d.wa=o}}s&&Ld(i)}function bS(a,e,i){const s=Lt(a),o=s.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);s.queries.delete(e)}function Ld(a){a.Ca.forEach(e=>{e.next()})}var ld,E_;(E_=ld||(ld={})).Ma="default",E_.Cache="cache";class zd{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Aa(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ld.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this.key=e}}class a0{constructor(e){this.key=e}}class RS{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=Iv(e),this.tu=new da(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new __,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,C)=>{const D=o.get(A),F=mc(this.query,C)?C:null,$=!!D&&this.mutatedKeys.has(D.key),it=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let J=!1;D&&F?D.data.isEqual(F.data)?$!==it&&(s.track({type:3,doc:F}),J=!0):this.su(D,F)||(s.track({type:2,doc:F}),J=!0,(_&&this.eu(F,_)>0||v&&this.eu(F,v)<0)&&(g=!0)):!D&&F?(s.track({type:0,doc:F}),J=!0):D&&!F&&(s.track({type:1,doc:D}),J=!0,(_||v)&&(g=!0)),J&&(F?(d=d.add(F),h=it?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((A,C)=>function(F,$){const it=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:J})}};return it(F)-it($)}(A.type,C.type)||this.eu(A.doc,C.doc)),this.ou(s),o=o??!1;const g=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new Aa(this.query,e.tu,h,d,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new __,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=zt(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const i=[];return e.forEach(s=>{this.Xa.has(s)||i.push(new a0(s))}),this.Xa.forEach(s=>{e.has(s)||i.push(new s0(s))}),i}cu(e){this.Ya=e.Qs,this.Xa=zt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Aa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jd="SyncEngine";class wS{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class CS{constructor(e){this.key=e,this.hu=!1}}class DS{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ds(g=>Nv(g),dc),this.Iu=new Map,this.Eu=new Set,this.du=new fe(ht.comparator),this.Au=new Map,this.Ru=new Rd,this.Vu={},this.mu=new Map,this.fu=Ea.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NS(a,e,i=!0){const s=h0(a);let o;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await l0(s,e,i,!0),o}async function IS(a,e){const i=h0(a);await l0(i,e,!0,!1)}async function l0(a,e,i,s){const o=await nS(a.localStore,ti(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await VS(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&e0(a.remoteStore,o),g}async function VS(a,e,i,s,o){a.pu=(C,D,F)=>async function(it,J,mt,ot){let ft=J.view.ru(mt);ft.Cs&&(ft=await h_(it.localStore,J.query,!1).then(({documents:x})=>J.view.ru(x,ft)));const It=ot&&ot.targetChanges.get(J.targetId),_t=ot&&ot.targetMismatches.get(J.targetId)!=null,Dt=J.view.applyChanges(ft,it.isPrimaryClient,It,_t);return A_(it,J.targetId,Dt.au),Dt.snapshot}(a,C,D,F);const h=await h_(a.localStore,e,!0),d=new RS(e,h.Qs),g=d.ru(h.documents),_=ro.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),v=d.applyChanges(g,a.isPrimaryClient,_);A_(a,i,v.au);const A=new wS(e,i,d);return a.Tu.set(e,A),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),v.snapshot}async function MS(a,e,i){const s=Lt(a),o=s.Tu.get(e),h=s.Iu.get(o.targetId);if(h.length>1)return s.Iu.set(o.targetId,h.filter(d=>!dc(d,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await sd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Nd(s.remoteStore,o.targetId),od(s,o.targetId)}).catch(oc)):(od(s,o.targetId),await sd(s.localStore,o.targetId,!0))}async function OS(a,e){const i=Lt(a),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Nd(i.remoteStore,s.targetId))}async function o0(a,e){const i=Lt(a);try{const s=await tS(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Au.get(h);d&&(ie(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?ie(d.hu,14607):o.removedDocuments.size>0&&(ie(d.hu,42227),d.hu=!1))}),await c0(i,s,e)}catch(s){await oc(s)}}function T_(a,e,i){const s=Lt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const _=Lt(d);_.onlineState=g;let v=!1;_.queries.forEach((A,C)=>{for(const D of C.Sa)D.va(g)&&(v=!0)}),v&&Ld(_)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function xS(a,e,i){const s=Lt(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),h=o&&o.key;if(h){let d=new fe(ht.comparator);d=d.insert(h,Ye.newNoDocument(h,Et.min()));const g=zt().add(h),_=new yc(Et.min(),new Map,new fe(Nt),d,g);await o0(s,_),s.du=s.du.remove(h),s.Au.delete(e),Bd(s)}else await sd(s.localStore,e,!1).then(()=>od(s,e,i)).catch(oc)}function od(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach(s=>{a.Ru.containsKey(s)||u0(a,s)})}function u0(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(Nd(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),Bd(a))}function A_(a,e,i){for(const s of i)s instanceof s0?(a.Ru.addReference(s.key,e),US(a,s)):s instanceof a0?(st(jd,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||u0(a,s.key)):Tt(19791,{wu:s})}function US(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(st(jd,"New document in limbo: "+i),a.Eu.add(s),Bd(a))}function Bd(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new ht(Jt.fromString(e)),s=a.fu.next();a.Au.set(s,new CS(i)),a.du=a.du.insert(i,s),e0(a.remoteStore,new hr(ti(fc(i.path)),s,"TargetPurposeLimboResolution",uc.ce))}}async function c0(a,e,i){const s=Lt(a),o=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach((g,_)=>{d.push(s.pu(_,e,i).then(v=>{if((v||i)&&s.isPrimaryClient){const A=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(v){o.push(v);const A=Cd.As(_.targetId,v);h.push(A)}}))}),await Promise.all(d),s.Pu.H_(o),await async function(_,v){const A=Lt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>K.forEach(v,D=>K.forEach(D.Es,F=>A.persistence.referenceDelegate.addReference(C,D.targetId,F)).next(()=>K.forEach(D.ds,F=>A.persistence.referenceDelegate.removeReference(C,D.targetId,F)))))}catch(C){if(!Ra(C))throw C;st(Dd,"Failed to update sequence numbers: "+C)}for(const C of v){const D=C.targetId;if(!C.fromCache){const F=A.Ms.get(D),$=F.snapshotVersion,it=F.withLastLimboFreeSnapshotVersion($);A.Ms=A.Ms.insert(D,it)}}}(s.localStore,h))}async function LS(a,e){const i=Lt(a);if(!i.currentUser.isEqual(e)){st(jd,"User change. New user:",e.toKey());const s=await Jv(i.localStore,e);i.currentUser=e,function(h,d){h.mu.forEach(g=>{g.forEach(_=>{_.reject(new rt(Z.CANCELLED,d))})}),h.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await c0(i,s.Ls)}}function zS(a,e){const i=Lt(a),s=i.Au.get(e);if(s&&s.hu)return zt().add(s.key);{let o=zt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function h0(a){const e=Lt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=o0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xS.bind(null,e),e.Pu.H_=SS.bind(null,e.eventManager),e.Pu.yu=bS.bind(null,e.eventManager),e}class sc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_c(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return WA(this.persistence,new ZA,e.initialUser,this.serializer)}Cu(e){return new $v(wd.mi,this.serializer)}Du(e){return new rS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sc.provider={build:()=>new sc};class jS extends sc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){ie(this.persistence.referenceDelegate instanceof rc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new UA(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new $v(s=>rc.mi(s,i),this.serializer)}}class ud{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>T_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=LS.bind(null,this.syncEngine),await ES(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AS}()}createDatastore(e){const i=_c(e.databaseInfo.databaseId),s=function(h){return new uS(h)}(e.databaseInfo);return function(h,d,g,_){return new dS(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new gS(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>T_(this.syncEngine,i,0),function(){return m_.v()?new m_:new sS}())}createSyncEngine(e,i){return function(o,h,d,g,_,v,A){const C=new DS(o,h,d,g,_,v);return A&&(C.gu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const s=Lt(i);st(Ta,"RemoteStore shutting down."),s.Ea.add(5),await so(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ud.provider={build:()=>new ud};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="FirestoreClient";class BS{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=pd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{st(Sr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(st(Sr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=r0(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Bf(a,e){a.asyncQueue.verifyOperationInProgress(),st(Sr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Jv(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function S_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await PS(a);st(Sr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>y_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>y_(e.remoteStore,o)),a._onlineComponents=e}async function PS(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){st(Sr,"Using user provided OfflineComponentProvider");try{await Bf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;pa("Error using user provided cache. Falling back to memory cache: "+i),await Bf(a,new sc)}}else st(Sr,"Using default OfflineComponentProvider"),await Bf(a,new jS(void 0));return a._offlineComponents}async function qS(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(st(Sr,"Using user provided OnlineComponentProvider"),await S_(a,a._uninitializedComponentsProvider._online)):(st(Sr,"Using default OnlineComponentProvider"),await S_(a,new ud))),a._onlineComponents}async function ac(a){const e=await qS(a),i=e.eventManager;return i.onListen=NS.bind(null,e.syncEngine),i.onUnlisten=MS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=IS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=OS.bind(null,e.syncEngine),i}function kS(a,e,i={}){const s=new gr;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new Pd({next:D=>{A.Nu(),d.enqueueAndForget(()=>Ud(h,C));const F=D.docs.has(g);!F&&D.fromCache?v.reject(new rt(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&D.fromCache&&_&&_.source==="server"?v.reject(new rt(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(D)},error:D=>v.reject(D)}),C=new zd(fc(g.path),A,{includeMetadataChanges:!0,qa:!0});return xd(h,C)}(await ac(a),a.asyncQueue,e,i,s)),s.promise}function HS(a,e,i={}){const s=new gr;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new Pd({next:D=>{A.Nu(),d.enqueueAndForget(()=>Ud(h,C)),D.fromCache&&_.source==="server"?v.reject(new rt(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(D)},error:D=>v.reject(D)}),C=new zd(g,A,{includeMetadataChanges:!0,qa:!0});return xd(h,C)}(await ac(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="firestore.googleapis.com",R_=!0;class w_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new rt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d0,this.ssl=R_}else this.host=e.host,this.ssl=e.ssl??R_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Zv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OA)throw new rt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}A2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f0(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new rt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new rt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new rt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ec{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new f2;switch(s.type){case"firstParty":return new p2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=b_.get(i);s&&(st("ComponentProvider","Removing Datastore"),b_.delete(i),s.terminate())}(this),Promise.resolve()}}function GS(a,e,i,s={}){a=pr(a,Ec);const o=dd(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},g=`${e}:${i}`;o&&(BE(`https://${g}`),HE("Firestore",!0)),h.host!==d0&&h.host!==g&&pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...h,host:g,ssl:o,emulatorOptions:s};if(!Ku(_,d)&&(a._setSettings(_),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=Qe.MOCK_USER;else{v=PE(s.mockUserToken,a._app?.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new rt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Qe(C)}a._authCredentials=new d2(new cv(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xi(this.firestore,e,this._query)}}class Ee{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ee(this.firestore,e,this._key)}toJSON(){return{type:Ee._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(io(i,Ee._jsonSchema))return new Ee(e,s||null,new ht(Jt.fromString(i.referencePath)))}}Ee._jsonSchemaVersion="firestore/documentReference/1.0",Ee._jsonSchema={type:ve("string",Ee._jsonSchemaVersion),referencePath:ve("string")};class yr extends xi{constructor(e,i,s){super(e,i,fc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ee(this.firestore,null,new ht(e))}withConverter(e){return new yr(this.firestore,e,this._path)}}function aa(a,e,...i){if(a=ga(a),hv("collection","path",e),a instanceof Ec){const s=Jt.fromString(e,...i);return jy(s),new yr(a,null,s)}{if(!(a instanceof Ee||a instanceof yr))throw new rt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Jt.fromString(e,...i));return jy(s),new yr(a.firestore,null,s)}}function C_(a,e,...i){if(a=ga(a),arguments.length===1&&(e=pd.newId()),hv("doc","path",e),a instanceof Ec){const s=Jt.fromString(e,...i);return zy(s),new Ee(a,null,new ht(s))}{if(!(a instanceof Ee||a instanceof yr))throw new rt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Jt.fromString(e,...i));return zy(s),new Ee(a.firestore,a instanceof yr?a.converter:null,new ht(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="AsyncQueue";class N_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new t0(this,"async_queue_retry"),this._c=()=>{const s=jf();s&&st(D_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=jf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=jf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new gr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ra(e))throw e;st(D_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Oi("INTERNAL UNHANDLED ERROR: ",I_(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Od.createAndSchedule(this,e,i,s,h=>this.hc(h));return this.tc.push(o),o}uc(){this.nc&&Tt(47125,{Pc:I_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function I_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(a){return function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of s)if(h in o&&typeof o[h]=="function")return!0;return!1}(a,["next","error","complete"])}class no extends Ec{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new N_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new N_(e),this._firestoreClient=void 0,await e}}}function FS(a,e){const i=typeof a=="object"?a:WT(),s=typeof a=="string"?a:Ju,o=KT(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=zE("firestore");h&&GS(o,...h)}return o}function qd(a){if(a._terminated)throw new rt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||QS(a),a._firestoreClient}function QS(a){const e=a._freezeSettings(),i=function(o,h,d,g){return new x2(o,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,f0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new BS(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wn(qe.fromBase64String(e))}catch(i){throw new rt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new wn(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(io(e,wn._jsonSchema))return wn.fromBase64String(e.bytes)}}wn._jsonSchemaVersion="firestore/bytes/1.0",wn._jsonSchema={type:ve("string",wn._jsonSchemaVersion),bytes:ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new rt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new rt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new rt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ei._jsonSchemaVersion}}static fromJSON(e){if(io(e,ei._jsonSchema))return new ei(e.latitude,e.longitude)}}ei._jsonSchemaVersion="firestore/geoPoint/1.0",ei._jsonSchema={type:ve("string",ei._jsonSchemaVersion),latitude:ve("number"),longitude:ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(io(e,ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new ni(e.vectorValues);throw new rt(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:ve("string",ni._jsonSchemaVersion),vectorValues:ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=/^__.*__$/;function p0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:a})}}class kd{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(p0(this.Ac)&&YS.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class KS{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||_c(e)}Cc(e,i,s,o=!1){return new kd({Ac:e,methodName:i,Dc:s,path:Ke.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function XS(a){const e=a._freezeSettings(),i=_c(a._databaseId);return new KS(a._databaseId,!!e.ignoreUndefinedProperties,i)}function ZS(a,e,i,s=!1){return Hd(i,a.Cc(s?4:3,e))}function Hd(a,e){if(y0(a=ga(a)))return JS("Unsupported field value:",e,a),$S(a,e);if(a instanceof g0)return function(s,o){if(!p0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let _=Hd(g,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,o){if((s=ga(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return iA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=ee.fromDate(s);return{timestampValue:id(o.serializer,h)}}if(s instanceof ee){const h=new ee(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:id(o.serializer,h)}}if(s instanceof ei)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof wn)return{bytesValue:kv(o.serializer,s._byteString)};if(s instanceof Ee){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Hv(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ni)return function(d,g){return{mapValue:{fields:{[Ev]:{stringValue:Tv},[Wu]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Sc("VectorValues must only contain numeric values.");return Td(g.serializer,v)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${lc(s)}`)}(a,e)}function $S(a,e){const i={};return mv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wa(a,(s,o)=>{const h=Hd(o,e.mc(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function y0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ee||a instanceof ei||a instanceof wn||a instanceof Ee||a instanceof g0||a instanceof ni)}function JS(a,e,i){if(!y0(i)||!fv(i)){const s=lc(i);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}const WS=new RegExp("[~\\*/\\[\\]]");function tb(a,e,i){if(e.search(WS)>=0)throw cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new m0(...e.split("."))._internalPath}catch{throw cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function cd(a,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new rt(Z.INVALID_ARGUMENT,g+a+_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ee(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Tc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class eb extends _0{data(){return super.data()}}function Tc(a,e){return typeof e=="string"?tb(a,e):e instanceof m0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new rt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gd{}class Fd extends Gd{}function zu(a,e,...i){let s=[];e instanceof Gd&&s.push(e),s=s.concat(i),function(h){const d=h.filter(_=>_ instanceof Qd).length,g=h.filter(_=>_ instanceof Ac).length;if(d>1||d>0&&g>0)throw new rt(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)a=o._apply(a);return a}class Ac extends Fd{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Ac(e,i,s)}_apply(e){const i=this._parse(e);return E0(e._query,i),new xi(e.firestore,e.converter,Wf(e._query,i))}_parse(e){const i=XS(e.firestore);return function(h,d,g,_,v,A,C){let D;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){U_(C,A);const $=[];for(const it of C)$.push(x_(_,h,it));D={arrayValue:{values:$}}}else D=x_(_,h,C)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||U_(C,A),D=ZS(g,d,C,A==="in"||A==="not-in");return _e.create(v,A,D)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function M_(a,e,i){const s=e,o=Tc("where",a);return Ac._create(o,s,i)}class Qd extends Gd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Qd(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:On.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,h){let d=o;const g=h.getFlattenedFilters();for(const _ of g)E0(d,_),d=Wf(d,_)}(e._query,i),new xi(e.firestore,e.converter,Wf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yd extends Fd{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Yd(e,i)}_apply(e){const i=function(o,h,d){if(o.startAt!==null)throw new rt(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new rt(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eo(h,d)}(e._query,this._field,this._direction);return new xi(e.firestore,e.converter,function(o,h){const d=o.explicitOrderBy.concat([h]);return new Ca(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,i))}}function ju(a,e="asc"){const i=e,s=Tc("orderBy",a);return Yd._create(s,i)}class Kd extends Fd{constructor(e,i,s){super(),this.type=e,this._limit=i,this._limitType=s}static _create(e,i,s){return new Kd(e,i,s)}_apply(e){return new xi(e.firestore,e.converter,ec(e._query,this._limit,this._limitType))}}function O_(a){return Kd._create("limit",a,"F")}function x_(a,e,i){if(typeof(i=ga(i))=="string"){if(i==="")throw new rt(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dv(e)&&i.indexOf("/")!==-1)throw new rt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Jt.fromString(i));if(!ht.isDocumentKey(s))throw new rt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Qy(a,new ht(s))}if(i instanceof Ee)return Qy(a,i._key);throw new rt(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lc(i)}.`)}function U_(a,e){if(!Array.isArray(a)||a.length===0)throw new rt(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function E0(a,e){const i=function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(a.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new rt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class nb{convertValue(e,i="none"){switch(Tr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return he(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Tt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return wa(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){const i=e.fields?.[Wu].arrayValue?.values?.map(s=>he(s.doubleValue));return new ni(i)}convertGeoPoint(e){return new ei(he(e.latitude),he(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=hc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const i=vr(e);return new ee(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Jt.fromString(e);ie(Xv(s),9688,{name:e});const o=new Wl(s.get(1),s.get(3)),h=new ht(s.popFirst(5));return o.isEqual(i)||Oi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class Hl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cs extends _0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Gu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Tc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=cs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",cs._jsonSchema={type:ve("string",cs._jsonSchemaVersion),bundleSource:ve("string","DocumentSnapshot"),bundleName:ve("string"),bundle:ve("string")};class Gu extends cs{data(e={}){return super.data(e)}}class hs{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Hl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Gu(this._firestore,this._userDataWriter,s.key,s,new Hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const _=new Gu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Hl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new Gu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Hl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:ib(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ib(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(a){a=pr(a,Ee);const e=pr(a.firestore,no);return kS(qd(e),a._key).then(i=>T0(e,a,i))}hs._jsonSchemaVersion="firestore/querySnapshot/1.0",hs._jsonSchema={type:ve("string",hs._jsonSchemaVersion),bundleSource:ve("string","QuerySnapshot"),bundleName:ve("string"),bundle:ve("string")};class Xd extends nb{constructor(e){super(),this.firestore=e}convertBytes(e){return new wn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ee(this.firestore,null,i)}}function Bl(a){a=pr(a,xi);const e=pr(a.firestore,no),i=qd(e),s=new Xd(e);return v0(a._query),HS(i,a._query).then(o=>new hs(e,s,a,o))}function L_(a,...e){a=ga(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||V_(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(V_(e[s])){const _=e[s];e[s]=_.next?.bind(_),e[s+1]=_.error?.bind(_),e[s+2]=_.complete?.bind(_)}let h,d,g;if(a instanceof Ee)d=pr(a.firestore,no),g=fc(a._key.path),h={next:_=>{e[s]&&e[s](T0(d,a,_))},error:e[s+1],complete:e[s+2]};else{const _=pr(a,xi);d=pr(_.firestore,no),g=_._query;const v=new Xd(d);h={next:A=>{e[s]&&e[s](new hs(d,v,_,A))},error:e[s+1],complete:e[s+2]},v0(a._query)}return function(v,A,C,D){const F=new Pd(D),$=new zd(A,F,C);return v.asyncQueue.enqueueAndForget(async()=>xd(await ac(v),$)),()=>{F.Nu(),v.asyncQueue.enqueueAndForget(async()=>Ud(await ac(v),$))}}(qd(d),g,o,h)}function T0(a,e,i){const s=i.docs.get(e._key),o=new Xd(a);return new cs(a,o,e._key,s,new Hl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){ba=o})(JT),Zu(new Xl("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new no(new m2(s.getProvider("auth-internal")),new y2(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new rt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(v.options.projectId,A)}(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ha(Oy,xy,e),ha(Oy,xy,"esm2020")})();class Zd{constructor(e,i){this.app=tv(e,`menu-sdk-${Date.now()}`),this.db=FS(this.app),this.businessId=i}async getBusinessInfo(){try{const e=C_(this.db,"businesses",this.businessId),i=await rb(e);if(!i.exists())throw new Error(`Negocio no encontrado con ID: ${this.businessId}`);return i.data()}catch(e){throw console.error("Error getting business info:",e),e}}onBusinessInfoChange(e){try{const i=C_(this.db,"businesses",this.businessId);return L_(i,s=>{s.exists()?e(s.data(),null):e(null,new Error("Negocio no encontrado"))},s=>{console.error("Error in business listener:",s),e(null,s)})}catch(i){throw console.error("Error setting up business info listener:",i),i}}async getFullMenu(){try{console.log(" MenuSDK: obteniendo men completo para businessId:",this.businessId),console.log(" MenuSDK: obteniendo lista de mens...");const e=aa(this.db,"businesses",this.businessId,"menus"),i=await Bl(e);if(i.docs.length===0)return console.log(" MenuSDK: no se encontraron mens"),[];console.log(" MenuSDK: mens encontrados:",i.docs.length);const o=i.docs.map(h=>{const d=h.data();return console.log(" MenuSDK: men:",h.id,d),{id:h.id,name:d.name||"Men sin nombre",description:d.description||"",order:d.order||0,active:d.active!==!1,...d}}).filter(h=>h.active).sort((h,d)=>(h.order||0)-(d.order||0));return console.log(" MenuSDK: mens activos obtenidos:",o),o}catch(e){throw console.error(" Error getting full menu:",e),e}}async getAvailableMenus(){try{const e=aa(this.db,"businesses",this.businessId,"menus");return(await Bl(e)).docs.map(s=>({id:s.id,...s.data()})).filter(s=>s.active!==!1).sort((s,o)=>(s.order||0)-(o.order||0))}catch(e){return console.error("Error getting available menus:",e),[]}}async getMenuById(e){try{console.log(" MenuSDK: obteniendo men por ID:",e);const i=aa(this.db,"businesses",this.businessId,"menus",e,"categories"),s=zu(i,ju("order","asc")),o=await Bl(s),h=[];for(const d of o.docs){const g=d.data();console.log(" MenuSDK: procesando categora:",d.id,g);const _=aa(this.db,"businesses",this.businessId,"menus",e,"categories",d.id,"items"),v=zu(_,ju("name","asc")),C=(await Bl(v)).docs.map(D=>({id:D.id,...D.data()})).filter(D=>!D.isHidden);C.length>0&&h.push({id:d.id,name:g.name,description:g.description||"",items:C})}return console.log(" MenuSDK: categoras obtenidas para men",e,":",h),h}catch(i){throw console.error(" Error getting menu by id:",i),i}}async getFeaturedItems(){try{const e=await this.getFullMenu(),i=[];return e.forEach(s=>{s.items.forEach(o=>{o.featured===!0&&i.push({...o,categoryName:s.name})})}),i}catch(e){throw console.error("Error getting featured items:",e),e}}async searchItems(e){try{const i=await this.getFullMenu(),s=[],o=e.toLowerCase();return i.forEach(h=>{h.items.forEach(d=>{const g=d.name.toLowerCase().includes(o),_=d.description&&d.description.toLowerCase().includes(o);(g||_)&&s.push({...d,categoryName:h.name})})}),s}catch(i){throw console.error("Error searching items:",i),i}}validateStock(e,i=1){if(!e.trackStock)return{isValid:!0,availableStock:null,message:"Stock ilimitado"};const s=e.stock>=i;return{isValid:s&&e.isAvailable!==!1,availableStock:e.stock,message:s?`Stock disponible: ${e.stock}`:`Stock insuficiente. Disponible: ${e.stock}`}}getStockStatus(e){if(!e.trackStock)return{status:"unlimited",level:"unlimited",message:"Siempre disponible",cssClass:"stock-unlimited"};const i=e.stock||0;return i<=0||e.isAvailable===!1?{status:"out_of_stock",level:"empty",message:"Sin stock",cssClass:"stock-empty"}:i<=5?{status:"low_stock",level:"low",message:`Quedan pocos! (${i})`,cssClass:"stock-low"}:{status:"in_stock",level:"normal",message:`${i} disponibles`,cssClass:"stock-normal"}}async validateCart(e){const i={isValid:!0,errors:[],warnings:[],totalItems:e.length},s=await this.getFullMenu(),o={};s.forEach(h=>{h.items.forEach(d=>{o[d.id]=d})});for(const h of e){const d=o[h.id];if(!d){i.errors.push(`Item no encontrado: ${h.name}`),i.isValid=!1;continue}const g=this.validateStock(d,h.quantity);g.isValid?d.trackStock&&d.stock<=5&&i.warnings.push(`${d.name}: Quedan pocos en stock`):(i.errors.push(`${d.name}: ${g.message}`),i.isValid=!1)}return i}async getAnnouncements(){try{console.log(" MenuSDK: Fetching announcements for business:",this.businessId);const e=aa(this.db,"businesses",this.businessId,"announcements"),i=zu(e,M_("isActive","==",!0),ju("createdAt","desc"),O_(10)),s=await Bl(i),o=[];return s.forEach(h=>{const d=h.data();console.log(" Raw announcement data:",h.id,d),o.push({id:h.id,...d,title:d.title||"",description:d.description||"",images:Array.isArray(d.images)?d.images:d.images?[d.images]:[],badges:Array.isArray(d.badges)?d.badges:[],url:d.url||"",urlText:d.urlText||"Ver ms",isActive:d.isActive===!0,isFeatured:d.isFeatured===!0}),console.log(" Processed announcement:",o[o.length-1])}),console.log(" MenuSDK: Found announcements:",o.length),o.sort((h,d)=>h.isFeatured&&!d.isFeatured?-1:!h.isFeatured&&d.isFeatured?1:h.createdAt&&d.createdAt?d.createdAt.seconds-h.createdAt.seconds:0),console.log(" MenuSDK: Announcements after sorting:",o.map(h=>({id:h.id,title:h.title,isFeatured:h.isFeatured}))),o}catch(e){throw console.error(" Error getting announcements:",e),e}}subscribeToAnnouncements(e){try{console.log(" MenuSDK: Setting up announcements subscription for business:",this.businessId);const i=aa(this.db,"businesses",this.businessId,"announcements"),s=zu(i,M_("isActive","==",!0),ju("createdAt","desc"),O_(10));return L_(s,o=>{const h=[];o.forEach(d=>{const g=d.data();console.log(" Real-time announcement data:",d.id,g),h.push({id:d.id,...g,title:g.title||"",description:g.description||"",images:Array.isArray(g.images)?g.images:g.images?[g.images]:[],badges:Array.isArray(g.badges)?g.badges:[],url:g.url||"",urlText:g.urlText||"Ver ms",isActive:g.isActive===!0,isFeatured:g.isFeatured===!0}),console.log(" Real-time processed announcement:",h[h.length-1])}),console.log(" MenuSDK: Announcements real-time update:",h.length),h.sort((d,g)=>d.isFeatured&&!g.isFeatured?-1:!d.isFeatured&&g.isFeatured?1:d.createdAt&&g.createdAt?g.createdAt.seconds-d.createdAt.seconds:0),console.log(" MenuSDK: Real-time announcements after sorting:",h.map(d=>({id:d.id,title:d.title,isFeatured:d.isFeatured}))),e(h)},o=>{console.error(" Error in announcements subscription:",o),e([])})}catch(i){throw console.error(" Error setting up announcements subscription:",i),i}}}function sb(a,e){return new Zd(a,e)}const Wn={firebaseConfig:{apiKey:"AIzaSyDHi_a1trI35goPoKcNPUDBMOSLKjvZKyc",authDomain:"cms-menu-7b4a4.firebaseapp.com",projectId:"cms-menu-7b4a4",storageBucket:"cms-menu-7b4a4.firebasestorage.app",messagingSenderId:"509736809578",appId:"1:509736809578:web:15471af092f3b46392c613"},businessId:"0X2PjjSrO8hZmq2wZtREoKR9gej1",multipleMenus:{enabled:!0,showMenuSelector:!0,defaultMenuId:null,ui:{showMenuDescriptions:!0,menuCardStyle:"modern",categoryAccordion:!0,showProductImages:!0,compactMode:!1}},cart:{persistBetweenMenus:!0,showMenuOrigin:!0,allowMixedMenus:!0},terminology:{business:{restaurant:{menuSingular:"men",menuPlural:"mens",itemSingular:"plato",itemPlural:"platos",categorySingular:"categora",categoryPlural:"categoras",cartName:"pedido",addToCartText:"Agregar al pedido"},store:{menuSingular:"catlogo",menuPlural:"catlogos",itemSingular:"producto",itemPlural:"productos",categorySingular:"categora",categoryPlural:"categoras",cartName:"carrito",addToCartText:"Agregar al carrito"}}}};Wn.businessId;const A0=at.createContext();function ab({children:a}){const[e,i]=at.useState(null),[s,o]=at.useState(!1),[h,d]=at.useState(null);at.useEffect(()=>{async function _(){try{console.log(" Inicializando Firebase SDK para Groove..."),console.log(" Config:",Wn.firebaseConfig),console.log(" Business ID:",Wn.businessId);const v=sb(Wn.firebaseConfig,Wn.businessId);console.log(" SDK creado correctamente"),console.log(" Probando conectividad con Firebase...");const A=await v.getBusinessInfo();console.log(" Conectividad verificada, info del negocio:",A),i(v),o(!0),console.log(" Firebase SDK inicializado correctamente")}catch(v){console.error(" Error inicializando Firebase SDK:",v),d(v.message),o(!0)}}_()},[]);const g={menuSDK:e,isInitialized:s,error:h,config:Wn};return I.jsx(A0.Provider,{value:g,children:a})}function S0(){const a=at.useContext(A0);if(!a)throw new Error("useFirebase debe usarse dentro de un FirebaseProvider");return a}function lb(a){const e={};return a.forEach(i=>{const s=i.id;e[s]={id:i.id,title:i.name,description:i.description||`Descubre nuestro men ${i.name}`,active:i.active!==!1,order:i.order||0,menuData:i}}),e}function ob(a){return!a||isNaN(a)?"$0":typeof a=="number"?`$${a.toLocaleString("es-AR")}`:a.toString()}function ub(a){return null}function b0(a){const[e,i]=at.useState({}),[s,o]=at.useState(!0),[h,d]=at.useState(null);return at.useEffect(()=>{if(!a){console.log(" useGrooveMenus: esperando SDK...");return}async function g(){try{console.log(" useGrooveMenus: iniciando carga..."),o(!0),d(null),console.log(" useGrooveMenus: obteniendo lista de mens...");const _=await a.getFullMenu();console.log(" useGrooveMenus: mens obtenidos:",_),console.log(" useGrooveMenus: mapeando mens...");const v=lb(_);console.log(" useGrooveMenus: mens mapeados:",v),i(v)}catch(_){console.error(" Error loading Groove menus:",_),d(_.message)}finally{o(!1),console.log(" useGrooveMenus: carga finalizada")}}g()},[a]),{grooveMenus:e,loading:s,error:h}}function cb(a,e){const[i,s]=at.useState([]),[o,h]=at.useState(!1),[d,g]=at.useState(null);return at.useEffect(()=>{if(!a||!e){s([]);return}async function _(){try{console.log(" useMenuCategories: cargando categoras para men:",e),h(!0),g(null);const v=await a.getMenuById(e);console.log(" useMenuCategories: categoras obtenidas:",v);const A=v.map(C=>({...C,items:C.items.map(D=>({id:D.id,name:D.name,price:ob(D.price),desc:D.description||"",img:D.image||D.images?.[0]?.url||ub(C.name),featured:D.featured||!1,stock:D.stock,trackStock:D.trackStock||!1,isAvailable:D.isAvailable!==!1}))}));s(A)}catch(v){console.error(" Error loading menu categories:",v),g(v.message)}finally{h(!1)}}_()},[a,e]),{categories:i,loading:o,error:d}}const hb=({onSelect:a})=>{const{menuSDK:e,isInitialized:i}=S0(),{grooveMenus:s,loading:o,error:h}=b0(e),[d,g]=at.useState(0),[_,v]=at.useState(0),[A,C]=at.useState(!1),[D,F]=at.useState(0),[$,it]=at.useState(0),J=at.useRef(null),mt=at.useRef([]),ot=at.useRef(null),ft=Object.keys(s);console.log(" MenuSlider render:",{isInitialized:i,loading:o,error:h,menuSDKExists:!!e,keysLength:ft.length,grooveMenus:s});const It=at.useCallback(()=>{if(!ot.current||!J.current||!mt.current[d])return;const S=ot.current.offsetWidth,b=mt.current[d],M=b.offsetLeft,O=b.offsetWidth,L=S/2-(M+O/2);v(L)},[d]);at.useEffect(()=>(It(),window.addEventListener("resize",It),()=>window.removeEventListener("resize",It)),[It]);const _t=S=>{C(!0),F(S.touches?S.touches[0].clientX:S.clientX),it(0),J.current&&(J.current.style.transition="none")},Dt=S=>{if(!A)return;S.preventDefault();const b=S.touches?S.touches[0].clientX:S.clientX;it(b-D)},x=()=>{if(!A)return;C(!1),J.current&&(J.current.style.transition="transform 0.4s cubic-bezier(0.4, 0, 0.2, 1)"),Math.abs($)>50&&($<0?g(b=>Math.min(b+1,ft.length-1)):g(b=>Math.max(b-1,0))),it(0)};return at.useEffect(()=>{const S=J.current;if(S)return S.addEventListener("touchmove",Dt,{passive:!1}),()=>{S.removeEventListener("touchmove",Dt)}},[]),i?o?I.jsx("div",{className:"menu-carousel",children:I.jsx("div",{className:"carousel-loading",children:I.jsx("div",{className:"simple-loader"})})}):h?I.jsx("div",{className:"menu-carousel",children:I.jsx("div",{className:"carousel-error",children:I.jsxs("p",{children:["Error cargando mens: ",h]})})}):ft.length===0?I.jsx("div",{className:"menu-carousel",children:I.jsx("div",{className:"carousel-loading",children:I.jsx("div",{className:"simple-loader"})})}):I.jsxs("div",{className:"menu-carousel",ref:ot,children:[I.jsx("div",{className:"carousel-track",ref:J,style:{transform:`translateX(calc(${_}px + ${$}px))`},onMouseDown:_t,onTouchStart:_t,onMouseMove:Dt,onTouchMove:Dt,onMouseUp:x,onTouchEnd:x,onMouseLeave:x,children:ft.map((S,b)=>{const M=b===d;return I.jsx("div",{className:`carousel-slide ${M?"active":""}`,ref:O=>mt.current[b]=O,children:I.jsx(wE,{type:S,menuData:s[S],onMore:()=>a&&a(S)})},S)})}),I.jsx("div",{className:"carousel-dots",children:ft.map((S,b)=>I.jsx("button",{className:`dot ${b===d?"active":""}`,onClick:()=>g(b),"aria-label":`Ir a slide ${b+1}`},b))})]}):I.jsx("div",{className:"menu-carousel",children:I.jsx("div",{className:"carousel-loading",children:I.jsx("div",{className:"simple-loader"})})})},fb=({prefix:a="Nuestros",words:e=["cocteles","cafs","desayunos","meriendas","cenas","tragos","brunchs"],typingSpeed:i=90,deleteSpeed:s=55,pauseTime:o=1200,loop:h=!0,className:d=""})=>{const[g,_]=at.useState(0),[v,A]=at.useState(0),[C,D]=at.useState(!1),[F,$]=at.useState(!0);at.useEffect(()=>{if(!e.length)return;const J=e[g];if(!C&&v===J.length){const ot=setTimeout(()=>D(!0),o);return()=>clearTimeout(ot)}if(C&&v===0){const ot=(g+1)%e.length;if(!h&&ot===0)return;D(!1),_(ot);return}const mt=setTimeout(()=>{A(ot=>ot+(C?-1:1))},C?s:i);return()=>clearTimeout(mt)},[v,g,C,e,i,s,o,h]),at.useEffect(()=>{const J=setTimeout(()=>$(mt=>!mt),500);return()=>clearTimeout(J)},[F]);const it=e.length?e[g]:"";return I.jsxs("span",{className:`tw-wrapper ${d}`,children:[a?I.jsx("span",{className:"tw-prefix",children:a}):null,a?" ":null,I.jsxs("span",{className:"tw-typing","aria-live":"polite","aria-label":`${a} ${it}`,children:[I.jsx("span",{className:"tw-text",children:it.substring(0,v)}),I.jsx("span",{className:`tw-caret${F?" visible":""}`,"aria-hidden":"true"})]})]})},db=({onSelect:a})=>{const[e,i]=at.useState(!1);return at.useEffect(()=>{const s=requestAnimationFrame(()=>i(!0));return()=>cancelAnimationFrame(s)},[]),I.jsxs("header",{className:"site-header","data-entered":e?"true":"false",children:[I.jsx(gE,{}),I.jsxs("div",{className:"header-inner",children:[I.jsx("div",{className:"logo-wrapper",children:I.jsx("img",{src:P_,alt:"Groove Cafe",className:"logo"})}),I.jsxs("h2",{className:"header-title header-title--stack","aria-live":"polite",children:[I.jsx("span",{className:"header-title__top",children:"Nuestros"}),I.jsx("span",{className:"header-title__bottom",children:I.jsx(fb,{prefix:"",words:["cocteles","cafs","desayunos","almuerzos","tragos"]})})]}),I.jsx(hb,{onSelect:a})]}),I.jsxs("a",{href:"#nosotros",className:"scroll-cue","aria-label":"Quers saber ms de nosotros?",children:[I.jsx("span",{className:"text",children:"Quers saber ms de nosotros?"}),I.jsx("span",{className:"arrow","aria-hidden":"true",children:I.jsx("svg",{viewBox:"0 0 24 24",width:"22",height:"22",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",focusable:"false","aria-hidden":"true",children:I.jsx("path",{d:"M6 9l6 6 6-6"})})})]})]})},mb="/groove_web/Groove_logo.svg",z_=()=>mb,gb=({cat:a,open:e,onToggle:i})=>I.jsxs("div",{className:`md-cat ${e?"open":""}`,children:[I.jsxs("button",{className:"md-cat-header",onClick:()=>i(a.id),"aria-expanded":e,children:[I.jsx("span",{className:"md-cat-name",children:a.name}),I.jsx("span",{className:"md-cat-arrow","aria-hidden":!0,children:I.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:I.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),I.jsx("div",{className:"md-cat-panel",style:{maxHeight:e?`${a.items.length*128+24}px`:0},children:I.jsx("ul",{className:"md-items",children:a.items.map((s,o)=>I.jsxs("li",{className:"md-item",children:[I.jsx("div",{className:"md-item-media",children:I.jsx("img",{src:s.img||z_(),alt:s.name,className:s.img?"":"placeholder",onError:h=>{h.target.src=z_(),h.target.className="placeholder"}})}),I.jsxs("div",{className:"md-item-body",children:[I.jsxs("div",{className:"md-item-row",children:[I.jsx("h4",{className:"md-item-name",children:s.name}),I.jsx("span",{className:"md-item-price",children:s.price})]}),I.jsx("p",{className:"md-item-desc",children:s.desc}),s.trackStock&&I.jsx("div",{className:"md-item-stock",children:s.stock>0?I.jsx("span",{className:`stock-indicator ${s.stock<=5?"low":"normal"}`,children:s.stock<=5?`Quedan ${s.stock}`:"Disponible"}):I.jsx("span",{className:"stock-indicator out",children:"Sin stock"})})]})]},s.id))})})]}),pb=({menuType:a})=>{const e=at.useRef(null),{menuSDK:i,isInitialized:s,error:o}=S0(),{grooveMenus:h,loading:d}=b0(i),{categories:g,loading:_,error:v}=cb(i,a),[A,C]=at.useState(null),D=at.useMemo(()=>d||!s||!h[a]?null:h[a],[h,a,d,s]),F=d||_;at.useEffect(()=>{C(null)},[a]),at.useEffect(()=>{e.current&&g&&g.length>0&&e.current.scrollIntoView({behavior:"smooth",block:"start"})},[g]);const $=it=>C(J=>J===it?null:it);return s?o?I.jsx("section",{className:"menu-dropdown",children:I.jsx("div",{className:"md-container",children:I.jsxs("div",{className:"error-state",children:[I.jsxs("p",{children:[" Error de conexin: ",o]}),I.jsx("p",{children:"Por favor, intenta recargar la pgina."})]})})}):F?I.jsx("section",{className:"menu-dropdown",children:I.jsx("div",{className:"md-container",children:I.jsx("div",{className:"loading-state",children:I.jsx("div",{className:"simple-loader"})})})}):v?I.jsx("section",{className:"menu-dropdown",children:I.jsx("div",{className:"md-container",children:I.jsxs("div",{className:"error-state",children:[I.jsxs("p",{children:[" Error cargando men: ",v]}),I.jsx("p",{children:"Por favor, intenta nuevamente."})]})})}):!g||g.length===0?I.jsx("section",{className:"menu-dropdown",children:I.jsx("div",{className:"md-container",children:I.jsxs("div",{className:"empty-state",children:[I.jsx("p",{children:" No hay elementos disponibles en este men."}),I.jsx("p",{children:"Intenta seleccionar otro men."})]})})}):I.jsx("section",{ref:e,id:"menu-dropdown",className:"menu-dropdown",children:I.jsxs("div",{className:"md-container",children:[I.jsx("h2",{className:"md-title",children:D?.title||"Men"}),I.jsx("div",{className:"md-list",children:g.map(it=>I.jsx(gb,{cat:it,open:A===it.id,onToggle:$},it.id))})]})}):I.jsx("section",{className:"menu-dropdown",children:I.jsx("div",{className:"md-container",children:I.jsx("div",{className:"loading-state",children:I.jsx("div",{className:"simple-loader"})})})})};function yb(a){return ri({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 3a1 1 0 00-1.447-.894L8.763 6H5a3 3 0 000 6h.28l1.771 5.316A1 1 0 008 18h1a1 1 0 001-1v-4.382l6.553 3.276A1 1 0 0018 15V3z",clipRule:"evenodd"},child:[]}]})(a)}function _b(a){return ri({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(a)}const j_="/groove_web/assets/panaderia-C3Izvqdk.png",R0="/groove_web/assets/eventos-DFFPpf0z.png",w0=({title:a,subtitle:e,bullets:i=[],badges:s=[],isFeatured:o=!1,ctaLabel:h,ctaHref:d="#",ctaOnClick:g,imageSrc:_=j_,imageAlt:v,currentImageIndex:A=0})=>{const[C,D]=at.useState(!1),[F,$]=at.useState([]);Vi.useEffect(()=>{console.log(" PremiumCard recibi badges:",s,"length:",s.length)},[s]),Vi.useEffect(()=>{Array.isArray(_)?$(_):$([_]),D(!1)},[_]);const it=mt=>{console.warn(" PremiumCard: Error cargando imagen:",F[mt]),!C&&mt===0&&(D(!0),$([j_]))},J=mt=>{g&&(mt.preventDefault(),g())};return I.jsxs("article",{className:`premium-card ${o?"is-featured":""}`,children:[I.jsxs("div",{className:"premium-card__media",children:[o&&I.jsxs("div",{className:"featured-badge",children:[I.jsx(yb,{}),"Anuncio destacado"]}),I.jsx("div",{className:"premium-card__slider",children:I.jsx("div",{className:"premium-card__slides",style:{transform:`translateX(-${A*100}%)`,transition:"transform 0.6s ease-in-out"},children:F.map((mt,ot)=>I.jsx("div",{className:"premium-card__slide",children:I.jsx("img",{src:mt,alt:`${v} - imagen ${ot+1}`,loading:"lazy",onError:()=>it(ot)})},ot))})}),I.jsx("div",{className:"premium-card__overlay","aria-hidden":"true"}),I.jsx("h3",{className:"premium-card__title",children:a})]}),I.jsxs("div",{className:"premium-card__content",children:[e&&I.jsx("p",{className:"premium-card__subtitle",children:e}),!!s.length&&I.jsxs("div",{className:"premium-card__badges",children:[console.log(" Renderizando",s.length,"badges"),s.map((mt,ot)=>(console.log(" Renderizando badge:",mt),I.jsx("span",{className:"premium-card__badge",children:mt},ot)))]}),!!i.length&&I.jsx("ul",{className:"premium-card__bullets",children:i.map((mt,ot)=>I.jsx("li",{children:mt},ot))}),I.jsxs("a",{className:"premium-card__cta",href:d,onClick:J,target:g?"_blank":void 0,rel:g?"noopener noreferrer":void 0,children:[I.jsx("span",{children:h}),I.jsx("svg",{className:"arrow",viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",focusable:"false",children:I.jsx("path",{d:"M5 12h14M13 5l7 7-7 7"})})]})]})]})};function C0(a){const[e,i]=at.useState([]),[s,o]=at.useState(!0),[h,d]=at.useState(null);return at.useEffect(()=>{if(!a){o(!1);return}let _=null;return(async()=>{try{if(o(!0),d(null),typeof a.subscribeToAnnouncements=="function")console.log(" useAnnouncements: Setting up real-time subscription..."),_=a.subscribeToAnnouncements(A=>{console.log(" useAnnouncements: Real-time update:",A.length,"announcements"),i(A||[]),o(!1),d(null)});else if(typeof a.getAnnouncements=="function"){console.log(" useAnnouncements: Fetching announcements (one-time)...");const A=await a.getAnnouncements();i(A||[]),o(!1)}else console.warn(" useAnnouncements: SDK does not support announcements"),i([]),o(!1)}catch(A){console.error(" useAnnouncements error:",A),d(A.message),i([]),o(!1)}})(),()=>{_&&typeof _=="function"&&(console.log(" useAnnouncements: Cleaning up subscription"),_())}},[a]),{announcements:e,loading:s,error:h,refresh:async()=>{if(!(!a||typeof a.getAnnouncements!="function"))try{o(!0),d(null);const _=await a.getAnnouncements();i(_||[])}catch(_){console.error(" useAnnouncements refresh error:",_),d(_.message),i([])}finally{o(!1)}}}}const vb=new Zd(Wn.firebaseConfig,Wn.businessId),B_=a=>{if(typeof a=="string"){const e=a.trim();if(e==="")return{valid:!1,error:"URL vaca"};try{return new URL(e),{valid:!0,url:e}}catch(i){return e.includes("firebase")||e.includes("storage")||e.startsWith("/")?{valid:!0,url:e}:{valid:!1,error:"URL string no vlida",originalError:i.message}}}if(typeof a=="object"&&a!==null){const e=a.url||a.src||a.downloadURL;if(e&&typeof e=="string"){const i=e.trim();if(i==="")return{valid:!1,error:"URL en objeto vaca"};try{return new URL(i),{valid:!0,url:i}}catch(s){return{valid:!1,error:"URL en objeto no vlida",originalError:s.message}}}return{valid:!1,error:"Objeto no contiene URL vlida"}}return{valid:!1,error:"Tipo de imagen no soportado"}},Eb=()=>{const a=at.useRef(null),{announcements:e,loading:i,error:s}=C0(vb),[o,h]=at.useState({});return at.useEffect(()=>{if(e.length===0)return;const d=[];return e.forEach((g,_)=>{if(!g||!g.images||g.images.length<=1)return;const v=g.images.filter(C=>B_(C).valid);if(v.length<=1)return;const A=setInterval(()=>{h(C=>({...C,[g.id]:((C[g.id]||0)+1)%v.length}))},3e3+_*500);d.push(A)}),()=>{d.forEach(g=>clearInterval(g))}},[e]),at.useEffect(()=>{console.log(" BodyAds: Anuncios cargados:",e),e.length>0&&e.forEach((d,g)=>{console.log(` Anuncio ${g}:`,{id:d.id,title:d.title,isFeatured:d.isFeatured,images:d.images,imagesType:typeof d.images,hasImages:d.images&&Array.isArray(d.images)&&d.images.length>0})})},[e]),i&&console.log(" BodyAds: Cargando anuncios..."),s&&console.error(" BodyAds: Error cargando anuncios:",s),at.useEffect(()=>{const d=a.current;if(!d)return;let g=0;const _=()=>{g=0;const A=d.getBoundingClientRect(),C=window.innerHeight||document.documentElement.clientHeight,D=1-(A.top-C*.25)/(C*.75),F=Math.max(0,Math.min(1,D));d.style.setProperty("--p",F.toFixed(3))},v=()=>{g||(g=requestAnimationFrame(_))};return window.addEventListener("scroll",v,{passive:!0}),window.addEventListener("resize",v),v(),()=>{window.removeEventListener("scroll",v),window.removeEventListener("resize",v),g&&cancelAnimationFrame(g)}},[]),I.jsx("section",{id:"nosotros",ref:a,className:`body-ads ${e.length===0?"no-announcements":""}`,"aria-label":"Conoc ms sobre nosotros",children:I.jsx("div",{className:"body-ads__inner",children:I.jsxs("div",{className:"stack",children:[e.length>0&&(()=>{try{return e.map((d,g)=>{let _=[R0];if(console.log(" BodyAds: Procesando imgenes del anuncio:",{announcementId:d.id,images:d.images,imagesType:typeof d.images,imagesLength:d.images?d.images.length:0}),d.images&&Array.isArray(d.images)&&d.images.length>0){const C=[];d.images.forEach((D,F)=>{const $=B_(D);console.log(` Validando imagen ${F}:`,D,"resultado:",$),$.valid&&C.push($.url)}),C.length>0?(_=C,console.log(` BodyAds: ${C.length} imgenes vlidas encontradas`)):console.log(" BodyAds: No se encontraron imgenes vlidas, usando imagen por defecto")}else console.log(" BodyAds: Sin imgenes o formato invlido, usando imagen por defecto");console.log(" BodyAds: Anuncio",d.id,"con",_.length,"imgenes vlidas"),console.log(" Badges raw:",d.badges);const v=d.badges?.filter(C=>(console.log(" Procesando badge:",C,"tipo:",typeof C),C&&typeof C=="string"&&C.trim()!==""))||[];console.log(" Badges procesadas:",v);let A="stack-item";return g===0?A+=" is-first":g===1?A+=" is-second":g===2&&(A+=" is-third"),I.jsx("div",{className:A,children:I.jsx(w0,{title:d.title||"Anuncio especial",subtitle:d.description||"Descubre ms sobre esta oferta especial",badges:v,bullets:[],isFeatured:d.isFeatured||!1,ctaLabel:d.urlText||"Ver ms",ctaHref:d.url||"#",imageSrc:_,imageAlt:d.title||"Anuncio",currentImageIndex:(o[d.id]||0)%_.length})},`announcement-${d.id}`)})}catch(d){return console.error(" BodyAds: Error renderizando anuncios:",d),null}})(),i&&I.jsx("div",{className:"stack-item is-first",children:I.jsxs("div",{className:"announcements-loading",children:[I.jsx("div",{className:"loading-spinner"}),I.jsx("p",{children:"Cargando anuncios..."})]})})]})})})},Tb="+54 9 3489 575769",D0="https://api.whatsapp.com/send/?phone=5493489575769&text&type=phone_number&app_absent=0",ma={handle:"groove_cafe",href:"https://www.instagram.com/groove_cafe/",title:"Instagram Caf"},Pf={handle:"groove_casadepan",href:"https://www.instagram.com/groove_casadepan/",title:"Instagram Panadera"},Ab=()=>{const a=new Date().getFullYear();return I.jsxs("footer",{className:"site-footer",role:"contentinfo",children:[I.jsx("div",{className:"footer-divider","aria-hidden":"true"}),I.jsxs("div",{className:"footer-inner",children:[I.jsxs("div",{className:"footer-brand",children:[I.jsx("img",{src:P_,alt:"Groove Caf",className:"footer-logo"}),I.jsx("p",{className:"footer-tagline",children:"Caf & Rest"})]}),I.jsxs("nav",{className:"footer-links","aria-label":"Redes sociales",children:[I.jsx("a",{href:ma.href,target:"_blank",rel:"noreferrer noopener",title:ma.title,"aria-label":ma.title,children:I.jsx(H_,{"aria-hidden":"true"})}),I.jsx("a",{href:D0,target:"_blank",rel:"noreferrer noopener",title:"WhatsApp","aria-label":"WhatsApp",children:I.jsx(G_,{"aria-hidden":"true"})})]}),I.jsx("div",{className:"footer-meta",children:I.jsxs("small",{className:"legal",children:[" ",a," Creado por ",I.jsx("a",{href:"https://jmcdev.site",target:"_blank",rel:"noreferrer noopener",children:"JMCDEV"}),". Todos los derechos reservados."]})})]})]})},N0=encodeURIComponent("Av. Int. Jorge Ruben Varela 512, B7223 Campana, Provincia de Buenos Aires"),Sb=`https://www.google.com/maps?q=${N0}&output=embed`,bb=()=>{const a=at.useRef(null),[e,i]=at.useState(!1);return at.useEffect(()=>{const s=a.current;if(!s)return;const o=new IntersectionObserver(h=>{h.forEach(d=>{d.isIntersecting&&(i(!0),o.disconnect())})},{root:null,threshold:.2});return o.observe(s),()=>o.disconnect()},[]),I.jsx("section",{id:"info",className:"info-section","aria-label":"Informacin de contacto y ubicacin",ref:a,"data-entered":e?"true":"false",children:I.jsxs("div",{className:"info__inner",children:[I.jsxs("div",{className:"info__header",children:[I.jsx("h2",{className:"info__title",children:"Encontranos"}),I.jsx("p",{className:"info__subtitle",children:"Ubicacin, horarios y formas de contacto"})]}),I.jsxs("div",{className:"info__grid",children:[I.jsxs("div",{className:"info__details","aria-label":"Datos de contacto",children:[I.jsxs("div",{className:"info-item",children:[I.jsx("div",{className:"info-item__icon","aria-hidden":"true",children:I.jsx(bE,{})}),I.jsxs("div",{className:"info-item__content",children:[I.jsx("h3",{className:"info-item__title",children:"Ubicacin"}),I.jsx("p",{className:"info-item__text",children:"Av. Int. Jorge Ruben Varela 512, B7223 Campana, Provincia de Buenos Aires"}),I.jsx("a",{className:"info-item__link",href:`https://www.google.com/maps/search/?api=1&query=${N0}`,target:"_blank",rel:"noreferrer noopener",children:"Ver en Google Maps"})]})]}),I.jsxs("div",{className:"info-item",children:[I.jsx("div",{className:"info-item__icon","aria-hidden":"true",children:I.jsx(G_,{})}),I.jsxs("div",{className:"info-item__content",children:[I.jsx("h3",{className:"info-item__title",children:"WhatsApp"}),I.jsx("p",{className:"info-item__text",children:Tb}),I.jsx("a",{className:"info-item__link",href:D0,target:"_blank",rel:"noreferrer noopener",children:"Escribinos por WhatsApp"})]})]}),I.jsxs("div",{className:"info-item",children:[I.jsx("div",{className:"info-item__icon","aria-hidden":"true",children:I.jsx(H_,{})}),I.jsxs("div",{className:"info-item__content",children:[I.jsx("h3",{className:"info-item__title",children:"Instagram"}),I.jsxs("div",{className:"info-chips",role:"list",children:[I.jsxs("a",{role:"listitem",className:"chip",href:ma.href,target:"_blank",rel:"noreferrer noopener",title:ma.title,children:["@",ma.handle]}),I.jsxs("a",{role:"listitem",className:"chip",href:Pf.href,target:"_blank",rel:"noreferrer noopener",title:Pf.title,children:["@",Pf.handle]})]})]})]}),I.jsxs("div",{className:"info-item",children:[I.jsx("div",{className:"info-item__icon","aria-hidden":"true",children:I.jsx(SE,{})}),I.jsxs("div",{className:"info-item__content",children:[I.jsx("h3",{className:"info-item__title",children:"Horarios"}),I.jsx("ul",{className:"info-hours",children:I.jsxs("li",{children:[I.jsx("strong",{children:"Lun a Sab:"})," 15:30  00:00"]})}),I.jsx("p",{className:"info-item__note",children:"Reservas y eventos: escribinos y coordinamos tu fecha."})]})]})]}),I.jsx("div",{className:"info__map","aria-label":"Mapa de Google con la ubicacin",children:I.jsx("div",{className:"map-card",children:I.jsx("iframe",{title:"Mapa de Groove Caf en Campana",src:Sb,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",allowFullScreen:!0})})})]})]})})},Rb=({isOpen:a,onClose:e,children:i,showCloseButton:s=!0,closeOnBackdropClick:o=!0,className:h=""})=>{if(at.useEffect(()=>{if(!a)return;const g=_=>{_.key==="Escape"&&e()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[a,e]),at.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[a]),!a)return null;const d=g=>{o&&g.target===g.currentTarget&&e()};return I.jsx("div",{className:"modal-backdrop",onClick:d,children:I.jsxs("div",{className:`modal-content ${h}`,children:[s&&I.jsx("button",{className:"modal-close",onClick:e,"aria-label":"Cerrar modal",children:I.jsx(_b,{})}),i]})})},wb=a=>{if(typeof a=="string"){const e=a.trim();if(e==="")return{valid:!1,error:"URL vaca"};try{return new URL(e),{valid:!0,url:e}}catch(i){return e.includes("firebase")||e.includes("storage")||e.startsWith("/")?{valid:!0,url:e}:{valid:!1,error:"URL string no vlida",originalError:i.message}}}if(typeof a=="object"&&a!==null){const e=a.url||a.src||a.downloadURL;if(e&&typeof e=="string"){const i=e.trim();if(i==="")return{valid:!1,error:"URL en objeto vaca"};try{return new URL(i),{valid:!0,url:i}}catch(s){return{valid:!1,error:"URL en objeto no vlida",originalError:s.message}}}return{valid:!1,error:"Objeto no contiene URL vlida"}}return{valid:!1,error:"Tipo de imagen no soportado"}},Cb=({isOpen:a,onClose:e,announcement:i})=>{const[s,o]=at.useState(0);let h=[R0];if(i&&i.images&&Array.isArray(i.images)&&i.images.length>0){const _=[];i.images.forEach(v=>{const A=wb(v);A.valid&&_.push(A.url)}),_.length>0&&(h=_)}if(at.useEffect(()=>{if(!i||h.length<=1||!a)return;const _=setInterval(()=>{o(v=>(v+1)%h.length)},3500);return()=>clearInterval(_)},[i,h.length,a]),at.useEffect(()=>{o(0)},[i?.id]),!i)return null;const d=i.badges?.filter(_=>_&&typeof _=="string"&&_.trim()!=="")||[],g=()=>{window.scrollTo({top:0,behavior:"smooth"}),e()};return I.jsx(Rb,{isOpen:a,onClose:e,className:"featured-modal",children:I.jsx(w0,{title:i.title||"Anuncio especial",subtitle:i.description||"Descubre ms sobre esta oferta especial",badges:d,bullets:[],isFeatured:!1,ctaLabel:i.urlText||"Ver ms",ctaHref:"#",ctaOnClick:g,imageSrc:h,imageAlt:i.title||"Anuncio",currentImageIndex:s})})},Bu="groove_featured_modal_shown",Db=a=>{const[e,i]=at.useState(!1),[s,o]=at.useState(null);return at.useEffect(()=>{if(!a||a.length===0)return;const g=a.find(_=>_.isFeatured);if(g){o(g);let _={};try{const C=localStorage.getItem(Bu);if(C){const D=JSON.parse(C);typeof D=="object"&&D!==null?_=D:localStorage.removeItem(Bu)}}catch{console.log("Clearing old modal storage format"),localStorage.removeItem(Bu),_={}}const v=new Date().toDateString();if(!(_[g.id]===v)){const C=setTimeout(()=>{i(!0);const D={..._,[g.id]:v};localStorage.setItem(Bu,JSON.stringify(D))},1e3);return()=>clearTimeout(C)}}},[a]),{isModalOpen:e,featuredAnnouncement:s,closeModal:()=>{i(!1)},showModal:()=>{s&&i(!0)}}},Nb=new Zd(Wn.firebaseConfig,Wn.businessId);function Ib(){const[a,e]=at.useState(null);return I.jsx(ab,{children:I.jsx(Vb,{onSelectMenu:e,selectedMenu:a})})}function Vb({onSelectMenu:a,selectedMenu:e}){const{announcements:i}=C0(Nb),{isModalOpen:s,featuredAnnouncement:o,closeModal:h}=Db(i);return I.jsxs(I.Fragment,{children:[I.jsx(db,{onSelect:a}),e&&I.jsx(pb,{menuType:e}),I.jsx(Eb,{}),I.jsx(bb,{}),I.jsx(Ab,{}),I.jsx(Cb,{isOpen:s,onClose:h,announcement:o})]})}cE.createRoot(document.getElementById("root")).render(I.jsx(at.StrictMode,{children:I.jsx(Ib,{})}));
